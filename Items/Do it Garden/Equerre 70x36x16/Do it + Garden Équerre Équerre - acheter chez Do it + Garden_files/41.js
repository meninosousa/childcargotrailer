(window.webpackJsonp=window.webpackJsonp||[]).push([[41,32,42,63,69,70,182],{1008:function(e,t,a){"use strict";a.d(t,"b",(function(){return N}));var o=a(1),i=a.n(o),n=a(5),l=a(4),s=a(911);const r={icon:l.b.AVAILABILITY_FULL_CIRCLE,className:s.a.red},c={icon:l.b.AVAILABILITY_UNKNOWN,className:s.a.black},d={icon:l.b.AVAILABILITY_PREORDER,className:s.a.green},u={icon:l.b.AVAILABILITY_SHOP_DELIVERY,className:s.a.black},m={icon:l.b.AVAILABILITY_NEXT_DAY,className:s.a.green},p={icon:l.b.AVAILABILITY_FULL_CIRCLE,className:s.a.orange},b={notorderable:r,unknown:c,preorder:d,shopdelivery:u,nextday:m,reservable:u,p2c:p},v={fullcircle:l.b.AVAILABILITY_FULL_CIRCLE,threequarter:l.b.AVAILABILITY_THREE_QUARTER,halfcircle:l.b.AVAILABILITY_HALF_CIRCLE,onequarter:l.b.AVAILABILITY_ONE_QUARTER};var h=a(13),g=a(954),E=a(14),_=a(30),C=a(15),f=a(101),O=a(128),S=a(77);const N=e=>{if(e){if(e.includes(".")){const t=e.split(".");return{icon:v[t[1]],className:s.a[t[0]]}}return b[e]}return c},y=e=>{const{availabilityDetails:{availabilityText:t,availableInStore:a,icon:o,shippingCosts:r,shippingMethod:c,shippingMethodHeader:d}}=e,{isDesktop:u}=Object(n.useSelector)(C.m),m=N(o);if(!m)return null;const p=i.a.createElement("div",{className:s.a.container,style:{pointerEvents:"auto"}},i.a.createElement("div",{className:s.a.containerInner},i.a.createElement(E.a,{className:s.a.title,code:"availability.header"}),i.a.createElement("div",{className:s.a.containerWithSvg},i.a.createElement(_.a,{symbol:m.icon,className:m.className}),i.a.createElement("p",{className:`${s.a.textWithIcon} ${m.className}`},t))),c&&i.a.createElement("div",{className:s.a.containerInner},i.a.createElement("p",{className:s.a.title},d),i.a.createElement("p",{className:s.a.text},c)),a&&i.a.createElement("div",{className:s.a.containerInner},i.a.createElement(E.a,{className:s.a.title,code:"availableinstore.header"}),i.a.createElement("p",{className:s.a.text},i.a.createElement(E.a,{code:"availableinstore.text"}))),r&&i.a.createElement("div",{className:s.a.containerInner},i.a.createElement(E.a,{className:s.a.title,code:"shippingcosts.header"}),i.a.createElement("p",{className:s.a.text},r)),"notorderable"===o&&i.a.createElement("div",{className:s.a.containerInner},i.a.createElement(E.a,{className:s.a.text,code:"availability.notorderable.infotext"}))),b=Object(h.b)([!u&&s.a.svgMobile,O.a.iconAvailibility]);return i.a.createElement("div",{className:`${g.a.tileAvailability} ${m.className}`},u?i.a.createElement(f.a,{className:b,content:p,symbol:i.a.createElement(_.a,{symbol:m.icon,size:l.a.MS}),placement:S.a.LEFT_START}):i.a.createElement(_.a,{symbol:m.icon,className:b}))},T=Object(o.forwardRef)(((e,t)=>i.a.createElement(y,Object.assign({forwardedRef:t},e))));T.displayName="TileAvailability";t.a=T},1015:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a(462);const i={},n=[],l=(e,t,a=(e=>e))=>{const l=e.form[t]||i,s=[];return o(l,((e,t)=>{e&&e.touched&&(e.asyncError||e.submitError)&&a({value:e,field:t})&&s.push(e.asyncError||e.submitError)})),s.length?s:n}},1018:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var o=a(1),i=a.n(o),n=a(89),l=a(30),s=a(4),r=a(14),c=a(5),d=a(36),u=a(1075),m=a(15),p=a(1019),b=a(10);const v={ID:{DESCRIPTION:"description",WARNING_NOTICE:"warning_notice",SPECIFICATION:"specification",BRAND_DESCRIPTION:"brand_description",DEFECT_DESCRIPTION:"defect_description",OCCASION_SLIDER:"occasion_slider",DETAIL_VARIANT_OPTION_BOX:"detail_variant_option_box"},SCROLL:{OFFSET_DESKTOP:-100,OFFSET_STICKY_HEADER:-64,OFFSET_MOBILE:-40}};t.b=Object(o.memo)((({product:e,isOutlet:t})=>{var a,o,h,g,E;const _=(null===(a=e.features)||void 0===a?void 0:a.length)>1?e.features.filter((e=>e.top_fact)):[],C=Object(c.useSelector)(d.b),f=Object(c.useSelector)(m.m),O=Object(n.h)(C),S=Object(c.useDispatch)(),N=(e,t,a)=>i.a.createElement("li",{key:e.label?e.label+JSON.stringify(t):JSON.stringify(t),className:`${p.a.detailOptionsTopfact}`},i.a.createElement("span",{className:`${p.a.detailOptionsTopfactBullet}`}),i.a.createElement("span",null,e.label,": "),a),y=()=>{S(Object(b.R)(!0));const e=f.isDesktop?v.SCROLL.OFFSET_DESKTOP+v.SCROLL.OFFSET_STICKY_HEADER:v.SCROLL.OFFSET_MOBILE;u.scroller.scrollTo(v.ID.SPECIFICATION,{duration:1e3,offset:e,smooth:!0})},T=e=>e?i.a.createElement(r.a,{code:"productDetailPage.topfacts.additional.details"}):i.a.createElement(r.a,{code:"productDetailPage.topfacts.product.details"});if(t&&!O&&!e.showTopFacts)return i.a.createElement("div",{key:"moreinfo",className:p.a.detailOptionsMoreinfoContainer,onClick:y,id:"test-detail-link-showMoreInfo"},T(_.length),i.a.createElement(l.a,{className:p.a.detailOptionsMoreinfoIcon,size:s.a.MD,symbol:s.b.HASH}));const I=[];return t&&I.push(N({label:i.a.createElement(r.a,{code:"productDetailPage.topFact.productNumber"})},e.code,e.code)),I.push(_.slice(0,e.maxQuantityTopFacts).map(((e,t)=>{const a=(Array.isArray(e.values)?e.values:[]).map(((e,t)=>i.a.createElement("span",{key:(e.value_code||e.value)+t,className:p.a.detailOptionsSpecValue},e.value)));return N(e,t,a)}))),t&&!O&&e.clientSpecificAttributes&&I.push(e.clientSpecificAttributes.map(((t,a)=>N({label:t.name},e.code+" "+t.name,t.value)))),t&&I.push(N({label:i.a.createElement(r.a,{code:"productDetailPage.topFact.outletCondition"})},null===(o=null==e?void 0:e.outletCondition)||void 0===o?void 0:o.code,null===(h=null==e?void 0:e.outletCondition)||void 0===h?void 0:h.name),N({label:i.a.createElement(r.a,{code:"productDetailPage.topFact.outletDefect"})},null===(g=null==e?void 0:e.outletDefect)||void 0===g?void 0:g.code,null===(E=null==e?void 0:e.outletDefect)||void 0===E?void 0:E.name)),I.push(i.a.createElement("div",{key:"moreinfo",className:`${p.a.detailOptionsMoreinfoContainer}`,onClick:y,id:"test-detail-link-showMoreInfo"},T(_.length),i.a.createElement(l.a,{className:p.a.detailOptionsMoreinfoIcon,size:s.a.MD,symbol:s.b.ARROW_DOWN}))),i.a.createElement("ul",{className:`${p.a.detailOptionsTopfacts}`},I)}))},1019:function(e,t,a){"use strict";t.a={"u-mq-info":"_1d497iNCKgOjqGmXj1Wy6y",uMqInfo:"_1d497iNCKgOjqGmXj1Wy6y","detail-options-lightbox-link":"_21rBQRWuJvWZk1nc2BLRCB",detailOptionsLightboxLink:"_21rBQRWuJvWZk1nc2BLRCB","detail-options-topfacts":"_3bN_0gLLVpVgu9RKPqrSwO",detailOptionsTopfacts:"_3bN_0gLLVpVgu9RKPqrSwO","detail-options-topfact":"_1w6_VV9HgR6DvBKf3jUoWc",detailOptionsTopfact:"_1w6_VV9HgR6DvBKf3jUoWc","detail-options-moreinfo-container":"_3-enIO--FH8Z6nUxzUXx33",detailOptionsMoreinfoContainer:"_3-enIO--FH8Z6nUxzUXx33","detail-options":"_3-EfzQ8awfkkueNmISj8dF",detailOptions:"_3-EfzQ8awfkkueNmISj8dF","detail-options-price":"_23Xy9Af2Nqnsd2w1ZnlDhg",detailOptionsPrice:"_23Xy9Af2Nqnsd2w1ZnlDhg","detail-options-margin-bottom":"_3ROeIEvQuLAAnG5KFkFCuC",detailOptionsMarginBottom:"_3ROeIEvQuLAAnG5KFkFCuC","detail-options-rating-margin-bottom":"_16kj-x7LOL3m648FV1AfM0",detailOptionsRatingMarginBottom:"_16kj-x7LOL3m648FV1AfM0","detail-options-productoptions":"_1kYOXA0UbouJOPdAyqVAbc",detailOptionsProductoptions:"_1kYOXA0UbouJOPdAyqVAbc","detail-options-box":"CX5p7p3Hye-fmz4YhXRzc",detailOptionsBox:"CX5p7p3Hye-fmz4YhXRzc","detail-options-topfact-bullet":"_2gjrMywOFBsSOcdK9eqnWg",detailOptionsTopfactBullet:"_2gjrMywOFBsSOcdK9eqnWg","detail-options-moreinfo-icon":"_3mqBAv0G1GAVBSdDZ9aqmN",detailOptionsMoreinfoIcon:"_3mqBAv0G1GAVBSdDZ9aqmN","detail-options-form":"_3k8LbLMdRC4NFfE1aLBK9H",detailOptionsForm:"_3k8LbLMdRC4NFfE1aLBK9H","form-item":"_3VrwrAQ0hyrTTb1BBURA0u",formItem:"_3VrwrAQ0hyrTTb1BBURA0u","form-field":"rE3Je8Fl_EYVUhJdz4hf",formField:"rE3Je8Fl_EYVUhJdz4hf","detail-options-spec-value":"_2EvveBHCta0XuNpsWt1USw",detailOptionsSpecValue:"_2EvveBHCta0XuNpsWt1USw"}},1020:function(e,t,a){"use strict";a.r(t);var o=a(5),i=a(1),n=a.n(i),l=a(228),s=a(10),r=a(14);const c=new RegExp("^[0-9]{7}$"),d=(e,t)=>{return void 0===(a=t)||c.test(a)?e||""===e?e:"":t;var a};var u="_2M8JLjOHhXLDrzkYPBFQqB";var m=Object(i.memo)((({showStoreInventory:e,stores:t,isReservation:a})=>e&&a&&t.length>0?n.a.createElement("div",{className:u},n.a.createElement(r.a,{code:"storefinder.dialog.no.warranty"})):null)),p=a(1306),b=a(13),v=a(1006),h=a(88),g=a(30),E=a(4),_="_1viiPyyIB75GBzI144_Bqd";var C=Object(i.memo)((({renderHtmlLink:e})=>{const t=n.a.createElement(r.a,{code:"storefinder.openinghours.link.title"});return n.a.createElement("div",{className:_},e?t:n.a.createElement("a",{onClick:e=>null==e?void 0:e.preventDefault(),className:"u-reset"},t))})),f=a(1303),O=a(1077),S=a(76),N=a(33),y=a(40),T=a(15),I=a(283);var P=Object(i.memo)((e=>{const{isReservation:t,product:a,store:i,index:l,type:r}=e,c=Object(o.useSelector)(y.F),d=Object(o.useSelector)(T.j),u=Object(o.useDispatch)();let m,p,b;const h=t?Object(v.a)(i,a):r===I.a.CLICK_COLLECT?"storefinder.dialog.select.store.clickandcollect":"storefinder.dialog.select.store";if(t&&i.stock&&a&&(m=Object(v.d)(i.stock),p=a.orderable,b=a.reservable,!p&&!b||!m&&!p))return null;const g=e=>{e&&e.preventDefault&&e.preventDefault(),u(Object(s.C)())};return n.a.createElement(S.a,{variant:N.b.SECONDARY,textCode:h,size:N.a.SM,testId:`test-storelist-btn--store-more-info-${l}`,onClick:a=>{if(a.stopPropagation(),t||r===I.a.CLICK_COLLECT||g(a),!t&&e.onSetStoreForProcess)e.onSetStoreForProcess(i);else{const t=m&&b;c&&c.kst===i.kst?e.onReserveProduct(c,t):(o=d,n=i.marketId||i.kst,u(Object(s.hd)(o,n))).then((()=>e.onReserveProduct(i,t)))}var o,n}})})),A="_29bEVGzwr4oz4NP8-ow-0L",j="_1bgVvCkvnoU3r9LZNoFsof",R="_2WANliLJL68oeAcwNJbELq",D="_1FIzkruBerIpNqsw_0WjJq",w=a(1034);var k=Object(i.memo)((e=>{const{store:t,isReservation:a,index:o,product:i,storeFinderPage:l=!1,onReserveProduct:s,onSetStoreForProcess:r,type:c}=e;return n.a.createElement("div",{className:j},n.a.createElement("div",{className:R},n.a.createElement("div",{className:A},Object(v.c)(t,a)),n.a.createElement(C,{renderHtmlLink:l})),n.a.createElement("div",{className:R},a&&t.stock?n.a.createElement(f.a,{stock:t.stock}):n.a.createElement(O.a,{store:t,showLogo:c!==I.a.CLICK_COLLECT,styleModifier:w.a.STORELIST}),n.a.createElement("div",{className:D},t.distance&&n.a.createElement("p",null,t.distance.toFixed(1)," km"),!l&&n.a.createElement(P,{store:t,index:o,isReservation:a,product:i,onSetStoreForProcess:r,onReserveProduct:s,type:c}))))})),x="_12AC0gijJva916D1shi7TN",L="_17GnEDRGv5_lZtg_aXgb_m",M="_2bSxrOrrR9-fsF09_KKI6q",B="_3Q1cD2MfNrVMW0QgwS7iDO",F="_2OPlYOFBSVU8RVL2IamUHZ",V="_3SJ0vuOh37aKB-LgBt8KRD",U="_2EDNgXzBkLai7pBSlzqf_K";var H,G=Object(i.memo)((e=>{const{isReservation:t,store:a,preSelected:l,index:s,product:r,onSelectStore:c,storeFinderPage:d,onReserveProduct:u,onSetStoreForProcess:m,type:p}=e,_=Object(o.useSelector)(T.o),C=Object(b.b)([x,l&&L]),f=()=>c(l,a),O=Object(i.useMemo)((()=>n.a.createElement("li",{className:M,onClick:f,"data-store":a.marketName?a.marketName.toLowerCase().replace(/[^\w]*/gi,""):"","data-reserve":t&&Object(v.d)(a.stock),"data-pickmup":a.pickmupServiceTypePresent},n.a.createElement(k,{onSetStoreForProcess:m,onReserveProduct:u,storeFinderPage:d,store:a,index:s,isReservation:t,product:r,type:p}))),[a.url,a.marketName,a.stock,t]),S=Object(i.useMemo)((()=>n.a.createElement(h.b,{className:B+" u-reset",to:a.url,"data-store":a.marketName?a.marketName.toLowerCase():"","data-reserve":t&&Object(v.d)(a.stock)},n.a.createElement(k,{onSetStoreForProcess:m,onReserveProduct:u,storeFinderPage:d,store:a,index:s,isReservation:t,product:r,type:p}))),[a.url,a.marketName,a.stock,t]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:C}),e.storeFinderPage?S:O,_?n.a.createElement("div",{className:`${F} ${U}`,onClick:f},n.a.createElement(g.a,{className:V,symbol:E.b.CHEVRON_LEFT_BIG,size:E.a.MD})):null)}));!function(e){e.marketId="marketId",e.kst="kst",e.pickupStoreId="pickupStoreId"}(H||(H={}));var q="_27bbHSU6C2jXWS0xWVXxg",W="_2z_kLvHrlUxFxZCcItZi0f",z="yhS3d3nRZWDFVrcVM5SPf";var K=Object(i.memo)((e=>{const{stores:t,isReservation:a,product:i,storeFinderPage:l,onSelectStore:s,onSetStoreForProcess:c,onReserveProduct:d,type:u}=e,{details:m}=Object(o.useSelector)(y.B),p=Object.values(H),b=m?m.marketId||m.kst||m.pickupStoreId:null;return n.a.createElement("ul",{className:q},t.length>0?t.map(((e,t)=>{return n.a.createElement("div",{className:W,key:t,"data-testid":"storelist-store"},n.a.createElement(G,{store:e,product:i,index:t,isReservation:a,preSelected:(o=e,(o[p.find((e=>e in o))]||null)===b),storeFinderPage:l,onSelectStore:s,onSetStoreForProcess:c,onReserveProduct:d,type:u}));var o})):n.a.createElement("li",{className:z},n.a.createElement(r.a,{code:"storefinder.filter.noresult"})))}));var X=Object(i.memo)((e=>{const{product:t,showDetails:a,storeFinderPage:i,onReserveProduct:l,toggleDetails:r,onSetStoreForProcess:c,onSelectStore:d,type:u}=e,m=!!l,b=Object(o.useSelector)(y.F),v=Object(o.useSelector)(T.m),h=Object(o.useSelector)(y.J),g=Object(o.useDispatch)(),E=()=>g(Object(s.C)());return b&&a?n.a.createElement(p.a,{storefinder:!0,isReservation:m,backLinkAction:r,stores:h,details:b,product:t,onReserveProduct:l,onSetStoreForProcess:c,onClose:E}):n.a.createElement(K,{isReservation:m,stores:h,details:b,product:t,storeFinderPage:i,onSelectStore:d,onSetStoreForProcess:c,onReserveProduct:l,media:v,type:u})})),Q=a(97),Y=a(303),$="_3h8SkCSZAHJQO7L7iGKl9D",J="_2K6jSVuqMS-hfs4xEdNf5t",Z="_1AcPeRxrTIVmu3eeweeVvG",ee="KMPyIv39J4ph_J_rLXPXy",te="pLxi_OgvkChPKlEG_A-2f",ae="_259b5kEm-uJHhdRZXxok_7",oe=a(28);var ie=Object(i.memo)((({suggestion:e})=>{const{screen:t}=Object(o.useSelector)(T.m),a=!e.placeId&&!e.location?n.a.createElement(r.a,{className:ae,code:"storefinder.filter.noresult"}):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:Z},n.a.createElement(g.a,{symbol:E.b.LOCATE,size:E.a.MD,className:ee})),n.a.createElement("div",{className:J},n.a.createElement("span",{className:te},e.location),t>oe.d.XS&&n.a.createElement(r.a,{code:"storefinder.autosuggest.zoom"})));return n.a.createElement("div",{id:e.placeId,className:$},a)})),ne=a(287),le=a(86);var se=Object(i.memo)((e=>{const[t,a]=Object(i.useState)(""),{userGeoLocation:l}=Object(o.useSelector)(y.B),r=Object(o.useSelector)(y.L),c=Object(o.useSelector)(T.m),d=Object(o.useSelector)(T.j),u=Object(o.useSelector)(y.M),m=Object(o.useSelector)(y.D),p=Object(o.useDispatch)(),v=e=>{p(Object(s.gd)(d,e)).then((()=>a(e)))},h=()=>{p(Object(s.de)()),a("")},g=e=>{p(Object(s.lf)(e))};Object(i.useEffect)((()=>{!location.href.includes("storefinder")&&!e.isModal||l||_()}),[]);const _=()=>{navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(C)},C=t=>{const a=t.coords.latitude,o=t.coords.longitude;p(Object(s.gc)(d,a,o)).then((()=>e.onSearchStores(l)))},f=Q((e=>{(null==e?void 0:e.length)>0&&e!==t?v(e):0===(null==e?void 0:e.length)&&t&&h()}),200),O=Object(i.useCallback)((t=>{"Enter"===t.key&&e.onSearchStores(t.currentTarget.value)}),[e.onSearchStores]),N=t?u.length?u:[{placeId:"",location:""}]:[],I=Object(b.b)([ne.a.storefinderLocation,!c.isMobileXs&&ne.a.storefinderLocationStorelist]);return n.a.createElement("div",{className:I},n.a.createElement(S.a,{onClick:_,className:ne.a.storefinderDetailsButtonIconLocate,symbol:E.b.LOCATE,symbolSize:E.a.LG}),n.a.createElement(Y.a,{autosuggestId:"test-storefinder-search",parentClasses:ne.a.storefinderDetailsInputField,name:"location",label:"storefinder.location.input.label",theme:{suggestionsContainerOpen:"suggest--suggestions-container__open store-autosuggest-container__open",suggestion:"suggest-suggestion store-autosuggest--suggestion"},value:r||"",alwaysRenderSuggestions:m,clear:!0,clearIcon:E.b.CROSS_FORMS,goIcon:E.b.SEARCH,goTitleCode:"storefinder.location.input.title",onGo:e.onSearchStores,suggestions:N,onChange:f,onKeyPress:O,onFocus:e=>{g(!0),(null==e?void 0:e.length)>=1&&e!==t&&v(e)},onBlur:()=>{g(!1)},highlightFirstSuggestion:!0,focusInputOnSuggestionSelect:!1,getSuggestionValue:e=>(null==e?void 0:e.location)||"",onSuggestionSelected:(t,a)=>{var o,i;(null===(o=null==a?void 0:a.suggestion)||void 0===o?void 0:o.location)&&e.onSearchStores(null===(i=null==a?void 0:a.suggestion)||void 0===i?void 0:i.location)},renderSuggestion:e=>n.a.createElement(ie,{suggestion:e}),onClearAction:h,suggestType:le.a.STORE}))})),re="_37lhLmOqzqRJr2WR1JpDrb",ce="_2J1epEHfaQtc7_sRMZVwVE",de="_15B42VowTe4dsNVn1vMf84",ue="_38Fi1LGhE5MZ0A77iweob7",me=a(995),pe=a(82);var be=Object(i.memo)((({name:e,logoUrl:t})=>n.a.createElement("span",{className:"form-field--label-container"},n.a.createElement("span",{className:"form-field--text"},e),n.a.createElement(pe.b,{className:"form-field--img",url:t,profiles:[oe.l.THUMBNAIL2.asDefault()],sizes:[oe.l.THUMBNAIL2]})))),ve=a(77),he="_3AedoXBxR78dVfmdNVT7-J";var ge,Ee=Object(i.memo)((e=>{const{filterOptions:t,onFilterStores:a,id:i,label:l,multipleSelectedCode:s}=e,r=Object(o.useSelector)(y.H);return(null==t?void 0:t.length)?n.a.createElement(me.a,{parentClasses:he,flyoutClass:"",flyoutOffset:4,flyoutPosition:ve.a.BOTTOM,returnObject:!0,multiSelect:!0,onMultiSelect:e=>{const t={};e.forEach((e=>{const a=e.attrs["data-filter"];t[a]=t[a]||[],!0===e.checked&&t[a].push(e.value)})),a(t)},id:i,label:l,multipleSelectedCode:s,theme:ve.b.MULTISELECT,options:t.map((e=>({value:e.id,label:e.logo?n.a.createElement(be,{name:e.name,logoUrl:e.logo}):e.name,checked:!!r[e.filterName]&&r[e.filterName].indexOf(e.id)>-1,attrs:{"data-filter":e.filterName}})))}):null})),_e="nFSdBMLI4TJd-BzV-s0et",Ce="_34AqT1fNDLDudeOGTz741a",fe="_20Edb5gaf7GpO1g-6kRbp8";!function(e){e.isReservation="availability",e.storeFinderPage="serviceTypes",e.pickmup="pickmupTypes"}(ge||(ge={}));var Oe=Object(i.memo)((e=>{const{onFilterStores:t}=e,a=Object(o.useSelector)(y.E),i=["isReservation","storeFinderPage","pickmup"].map(((o,i)=>e[o]?n.a.createElement(Ee,{key:i,onFilterStores:t,id:o,label:n.a.createElement(r.a,{code:`storefinder.${ge[o]}.input.label`}),filterOptions:a[ge[o]],multipleSelectedCode:`storefinder.filter.${o}.multiple`}):null));return n.a.createElement("div",{className:_e},n.a.createElement("div",{className:Ce},n.a.createElement(r.a,{code:"storefinder.filter.title"})),n.a.createElement("div",{className:fe},n.a.createElement(Ee,{onFilterStores:t,id:"openingTime",label:n.a.createElement(r.a,{code:"storefinder.openingtimes.input.label"}),filterOptions:a.openingTimes,multipleSelectedCode:"storefinder.filter.openingTime.multiple"}),i))}));var Se=Object(i.memo)((e=>{const{showStoreInventory:t,pickmup:a,storeFinderPage:l,onReserveProduct:r,searchStores:c,type:u=I.a.BASIC}=e,p=!!r,v=Object(o.useSelector)(T.o),h=Object(o.useSelector)(T.j),g=Object(o.useSelector)(y.J),E=Object(o.useSelector)(y.E),_=Object(o.useSelector)(y.K),C=Object(o.useSelector)(y.L),f=Object(o.useDispatch)(),O=Object(i.useCallback)((t=>{const a=d(C);if(e.product){const{code:o}=e.product||{code:""};f(Object(s.Oc)(h,o,a,t,u))}else c(a,t)}),[]),S=Object(b.c)(ce,u!==I.a.BASIC&&u!==I.a.FOOTER&&de,v&&_&&ue);return n.a.createElement("div",{className:S},n.a.createElement("div",{className:re},!v&&n.a.createElement(se,{onSearchStores:e.onSearchStores,isModal:e.isModal}),E.showFilters&&n.a.createElement(Oe,{onFilterStores:O,pickmup:a,storeFinderPage:l,isReservation:p}),n.a.createElement(m,{isReservation:p,stores:g,showStoreInventory:t}),n.a.createElement(X,Object.assign({},e))))})),Ne=a(31),ye=a(292),Te=a(22);var Ie=Object(i.memo)((({listHidden:e,onToggleList:t})=>{const a=Object(b.b)([ne.a.storefinderMobileToggle,!e&&ne.a.storefinderMobileToggleActive]),o=Object(b.b)([ne.a.storefinderMobileToggle,e&&ne.a.storefinderMobileToggleActive]);return n.a.createElement("div",{className:ne.a.storefinderMobileNav},n.a.createElement("div",{className:a,onClick:t},n.a.createElement(g.a,{symbol:E.b.LIST,size:E.a.MD})),n.a.createElement("div",{className:o,onClick:t},n.a.createElement(g.a,{symbol:E.b.MAP,size:E.a.MD})))})),Pe=a(1156),Ae=a(3),je=a(1285),Re=a.n(je);var De=Object(i.memo)((({type:e,storeFinderPage:t,toggleDetails:a,showDetails:i})=>{var l,r;const c=Object(o.useSelector)(T.m),u=Object(o.useSelector)(T.h),m=Object(o.useSelector)(y.J),p=Object(o.useSelector)(y.K),v=Object(o.useSelector)(y.F),h=Object(o.useSelector)(y.I),g=Object(o.useSelector)(y.L),E=Object(o.useDispatch)();let _=h;if(v){_={latitude:null===(l=null==v?void 0:v.location)||void 0===l?void 0:l.latitude,longitude:null===(r=null==v?void 0:v.location)||void 0===r?void 0:r.longitude}}const C=Object(b.b)([ne.a.storefinderMap,c.isMobileXs&&p&&ne.a.storefinderMapHidden]),f=!d(g),O=n.a.createElement("div",{className:C},m.length>0&&n.a.createElement(Pe.a,{stores:m,mapCenter:_,details:v,showAll:f,preSelectStore:()=>E(((e,t)=>Object(s.hd)(e,t))),toggleDetails:a,showDetails:i,isMapLibSetLoaded:u,storeFinderPage:t,type:e}));return t?n.a.createElement("div",{className:ne.a.storefinderSticky},n.a.createElement(Re.a,{enabled:!c.isMobileXs,top:Ae.d.HEADER_SMALL_HEIGHT+10,bottomBoundary:`.${ne.a.storefinderPane}`},O)):O})),we=a(50),ke=a(51),xe=a(83),Le=a(63),Me=a(48);t.default=Object(i.memo)((e=>{const{storeFinderPage:t,pickmup:a,product:c,match:u,onSetStoreForProcess:m,onReserveProduct:p,isModal:v,type:h,clickAndCollectPayloadData:g}=e,E=!!c,[_,C]=Object(i.useState)(!1),[f,O]=Object(i.useState)(!1),S=()=>C(!_),N=Object(o.useSelector)(T.o),P=Object(o.useSelector)(T.j),A=Object(o.useSelector)(y.J),j=Object(o.useSelector)(y.K),R=Object(o.useSelector)(y.F),D=Object(o.useSelector)(y.L),{storeInventory:w}=Object(o.useSelector)(Le.c),k=Object(o.useDispatch)();(()=>{const e=Object(o.useSelector)(T.h),t=Object(o.useSelector)(T.j),a=Object(o.useDispatch)();Object(i.useEffect)((()=>{if(!e){const e=Ae.d.jsLibSets.MAPS,o=Object(ye.a)().then((()=>Object(ye.c)(Ne.a.app.googleMapParams,t))),i=Object(ye.d)();Promise.all([o,i]).then((t=>{const o=t.includes(void 0);a(o?Object(s.b)({messageCode:"api.error.general.libloader",params:e}):Object(s.rd)(e))})).catch((()=>{a(Object(s.b)({messageCode:"api.error.general.libloader",params:e}))}))}}),[])})(),Object(i.useEffect)((()=>{var e;const t=null===(e=null==u?void 0:u.params)||void 0===e?void 0:e.subcode,a=d(D,t);if(E||h===I.a.CLICK_COLLECT){const{code:e}=c;B(e,a)}else!t&&A.length||L(a,null,!0);return k(Object(s.id)(P)),()=>{k(Object(s.ee)())}}),[]);const x=t=>{if(E){const{code:a=""}=e.product;B(a,t),k(Object(s.Mb)())}else L(t)},L=(e,a,o)=>{Te.a.debug(`searching for stores by location=${e}, storeFinderPage=${String(t)}`),Object(we.f)(ke.a.MSERVICE)&&(a=a||{},Object.assign(a,{serviceType:"srv"})),!o&&t&&k(e?Object(l.c)(`/${P}/cp/storefinder/${e}`):Object(l.c)(`/${P}/cp/storefinder`)),k(Object(s.pe)(P,e,a,t))},M=Object(i.useCallback)(((e,a)=>{const{marketId:o,pickupStoreId:i,url:n}=a,r=o||i;t?k(Object(l.c)(n)):!e||R&&!R.openingHours?(Te.a.debug(`opening store ${r}`),k(Object(s.hd)(P,r)).then((()=>S()))):S()}),[t,R]),B=(e,t,a)=>{Te.a.debug(`getting product availability for product ${e} by location=${t}`),k(Object(s.Oc)(P,e,t,a,h,g))},F=Object(b.b)([ne.a.storefinder,t&&ne.a.storefinderPage,f&&ne.a.storefinderListHidden]),V=Object(b.b)([ne.a.title,t&&ne.a.storefinderPageTitle,Ae.d.U_RESET]),U=Object(b.b)([ne.a.storefinderPane,t&&ne.a.storefinderPanePage]);return n.a.createElement("div",{className:F,"data-cy":"storefinder"},n.a.createElement("div",{className:ne.a.storefinderRow},n.a.createElement("h1",{className:V},n.a.createElement(r.a,{code:h===I.a.RESERVATION&&E?"storefinder.dialog.reservation-title":h===I.a.CLICK_COLLECT?"storefinder.dialog.clickcollect":t?"storefinder.page.dialog.title":"storefinder.dialog.title"})),n.a.createElement("div",{className:ne.a.storefinderItem},N&&n.a.createElement(se,{onSearchStores:x,isModal:e.isModal}),N&&n.a.createElement(Ie,{onToggleList:e=>{e.preventDefault(),O(!f)},listHidden:f}),n.a.createElement("div",{className:U},n.a.createElement(Se,{onSearchStores:x,searchStores:L,onSelectStore:M,pickmup:!!a,showDetails:_,onSetStoreForProcess:m,onReserveProduct:p,toggleDetails:S,product:c,storeFinderPage:t,showStoreInventory:w,isModal:v,type:h}),n.a.createElement(De,{toggleDetails:S,showDetails:_,storeFinderPage:t,type:h}))),(()=>{if(!j)return null;const t=n.a.createElement(r.a,{code:"storefinder.dialog.loading",className:"storefinder--loading-msg"});return n.a.createElement("div",{className:"storefinder--loading"},!e.storeFinderPage&&t,n.a.createElement(xe.a,{facet:Me.b.STOREFINDER,loaderIsVisible:j}))})()))}))},1022:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var o=a(39),i=a(1),n=a.n(i),l=a(4),s=a(13),r=a(30),c=a(14),d=a(1094),u={"u-mq-info":"A1J3Y5XSNqTtJ2Vcn7gpF",uMqInfo:"A1J3Y5XSNqTtJ2Vcn7gpF",checkbox:"_2jrq0pzyQDhyNmpp2Na-cw",input:"_3bPqRmnkR49baTu6QOjEuZ","label-container":"_1X-BipnwzwbscqXMWfwUlD",labelContainer:"_1X-BipnwzwbscqXMWfwUlD","label-icon":"_1ZHxRBqsYPgRL_0wXu1OEL",labelIcon:"_1ZHxRBqsYPgRL_0wXu1OEL","label-icon-container":"_1fd2UdUYD3D6N9drQiHdZQ",labelIconContainer:"_1fd2UdUYD3D6N9drQiHdZQ","checkbox-broad":"_3GCH3WhfTpKMDaM2yVSlK8",checkboxBroad:"_3GCH3WhfTpKMDaM2yVSlK8","checkbox-error":"_2jbXa0PT182udynEiWmJja",checkboxError:"_2jbXa0PT182udynEiWmJja","label-text":"_2qr26WzPLRW7eYBEWbxViG",labelText:"_2qr26WzPLRW7eYBEWbxViG",normal:"TnPkTSDcd0jhSoSlHm24T",smaller:"KBru2d72MsDullgqLsHY3",small:"kxWOHHkaTqJ-6X9tgCAoZ"},m=a(936);var p=e=>{const{label:t=null,labelCode:a,message:p=null,broad:b=!1,testId:v,hasFocus:h=!1,hasError:g=!1,checkboxSize:E=d.a.NORMAL}=e,_=Object(o.__rest)(e,["label","labelCode","message","broad","testId","hasFocus","hasError","checkboxSize"]),{id:C,className:f}=_,O=Object(o.__rest)(_,["id","className"]),S=Object(i.useRef)();Object(i.useEffect)((()=>{h&&(null==S||S.current.focus())}),[h,S]);const N=v?{"data-testid":v}:{},y=Object(s.c)(u.checkbox,b&&u.checkboxBroad,g&&u.checkboxError,f),T=Object(s.c)(u.labelIconContainer,u[E]);return n.a.createElement("div",{className:y},n.a.createElement("input",Object.assign({},O,{id:C,type:m.a.CHECKBOX,className:u.input,ref:S},N)),n.a.createElement("label",{htmlFor:C,className:u.labelContainer},n.a.createElement("span",{className:T},n.a.createElement("span",{className:u.labelIcon},n.a.createElement(r.a,{size:l.a.SM,symbol:l.b.CHECKMARK}))),n.a.createElement("span",{className:u.labelText},a?n.a.createElement(c.a,{code:a}):t)),p)}},1040:function(e,t,a){"use strict";t.a={"u-mq-info":"_1zeFJredS43W7RsvZ6ASZr",uMqInfo:"_1zeFJredS43W7RsvZ6ASZr","detail-title":"_2HdVT0myKaaEVb1bsqaHWR",detailTitle:"_2HdVT0myKaaEVb1bsqaHWR",title:"_2mW0Ppn0Jin8hfp9w2NQbE","detail-title-value":"_3reT6MsQ4MmKXKnryJPRoy",detailTitleValue:"_3reT6MsQ4MmKXKnryJPRoy","detail-title-value-box":"CbwlfIE1_2UeOAa7SvpAH",detailTitleValueBox:"CbwlfIE1_2UeOAa7SvpAH","detail-title-description":"naoqdpmpra7g9CPTlY326",detailTitleDescription:"naoqdpmpra7g9CPTlY326","detail-coupons--count":"lm1veLMGIcYFhyJbL4ISq",detailCouponsCount:"lm1veLMGIcYFhyJbL4ISq",coupons:"_21RJ5ryXpWLFXyeJvMJpT7","coupons-title":"_2N9nhopTfYhqWWRgxKFFcL",couponsTitle:"_2N9nhopTfYhqWWRgxKFFcL","coupons-title-inline":"_13U04DbHF-iwjW0IJZvRxX",couponsTitleInline:"_13U04DbHF-iwjW0IJZvRxX","coupons-tooltip":"_5B89fQJMuvxfuA4Qxiubq",couponsTooltip:"_5B89fQJMuvxfuA4Qxiubq","coupons-count":"_1aThchScRiob_yQJ9QRvmm",couponsCount:"_1aThchScRiob_yQJ9QRvmm"}},1042:function(e,t,a){"use strict";var o=a(1),i=a.n(o),n=a(3),l=a(14),s=a(76),r=a(13),c=a(16),d=a(995),u=a(89),m=a(4),p=a(30),b=a(185),v=a(10),h=a(5),g=a(45),E=a(291),_=a(33),C=a(62),f=a(46),O=a(35),S=a(63),N=a(101),y=a(77),T=a(15),I=a(1075),P=a(1018),A="_34BnxwBmQ9i5y8qXBuG3pp",j="Kf5PDP6dRk3NAH8dAVORW",R="_3Xnkg4IVpKgbGmXW1xXeT9",D="_27LGyu5aV4A28hoHXISKaB",w="Pb-GcZ7omhGlanQhIsT55",k="_1qfEd9RKMBh7YB1r6QiINE",x="dLh85VDq6edS-xY9-fVwy",L="_2UxrhWO27TLz7l4WcV3LVB",M="bN40XNod_C-MtiH6ddIW_",B="Tgl2b2uzUhC-i-2WwPPdX",F="_1gEvMftrYAcgeGFJo984qv",V="_2E39KFJ90hNgjxyLSFW_De",U="_3Sdm-tsoD4QEH9YlQXtQlf",H="_1xYDME5yjaE6DpLJRjc8SU",G="_2GyuxGtHn7tqjVq46kguoz",q="_3rfRVauwIVOaUbkMSHzMQ9",W="_1jzFNp9SOlbAfh5hoqmqWl",z="_12_nkenFOjgyyAWXD5l9U9",K="_3rFUDDxs3CGKoXFahB6BSh",X="_3hn59XTwoodC7NrpGpI5T4",Q=a(23);const Y=e=>{var t,a,Y,$;const{onOrderQuantityChange:J,openServicesModal:Z,product:ee,isWishlist:te,allowMissingSelection:ae,onAddToCart:oe,buyboxmini:ie=!1,noVariantSelectedErrorCallback:ne,storeFinder:le=!1}=e,se=Object(u.h)(e),re=null===(t=e.product)||void 0===t?void 0:t.quantityMultiplier,ce=!e.disabled&&e.product&&e.product.orderable,de=[],ue=Object(o.useRef)(null),me=Object(o.useRef)(null),pe=Object(h.useSelector)(T.o),[be,ve]=Object(o.useState)({isActive:!1,hasFocus:!1}),[he,ge]=Object(o.useState)({disabled:!ce,showOrderTooltip:!1}),[Ee]=Object(o.useState)(Object(h.useSelector)(O.e).loading),_e=Object(h.useSelector)(O.a),Ce=Object(h.useSelector)(S.d),fe=Object(h.useSelector)(Q.h),Oe=!ce&&(null===(a=e.product)||void 0===a?void 0:a.process2CProduct)&&Ce,Se=!Oe&&he.disabled||Oe&&_e||Oe&&fe,Ne=Object(h.useDispatch)();for(let o=0;o<n.d.QUANTITY_SELECTION_MAX;o++){const e=re||1;de[o]={value:(o+1)*e}}de[n.d.QUANTITY_SELECTION_MAX]={value:null,label:i.a.createElement(l.a,{code:"productDetailPage.order.quantityMore"})};const ye=e.disabled||!(null===(Y=e.product)||void 0===Y?void 0:Y.orderable);(void 0!==e.disabled&&e.disabled!==he.disabled||ye!==he.disabled)&&ge({disabled:ye,showOrderTooltip:!1});const[Te,Ie]=Object(o.useState)(de[0].value),Pe=()=>ge(Object.assign(Object.assign({},he),{showOrderTooltip:!1})),Ae=e=>{let t;J&&J(e),be.isActive||null!==e?be.isActive&&(null===e||""===e||e<=0)?(e=re,t={isActive:!1,hasFocus:!1}):t=be.isActive?{isActive:!0,hasFocus:!0}:{isActive:!1,hasFocus:!1}:(e="",t={isActive:!0,hasFocus:!0}),Ie(e),ve(t)},je=()=>{var e;return null===(e=ee.variantSelectionGroups)||void 0===e?void 0:e.filter((e=>!e.options.find((e=>!0===e.isCurrentlySelected))))},Re=()=>0===ee.variantSelectionGroups.length||0===je().length,De=e=>{if(Te&&!(Number(Te)>0&&Number(Te)%ee.quantityMultiplier==0)){t={modalIsActive:!0,scrollIsActive:!1,type:g.b.WIDE,class:E.a,styleModifier:"mobile-full-height",modalContent:i.a.createElement(b.c,{titleCode:"productDetailPage.quantity.lightbox.title",closeButtonTextCode:"lightbox.confirm.button.close",closeButtonVariant:_.b.SECONDARY,closeButtonSize:_.a.MD,parentClasses:"lightbox__quantifier"},i.a.createElement(l.a,{code:"productDetailPage.quantity.multiplier.info",params:ee.quantityMultiplier}))},Ne(Object(v.Ne)(t));const e=Number(Te)-Number(Te)%ee.quantityMultiplier;Ie(0===e?ee.quantityMultiplier:e)}var t;""===e&&Ie(re),ve({isActive:Te>n.d.QUANTITY_SELECTION_MAX,hasFocus:!1})},we=se?H:V,ke=Object(r.b)(["btn btn__secondary","btn__no-focus",te?"btn__md":`btn__xl ${F} ${we}`,Se||e.disabled&&"btn__disabled",Ee&&U,ie&&pe&&X,le&&W]),xe=Object(r.b)([G,Ee&&q,ie&&pe&&K]),Le=Object(r.b)([A,!be.isActive&&j]),Me=Object(r.b)([R,be.isActive&&D]),Be="form-field__facet-v-centered form-field__facet-btn-overlay form-field__buybox-order ",Fe=Object(r.b)([w,ie&&M]);return ee?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:B,onMouseEnter:()=>ge(Object.assign(Object.assign({},he),{showOrderTooltip:te&&!ee.orderable?!ee.orderable:!Re()})),onMouseLeave:Pe},i.a.createElement(s.a,{stateAttr:{disabled:(te?e.disabled:Se||e.disabled)||Ee},className:ke,ref:ue,onClick:e=>{if(e.preventDefault(),Te){if(Se||!Re()&&!ae&&!ie)return;if(Se||!Re()&&!ae&&ie){if(ne){ne(!0);const e=pe?P.a.SCROLL.OFFSET_MOBILE:P.a.SCROLL.OFFSET_DESKTOP+P.a.SCROLL.OFFSET_STICKY_HEADER;I.scroller.scrollTo(P.a.ID.DETAIL_VARIANT_OPTION_BOX,{duration:1e3,offset:e,smooth:!0})}return}Object(f.c)(n.d.MIGROS_LOGIN_SUCCESS),oe(Te,Z)}},textCode:se?"productDetailPage.order.occasion":Oe?"productDetailPage.order.checkAndOrder":Z?ee.preorder?"productDetailPage.order.preorder":"productDetailPage.order.orderOnline":"storefinder.dialog.secondContent.deliveryToStore.orderButton.text",testId:"test-detail-btn-order",loading:Ee,circleLoader:Ee}),!se&&!te&&i.a.createElement("div",{className:xe},i.a.createElement("div",{className:Le},i.a.createElement(d.a,{parentClasses:Be+"form-field__select-buybox",flyoutClass:"tooltip__buybox",flyoutOffset:10,value:Te,options:de,attrs:{disabled:Se},onChange:Ae,id:"test-select-flyout",theme:y.b.ORDER_DETAIL_BUTTON,buttonClass:ie?`form-field form-field--input ${z}`:null,buyboxmini:ie})),i.a.createElement("div",{className:Me},i.a.createElement(c.b,{parentClasses:Be+"form-field__number",ref:me,type:c.a.NUMBER,state:be,focused:be.hasFocus&&be.isActive,attrs:{min:`${re}`,disabled:Se,pattern:"\\d*"},value:Te,onChange:Ae,onEnterPress:De,onBlur:De,detailOrderButtonFocusWorkaround:!0}))),i.a.createElement(N.a,{visible:he.showOrderTooltip&&!ie,placement:y.a.BOTTOM,onHide:Pe,reference:ue,content:te&&!ee.orderable?i.a.createElement("span",{className:C.a.tooltipText},i.a.createElement(l.a,{code:"wishlist.product.not.orderable"})):i.a.createElement("span",{className:C.a.tooltipText},i.a.createElement(l.a,{code:"productDetailPage.variant.selection.select",params:null===($=je())||void 0===$?void 0:$.map((e=>e.classificationCategory.name)).join(", ")}))})),ee.quantityMultiplier>1&&i.a.createElement("div",{className:Fe},i.a.createElement("span",{className:k},i.a.createElement(p.a,{className:x,symbol:m.b.INFO,size:m.a.MD})),i.a.createElement(l.a,{className:L,code:"productDetailPage.quantity.multiplier.info",params:ee.quantityMultiplier}))):null};Y.displayName="DetailOrderButton";t.a=Object(o.memo)(Y)},1054:function(e,t,a){"use strict";var o=a(1),i=a.n(o),n=a(16),l=a(13);class s extends o.PureComponent{constructor(){super(...arguments),this.getBoundingClientRect=()=>this.$input.input.getBoundingClientRect(),this._onEntryKeyPress=e=>{const t=e.key;t>="0"&&t<="9"||e.preventDefault()},this._inputElementRef=e=>{this.$input=e}}render(){const e=Object(l.b)(["form-field__number",!this.props.custom&&"form-field__facet-compact",!this.props.custom&&"form-field__facet-h-centered"]);return i.a.createElement(n.b,Object.assign({},this.props,{ref:this._inputElementRef,parentClasses:`${this.props.parentClasses} ${e}`,name:"quantity",onKeyPress:this._onEntryKeyPress}))}}t.a=s},1070:function(e,t,a){"use strict";var o=a(39),i=a(1),n=a.n(i),l=a(4),s=a(13),r=a(30),c=a(14),d=a(314),u=a.n(d),m=a(936),p=a(1136);const b=e=>{const{hasFocus:t,hasSuccess:a,hasError:d,labelText:b,labelCode:v,testId:h,message:g=null,actions:E,inputMaskProps:_}=e,C=Object(o.__rest)(e,["hasFocus","hasSuccess","hasError","labelText","labelCode","testId","message","actions","inputMaskProps"]),{id:f,name:O,type:S=m.a.TEXT,onChange:N,onBlur:y,onFocus:T,required:I=!1,value:P,disabled:A,className:j}=C,R=Object(o.__rest)(C,["id","name","type","onChange","onBlur","onFocus","required","value","disabled","className"]),[D,w]=Object(i.useState)(P),[k,x]=Object(i.useState)(t),L=null!=P?P:D,M=e=>{var t;N?(null===(t=null==e?void 0:e.persist)||void 0===t||t.call(e),null==N||N(e)):w(e.target.value)},B=e=>{var t;null===(t=null==e?void 0:e.persist)||void 0===t||t.call(e),null==y||y(e),x(!1)},F=e=>{var t;null===(t=null==e?void 0:e.persist)||void 0===t||t.call(e),null==T||T(e),x(!0)},V=Object(s.c)(p.a.formField,p.a.resetAppereance,j),U=Object(s.c)(p.a.placeholder,(d||k||L||0===L)&&p.a.placeholderFloating,I&&p.a.placeholderRequired,A&&p.a.placeholderDisabled),H=Object(s.c)(p.a.inputGeneral,k&&p.a.inputGeneralFocus,d&&p.a.inputGeneralError,A&&p.a.inputGeneralDisabled),G=Object(s.c)(p.a.icons,p.a.iconError,d&&p.a.iconVisible),q=Object(s.c)(p.a.icons,p.a.iconSuccess,a&&p.a.iconVisible);return n.a.createElement("div",{className:V},(()=>{const e=_?u.a:"input",t={name:O||f,value:L,className:H};return h&&(t["data-testid"]=h),n.a.createElement("div",{className:p.a.formFieldInputContainer},n.a.createElement(e,Object.assign({},R,{id:f,type:S,required:I,disabled:A,onChange:M,onBlur:B,onFocus:F},t,null!=_?_:{},{mask:null==_?void 0:_.mask})),n.a.createElement("div",{className:p.a.formFieldActions},E),n.a.createElement("div",null,(()=>{if(!b&&!v)return null;const e=b||n.a.createElement(c.a,{code:v});return n.a.createElement("label",{htmlFor:f,className:U},e)})()),n.a.createElement("span",{className:G},n.a.createElement(r.a,{size:l.a.SM,symbol:l.b.CROSS})),n.a.createElement("span",{className:q},n.a.createElement(r.a,{size:l.a.SM,symbol:l.b.CHECKMARK})))})(),g)};b.displayName="FormInputComponent",t.a=b},1094:function(e,t,a){"use strict";var o;a.d(t,"a",(function(){return o})),function(e){e.NORMAL="normal",e.SMALLER="smaller",e.SMALL="small"}(o||(o={}))},1109:function(e,t,a){"use strict";var o=a(1042);a.d(t,"a",(function(){return o.a}))},1113:function(e,t,a){"use strict";var o,i=a(1),n=a.n(i),l=a(185),s=a(13),r=a(22),c=a(14),d=a(184),u=a(159),m=a(1054),p=a(16),b=a(33);!function(e){e.BWO_MONTAGE_PROVERSAND_20="BWO_MONTAGE_PROVERSAND_20"}(o||(o={}));var v=a(101),h=a(297);const g={};class E extends i.PureComponent{constructor(e){super(e),this._onCheckboxCheck=(e,t,a)=>{const i=e.value,n=a.serviceConfiguration&&a.serviceConfiguration.montagePro;e.checked?this._updateServices(i,"check",t).then((()=>{if(a.serviceConfiguration.code===o.BWO_MONTAGE_PROVERSAND_20&&this.setState({disableButton:!0}),n){const e=a.serviceConfiguration&&a.serviceConfiguration.code;this._initializeProMontageWithDataFromFrameSizeFinder(e)}})):(this._updateServices(i,"uncheck",t),this.setState({disableButton:!1}))},this._initializeProMontageWithDataFromFrameSizeFinder=e=>{if(e){if(this.$customerBodyData.height){const t=this.$customerBodyData.height;this._updateServices(e,"changeField",e,null,t,"height")}if(this.$customerBodyData.inseam){const t=this.$customerBodyData.inseam;this._updateServices(e,"changeField",e,null,t,"inseam")}}},this._updateServices=(e,t,a,o=this.props.orderQuantity,i,n)=>{const l={quantity:this.props.orderQuantity,guid:this.state.servicesData.guid,service:e,action:t,selectedQuantity:o,parentService:a,value:void 0,field:void 0};n?(l.value=i,l.field=n):this.setState({servicesLoading:!0});return this.props.onUpdateServices(l).then((e=>{this.setState({servicesData:e.payload,servicesLoading:!1})}))},this._onActionButtonClick=()=>{this.props.onActionButtonClick(this.state.servicesData.services),this.props.closeOnAction&&this.props.onClose()},this._getCustomerBodyDataFromSession=()=>{let e={};try{e=JSON.parse(sessionStorage.getItem("customerBodyData")||"{}")||g}catch(t){r.a.error(`SessionStorage: JSON parse error:${t}`)}return e},this._renderProInput=(e,t,a,o)=>{var i;if(!t||!t.serviceConfiguration)return null;const l=this.state.servicesLoading,s=t&&t.serviceConfiguration?t.serviceConfiguration.code:"",r=(null===(i=null==t?void 0:t.serviceConfiguration)||void 0===i?void 0:i.serviceProduct[e])||this.$customerBodyData[e],c=`services.lightbox.form.field.${e}`;return n.a.createElement("div",{className:"service-lightbox--table-row"},n.a.createElement(m.a,{onChange:e=>{o&&t.checked&&(""!==e?this.setState({disableButton:!1}):this.setState({disableButton:!0}))},value:r,attrs:{disabled:l},onBlur:a=>{a!==r&&this._updateServices(t.serviceConfiguration.code,"changeField",s,null,a,e)},label:`${c}.placeholder`,custom:!0,type:p.a.NUMBER,parentClasses:"service-lightbox--input-box",tooltip:a&&`${c}.tooltip`,testID:`test-lightbox-input-quantity-${t.serviceConfiguration.code}`}))},this._renderProService=(e,t,a)=>{const o=Object(s.b)([t&&"service-lightbox--label-box__secondary"]),i=`${a&&a.serviceConfiguration?a.serviceConfiguration.code:""}-${e&&e.serviceConfiguration?e.serviceConfiguration.code:""}-pro`;return n.a.createElement("div",{key:i,className:o},n.a.createElement("div",{className:"service-lightbox--table-row service-lightbox--table-row__pro-text"},n.a.createElement(c.a,{code:"services.lightbox.montage.pro.text"})),this._renderProInput("height",e,!1,!0),this._renderProInput("weight",e,!1,!1),this._renderProInput("inseam",e,!0,!1),n.a.createElement("div",{className:"service-lightbox--table-row service-lightbox--table-row__pro-info service-lightbox--table-row__block-end"},n.a.createElement(c.a,{code:"services.lightbox.montage.pro.info"})))},this._renderService=(e,t,a,o)=>{var i,l,r,c,b,g,E,_,C;const{isMobileXs:f}=this.props,O=this.state.servicesLoading,S=Object(s.b)(["service-lightbox--table-row",!t&&a||t&&a&&"service-lightbox--table-row__block-end",f&&(null==e?void 0:e.checked)&&"service-lightbox--table-row__checked"]),N=Object(s.b)(["service-lightbox--label-box",t&&"service-lightbox--label-box__secondary"]),y=Object(s.b)(["service-lightbox--quantity",t&&"service-lightbox--quantity__secondary"]),T=Object(s.b)(["price__service-lightbox",(null===(i=null==e?void 0:e.serviceConfiguration)||void 0===i?void 0:i.packageDiscount)&&"price__service-lightbox-discount",e.checkedDuplicate&&"price__service-lightbox-duplicate"]),I=(null===(l=null==o?void 0:o.serviceConfiguration)||void 0===l?void 0:l.code)||"",P=(null===(r=null==e?void 0:e.serviceConfiguration)||void 0===r?void 0:r.code)||"",A=`${I} ${P}`;return n.a.createElement("div",{key:A,className:S},n.a.createElement("div",{className:e.checkedDuplicate?"service-lightbox--label service-lightbox--label__duplicate":"service-lightbox--label"},n.a.createElement("div",{className:N},n.a.createElement(u.a,{type:p.a.CHECKBOX,id:A,name:e.serviceConfiguration.code,entries:[{value:e.serviceConfiguration.code,labelDOM:(()=>{var t,a,o,i;return(null===(a=null===(t=null==e?void 0:e.serviceConfiguration)||void 0===t?void 0:t.serviceProduct)||void 0===a?void 0:a.description)?n.a.createElement("div",{className:"service-lightbox--label-tx"},this._renderServiceName(e)):n.a.createElement("div",{className:"service-lightbox--label-tx"},n.a.createElement("span",null,null===(i=null===(o=null==e?void 0:e.serviceConfiguration)||void 0===o?void 0:o.serviceProduct)||void 0===i?void 0:i.name))})(),checked:!!e.checked,attrs:{disabled:O||!e.enabled}}],parentClasses:"form-field__service form-field__multiline",onChange:t=>{this._onCheckboxCheck(t[0],I,e)}}),(()=>{var t;if(null===(t=null==e?void 0:e.serviceConfiguration)||void 0===t?void 0:t.additionalInformation)return n.a.createElement("div",{className:"service-lightbox--label-tx2"},e.serviceConfiguration.additionalInformation)})())),n.a.createElement("div",{className:"service-lightbox--tooltip"},(()=>{var t,a;const o=null===(a=null===(t=null==e?void 0:e.serviceConfiguration)||void 0===t?void 0:t.serviceProduct)||void 0===a?void 0:a.description;return o?n.a.createElement("div",{className:"service-lightbox--label-tx"},n.a.createElement(v.a,{content:o,allowHTML:!0,appendTo:h.a.getMainModalNode})):null})()),n.a.createElement("div",{className:y},(()=>{var t,a;const o=null===(a=null===(t=null==e?void 0:e.serviceConfiguration)||void 0===t?void 0:t.serviceProduct)||void 0===a?void 0:a.selectedQuantity,i=t=>{t!==o&&this._updateServices(e.serviceConfiguration.code,"changeQuantity",I,t)},l=t=>{"number"!=typeof t&&(t=parseInt(t,10)),t!==o&&this._updateServices(e.serviceConfiguration.code,"changeQuantity",I,t)};return e.checked?n.a.createElement(m.a,{value:e.checked?o:"",max:this.props.orderQuantity,attrs:{disabled:!e.enabled||!e.checked},onBlur:i,onEnterPress:l,testID:`test-lightbox-input-quantity-${e.serviceConfiguration.code}`}):null})()),n.a.createElement("div",{className:e.checked?"service-lightbox--price":"service-lightbox--price service-lightbox--price__unchecked"},n.a.createElement(d.a,{parentClasses:T,price:null===(g=null===(b=null===(c=null==e?void 0:e.serviceConfiguration)||void 0===c?void 0:c.serviceProduct)||void 0===b?void 0:b.price)||void 0===g?void 0:g.value,currency:null===(C=null===(_=null===(E=null==e?void 0:e.serviceConfiguration)||void 0===E?void 0:E.serviceProduct)||void 0===_?void 0:_.price)||void 0===C?void 0:C.currencyIso})))},this._calculateAndRenderService=(e,t,a,o)=>{if(!e)return null;const i=e.childServices&&!!e.childServices.length,n=e.serviceConfiguration&&e.serviceConfiguration.montagePro,l=!i;return a=e.checked?a+1:a,t.push(this._renderService(e,!1,!n&&l||!e.checked&&n,null)),n&&e.checked&&!e.checkedDuplicate&&(this.$montageProServiceName=e.serviceConfiguration&&e.serviceConfiguration.code,(o=!this.$customerBodyData.height)&&(o=!(e.serviceConfiguration.serviceProduct&&e.serviceConfiguration.serviceProduct.height)),t.push(this._renderProService(e,!1,null))),i&&e.childServices.forEach(((i,n,l)=>{var s,r;const c=i.serviceConfiguration&&i.serviceConfiguration.montagePro;a=i.checked?a+1:a;const d=n===l.length-1;t.push(this._renderService(i,!0,!c&&d||!i.checked&&c,e)),c&&i.checked&&!i.checkedDuplicate&&(this.$montageProServiceName=i.serviceConfiguration&&i.serviceConfiguration.code,(o=!this.$customerBodyData.height)&&(o=!(null===(r=null===(s=null==i?void 0:i.serviceConfiguration)||void 0===s?void 0:s.serviceProduct)||void 0===r?void 0:r.height)),t.push(this._renderProService(i,!0,e)))})),{disabled:o,servicesCount:a}},this._renderServices=()=>{var e,t,a,o,i,l,r;const{servicesData:u}=this.state,m=[];let p=0,b=!1;const v=[],h=[],g=[];(null==u?void 0:u.services)&&(null==u||u.services.forEach((e=>{e.configuredMandatory?h.push(e):g.push(e)}))),v.push(g),v.push(h);const E=(null==u?void 0:u.discountTotal)&&(null===(e=null==u?void 0:u.discountTotal)||void 0===e?void 0:e.value),_=Object(s.b)(["service-lightbox--table-row service-lightbox--table-row__total",!E&&"service-lightbox--table-row__total-no-discount"]);return v[0].forEach((e=>{const t=this._calculateAndRenderService(e,m,p,b);t&&(p=t.servicesCount,b=t.disabled)})),v[1].length>0&&m.push(n.a.createElement("div",{key:"mandServiceInfo",className:"service-lightbox--table-row service-lightbox--table-row__text service-lightbox--table-row__block-end"},this._getMandatoryServicesInfo())),v[1].forEach((e=>{const t=this._calculateAndRenderService(e,m,p,b);t&&(p=t.servicesCount,b=t.disabled)})),m.push(n.a.createElement("div",{key:"totalDiscountDiv",className:E?"service-lightbox--table-row service-lightbox--table-row__spacer":"service-lightbox--table-row service-lightbox--table-row__text-block-end service-lightbox--table-row__spacer"})),E&&m.push(n.a.createElement("div",{key:`totalDiscountPriceOf${null===(t=null==u?void 0:u.services)||void 0===t?void 0:t.length}`,className:"service-lightbox--table-row service-lightbox--table-row__discount-total"},n.a.createElement("div",{className:"service-lightbox--label"},n.a.createElement(c.a,{code:"services.lightbox.discount.price.text"})),n.a.createElement("div",{className:"service-lightbox--tooltip"}),n.a.createElement("div",{className:"service-lightbox--quantity"}),n.a.createElement("div",{className:"service-lightbox--price"},n.a.createElement(d.a,{parentClasses:"price__service-lightbox",price:null===(a=null==u?void 0:u.discountTotal)||void 0===a?void 0:a.value,currency:null===(o=null==u?void 0:u.discountTotal)||void 0===o?void 0:o.currencyIso})))),m.push(n.a.createElement("div",{key:`totalPriceOf${null===(i=null==u?void 0:u.services)||void 0===i?void 0:i.length}`,className:_},n.a.createElement("div",{className:"service-lightbox--label"},n.a.createElement(c.a,{code:"services.lightbox.total.price.text"})),n.a.createElement("div",{className:"service-lightbox--tooltip"}),n.a.createElement("div",{className:"service-lightbox--quantity"}),n.a.createElement("div",{className:"service-lightbox--price"},n.a.createElement(d.a,{parentClasses:"price__service-lightbox",price:null===(l=null==u?void 0:u.serviceTotal)||void 0===l?void 0:l.value,currency:null===(r=null==u?void 0:u.serviceTotal)||void 0===r?void 0:r.currencyIso})))),{servicesDom:m,servicesCount:p,disabled:b}},this.state={servicesData:e.initialServicesData,servicesLoading:!1,disableButton:!1},this.$customerBodyData={},this.$montageProServiceName=""}componentDidMount(){this.$customerBodyData=this._getCustomerBodyDataFromSession(),""!==this.$montageProServiceName&&this._initializeProMontageWithDataFromFrameSizeFinder(this.$montageProServiceName)}_renderServiceName(e){var t,a;const o=(null===(a=null===(t=null==e?void 0:e.serviceConfiguration)||void 0===t?void 0:t.serviceProduct)||void 0===a?void 0:a.name)||"";return e.logisticServiceRequired?n.a.createElement("span",{className:"service-lightbox--label-name"}," ",`${o} `,n.a.createElement(c.a,{code:"services.lightbox.mandatory.services.qualifier"})):n.a.createElement("span",{className:"service-lightbox--label-name"},o)}_getMandatoryServicesInfo(){return n.a.createElement(c.a,{code:"services.lightbox.mandatory.services.text"})}_renderMandatoryServicesInfo(e){return e?n.a.createElement("div",{className:"service-lightbox--table-row service-lightbox--table-row__mandatory-service"},n.a.createElement("div",{className:"service-lightbox--label-mandatory-service"},n.a.createElement(c.a,{code:"services.lightbox.logistic.service.mandatory"}))):null}render(){var e,t;if(!this.state.servicesData)return null;const{isMobileXs:a}=this.props,o=this._renderServices();let i=!1;(null===(e=this.state.servicesData)||void 0===e?void 0:e.services)&&(null===(t=this.state.servicesData)||void 0===t||t.services.forEach((e=>{e.logisticServiceRequired&&(i=!0)})));const r=Object(s.b)(["service-lightbox",this.props.classNames]);return n.a.createElement(l.c,{parentClasses:r,titleCode:a?"service.lightbox.title.xs":"services.lightbox.title",closeButtonVariant:b.b.PRIMARY_OUTLINE,closeButtonSize:b.a.MD,onButtonClick:this._onActionButtonClick,buttonTextCode:o.servicesCount>0?"services.lightbox.button.withServices":"services.lightbox.button.withoutServices",buttonSize:b.a.MD,buttonsRight:!0,disabled:this.state.disableButton},n.a.createElement("div",{className:"service-lightbox--row"},n.a.createElement("div",{className:"service-lightbox--table"},a?n.a.createElement("div",{className:"service-lightbox--table-row"}):n.a.createElement("div",{className:"service-lightbox--table-row"},n.a.createElement("div",{className:"service-lightbox--label"},n.a.createElement(c.a,{code:"services.lightbox.tableheader.service"})),n.a.createElement("div",{className:"service-lightbox--tooltip"}),n.a.createElement("div",{className:"service-lightbox--quantity"},n.a.createElement(c.a,{code:"services.lightbox.tableheader.amount"})),n.a.createElement("div",{className:"service-lightbox--price"},n.a.createElement(c.a,{code:"services.lightbox.tableheader.price"}))),n.a.createElement("div",{className:"service-lightbox--table-row service-lightbox--table-row__block-end service-lightbox--table-row__spacer"}),o.servicesDom)),n.a.createElement("div",{className:"service-lightbox--row"},this._renderMandatoryServicesInfo(i)))}}E.defaultProps={closeOnAction:!0};t.a=E},1136:function(e,t,a){"use strict";t.a={"u-mq-info":"_1xYu9sITGsBvoPPUS39e_A",uMqInfo:"_1xYu9sITGsBvoPPUS39e_A","form-field":"_3mYKaAMzyLSbwhvug9zCxQ",formField:"_3mYKaAMzyLSbwhvug9zCxQ","form-field--input-container":"BpC8zGFQbX6cFBsBSiRZV",formFieldInputContainer:"BpC8zGFQbX6cFBsBSiRZV","reset-appereance":"_3wfTUsM1QQTjF05RTkZTxV",resetAppereance:"_3wfTUsM1QQTjF05RTkZTxV","input-general":"_2qEPaVGUFnuNMj7Y4ehIVn",inputGeneral:"_2qEPaVGUFnuNMj7Y4ehIVn","input-general-disabled":"_3yd9Slo0285N9uECHIK5bc",inputGeneralDisabled:"_3yd9Slo0285N9uECHIK5bc","input-general-focus":"_2TcYet7zu_tBjTwQAOd6Nq",inputGeneralFocus:"_2TcYet7zu_tBjTwQAOd6Nq","input-general-error":"_120peIjj7quUM3VyuK093P",inputGeneralError:"_120peIjj7quUM3VyuK093P",placeholder:"_3aHcQAyS_Zgjg0Io3mqZsA","placeholder-floating":"_2NOpp7CpZGZ39-xvSOUCTR",placeholderFloating:"_2NOpp7CpZGZ39-xvSOUCTR","placeholder-required":"_38YTR71Zvp2BCLx3zAPQH3",placeholderRequired:"_38YTR71Zvp2BCLx3zAPQH3","placeholder-disabled":"_3JImvS4tX2NWBuFbD6onws",placeholderDisabled:"_3JImvS4tX2NWBuFbD6onws",icons:"_3ChFASJU67mK64wKdiUnem","icon-error":"_1WM8z6wWP8_SqUDPD7yWWb",iconError:"_1WM8z6wWP8_SqUDPD7yWWb","icon-success":"YGfTSoUi4t9egItx9uVda",iconSuccess:"YGfTSoUi4t9egItx9uVda","icon-visible":"GAM1ja2fS-koWgKhRwaSB",iconVisible:"GAM1ja2fS-koWgKhRwaSB","action-general":"_336FEOt-Ty_XvOmIFgOmoi",actionGeneral:"_336FEOt-Ty_XvOmIFgOmoi","form-field--actions":"_2f-a1LcUPU6THa-fzCJ950",formFieldActions:"_2f-a1LcUPU6THa-fzCJ950"}},1154:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return s}));var o=a(127),i=a.n(o),n=a(3);const l=e=>"number"!=typeof e?"":i.a.formatNumber(e,Number.isInteger(e)?0:2,n.d.THOUSANDS_SEPARATOR,n.d.DECIMAL_SEPARATOR),s=e=>"string"!=typeof e?e:e.replace(/(\S*)(\S{3})(\S{3})(\S{3})/gi,"$1 $2 $3 $4")},1172:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var o=a(3);const i=e=>{var t;return(null===(t=(e=>(null==e?void 0:e.sharing)||o.b)(e))||void 0===t?void 0:t.socialMedia)||o.b}},1227:function(e,t,a){"use strict";var o;a.d(t,"a",(function(){return o})),function(e){e.GO="goAction",e.TOOLTIP="tooltipAction",e.CLEAR="clearAction",e.PASSWORD_VISIBILITY="passwordVisibilityAction"}(o||(o={}))},1228:function(e,t,a){"use strict";var o=a(1070);a.d(t,"a",(function(){return o.a}))},1293:function(e,t,a){"use strict";a.d(t,"a",(function(){return _e}));var o=a(1),i=a.n(o),n=a(32),l=a.n(n),s=a(24),r=a(42),c=a(129),d=a(186),u=a(14),m=a(159),p=a(16),b={a:"/public/l_a.7e5ae4fa866ae523114a772ea62ec064.png",ab:"/public/l_ab.01b4cee5c7f450ba78f15892f4cf526a.png",abc:"/public/l_abc.cffa4c9b3469349c1c0f8e84f94ee72e.png",abcd:"/public/l_abcd.be0255384061757a10d5dd7888357eb4.png",abd:"/public/l_abd.c9ba7dfb2d1fbf432301ed34ad245160.png",ac:"/public/l_ac.20bca0e6a6a5aecbdbe844b1c5357df9.png",acd:"/public/l_acd.b3f65571d82a0ee5c3a60ff620d3daac.png",ad:"/public/l_ad.1a99c5bce7403d33d786133dbf329adc.png",b:"/public/l_b.b3b3248dbfb65a759d886bdef72c1861.png",bc:"/public/l_bc.81abf061e7232b12f282ed5d44e94570.png",bcd:"/public/l_bcd.d65794a43c88ac58ddf5ae145aa0a601.png",bd:"/public/l_bd.306c80b6ba2f6d72919d8be99087dfb4.png",c:"/public/l_c.8b09d1c642480cb8521056af18c0337c.png",cd:"/public/l_cd.b601770c5ed922f78651f0154a2cb311.png",d:"/public/l_d.712babe837ba6d5cbbacd00a8488c79b.png",empty:"/public/l_empty.ce50bad98d8a11f17298a46fc9286b46.png"},v={a:"/public/p_a.afcb6e4dcaf9f34df8b73e1d8e3e1a6d.png",ab:"/public/p_ab.94ff27a0a7243efcff7e5560dfac6b11.png",abc:"/public/p_abc.fe13fca793c88f005f5a8b99e3b6fa21.png",abcd:"/public/p_abcd.75bbcb7a4d9791486ca066c2936a1354.png",abd:"/public/p_abd.7a7d2a7e256be1d29c8bcce35df76944.png",ac:"/public/p_ac.ca90d46d8935c0d565916d1f1c616e7a.png",acd:"/public/p_acd.f5933c5636dc9c3970717f06171f56e3.png",ad:"/public/p_ad.357f56bcf9a234e96c11e1ce8848e545.png",b:"/public/p_b.5f53c8c8e4eec2cf5e1998207cc4906e.png",bc:"/public/p_bc.84dd09335316cb5c049c6bc223835c68.png",bcd:"/public/p_bcd.cabe4158e5078fe19d7f8a8af83588bd.png",bd:"/public/p_bd.ced10d384df025db933bf96779d9e814.png",c:"/public/p_c.498abb1c898786d0147dc5eb2a99bd0c.png",cd:"/public/p_cd.febd6ca4218ab91ecbe100f3a417ebbd.png",d:"/public/p_d.05ff3b0e7e80c1fc952e8efd23de3abb.png",empty:"/public/p_empty.b77c5b001c315ebb0ced145fc2c27234.png"},h={a:"/public/s_a.67271abe6fe65e5b41140377dc5c5d64.png",ab:"/public/s_ab.46ba1a740ce276c7497839e6039a5089.png",abc:"/public/s_abc.6e1d669590bea86c393334c7be4f9f5f.png",abcd:"/public/s_abcd.8f807743ca5510261622f6c7b6d1390c.png",abd:"/public/s_abd.5fcfb4b502708c22bf7d0e489ccae42f.png",ac:"/public/s_ac.f9374bf30ad4150424346bc5bd3cb848.png",acd:"/public/s_acd.9e96266584c20e96d8df2eef084f211e.png",ad:"/public/s_ad.6c250a6f0c3af046d1a0455bdbe10eba.png",b:"/public/s_b.5ba9d882bb7ca1e076521e919f83edeb.png",bc:"/public/s_bc.a955c6063b031b751067884fec7ad44c.png",bcd:"/public/s_bcd.8e5c12c700bd9072b7e99fad2c4e4e70.png",bd:"/public/s_bd.7f0960d7da0e661a5da058f00242ea32.png",c:"/public/s_c.2cc4b7a3ae5356eb2d7b4ee087d41cb7.png",cd:"/public/s_cd.879c689e1206f743e68eaf9408afc6f3.png",d:"/public/s_d.a0c20d30832d3b4e9662360b3d1dd56e.png",empty:"/public/s_empty.dfaea9b171806969249568b69c978136.png"},g="_3IiIKtiEh8WeGomG6hLCuH",E="_3W2b6OebfSxcTiyg937BY4",_="_6hcCIiBUTfYw0PaQKXvGG",C="_1ln4gR0O_SASLMnmgUQDvj",f="_2gIpCBgLdRRlMbjSdueqNe",O="_31TSWOk078fhVZgOYxHqQi",S="_1U48OpUIFc4vXjBIUYwo0w",N="_2NWMyfWBy3iYxbspQZu5HE",y="_3lTNU7i5yaT-6rVp3vkZoG",T="_2NY7cBnGGCuqCY63U3Ipdb",I="_3GMbC5du_XaZruc8gqdDey",P="_2D_K4EZhgFB3aCCy6VAWtt",A="_2fc4ao-8zXy2jyt25ppOBt",j="CMLsOVa3VzKdFU2s6mXTl",R="z0AZ67e8WPN5fby49y_w6",D="_2yVQOTsk64zUydxSmJbbqk",w="_2u_NOq1psUEiWGSdqT8q00",k="_1nn3sidn3GqqdWtiE6SD_A",x="eQBSJqCemc11ONCoK9_AK",L="ySUpad0Hw4YA92BayUMLj",M="_2-tmszxrlpctXa24tQzx7H",B="_2osjb8rxvgk6WHHKZ7yThM",F="_2o-DalAXR4Q4O2GJDRZKk9",V="VHuBiXUhbZ3KiR7KkhwWk";const U="BACK",H="RIGHT",G="FRONT",q="LEFT",W="LANDSCAPE",z="PORTRAIT",K="SQUARE",X="a",Q="b",Y="c",$="d",J="empty",Z="NONE",ee="ALL",te="SELECTED";class ae extends o.PureComponent{constructor(e){super(e),this._getPictureName=()=>{let e="";return this.state.sides.BACK&&(e+=X),this.state.sides.RIGHT&&(e+=Q),this.state.sides.FRONT&&(e+=Y),this.state.sides.LEFT&&(e+=$),e||J},this._selectSide=e=>{const{showState:t}=this.props;Array.isArray(e)&&e.length>0&&t===te&&this.setState({sides:Object.assign(Object.assign({},this.state.sides),{[e[0].value]:e[0].checked})})},this._getBandingImage=()=>{switch(this.state.orientation){case"LANDSCAPE":default:return b[this._getPictureName()];case"PORTRAIT":return v[this._getPictureName()];case"SQUARE":return h[this._getPictureName()]}},this.state={orientation:W,difference:e.length-e.width,sides:{BACK:!1,RIGHT:!1,FRONT:!1,LEFT:!1}}}static getDerivedStateFromProps(e,t){let a=K;const o={},{bandingSides:i}=e.fields,n=e.length-e.width,{difference:l,orientation:s}=t;return n!==l&&(n>-20&&n<20?a=K:Number(e.length)>Number(e.width)?a=W:Number(e.length)<Number(e.width)&&(a=z),a!==s&&(o.orientation=a,o.difference=n)),i.value===t.sides||e.showState!==ee&&e.showState!==Z||(o.sides=i.value),void 0!==o.orientation||void 0!==o.sides?o:null}componentDidUpdate(e){const{bandingSides:t}=e.fields,{sides:a}=this.state;(t.value.BACK!==a.BACK||t.value.RIGHT!==a.RIGHT||t.value.FRONT!==a.FRONT||t.value.LEFT!==a.LEFT)&&(e.onChange&&e.onChange(a),t.set(a))}_getBandingClasses(e){let t=y,a=A,o=M,i=w,n=O;switch(this.state.orientation){case K:t+=" "+P,a+=" "+D,o+=" "+V,i+=" "+L,n+=" "+N;break;case W:t+=" "+T,a+=" "+j,o+=" "+B,i+=" "+k,n+=" banding--image__landscape";break;case z:t+=" "+I,a+=" "+R,o+=" "+F,i+=" "+x,n+=" "+S}return e===ee&&(t+=" form-field--checkbox__hidden",a+=" form-field--checkbox__hidden",o+=" form-field--checkbox__hidden",i+=" form-field--checkbox__hidden"),{topCheckboxClasses:t,rightCheckboxClasses:a,bottomCheckboxClasses:o,leftCheckboxClasses:i,imageClasses:n}}render(){const{parentClasses:e,showState:t,fields:a}=this.props,{topCheckboxClasses:o,rightCheckboxClasses:n,bottomCheckboxClasses:l,leftCheckboxClasses:s,imageClasses:r}=this._getBandingClasses(t);return i.a.createElement("div",{className:`${g} ${e}`},i.a.createElement("div",{className:E},i.a.createElement(d.b,{className:_,placeholder:!1,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAXCAYAAAD6FjQuAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAD7SURBVEiJ7ZXNcsIwDIS/bQOkFzj0HXrq+78amD9xsF1kD4S4Yzo9oBlNnFjO2pJ2LeCLaTsDO2CfnsHMwoM1N01mNh0gCVglH91Y3cFm/0gaqg2NwFDEAN/uvUa2mXMAR2KaswczO/iAgVgLD15v5p6pGi+Tb34+SkVctzQ6gDfKdH4Ai4zaK43ZTpTp3OV0dj/ZlInHPOsH1noySbkennPz1tJ2MgNC8i2NaiLgkysvjg3AzTYQubEGVpLeq/nfdOPduFc39gGjv4L8j5qV942UyTriBLSX+QYxruK5JQpoV949qxuNqP4BOBDvzP3TapYEYul88ac8uwAzb2m4OjigtgAAAABJRU5ErkJggg==",containerStyled:!1}),i.a.createElement(u.a,{className:C,code:"woodcutting.lightbox.grain"})),t!==Z&&i.a.createElement("div",{className:f},i.a.createElement(m.a,{type:p.a.CHECKBOX,id:"checkbox-TOP",name:"checkbox-TOP",parentClasses:o,entries:[{value:U,checked:a.bandingSides.value.BACK}],onChange:this._selectSide}),i.a.createElement(m.a,{type:p.a.CHECKBOX,id:"checkbox-RIGHT",name:"checkbox-RIGHT",parentClasses:n,entries:[{value:H,labelDOM:`${this.props.width}mm`,checked:a.bandingSides.value.RIGHT}],onChange:this._selectSide}),i.a.createElement(m.a,{type:p.a.CHECKBOX,id:"checkbox-BOTTOM",name:"checkbox-BOTTOM",parentClasses:l,entries:[{value:G,labelDOM:`${this.props.length}mm`,checked:a.bandingSides.value.FRONT}],onChange:this._selectSide}),i.a.createElement(m.a,{type:p.a.CHECKBOX,id:"checkbox-LEFT",name:"checkbox-LEFT",parentClasses:s,entries:[{value:q,checked:a.bandingSides.value.LEFT}],onChange:this._selectSide}),i.a.createElement(d.b,{className:r,lazyload:!1,src:this._getBandingImage()})))}}var oe=ae,ie=a(10),ne=a(30),le=a(1109),se=a(4),re=a(112),ce=a(15),de=a(47),ue=a(1015),me=a(17),pe=a(295),be=a(95),ve=a(127),he=a(101),ge=a(128),Ee=a(3);const _e="woodCuttingLightBox",Ce=["thickness","length","width","banding","edgeSelect","bandingSides","quantity"],fe={},Oe={valueSelector:"option",labelSelector:{value:"labelCode",translate:!0}};class Se extends o.PureComponent{constructor(){super(...arguments),this._getCorrectProduct=()=>{const{product:e,wishlistProduct:t}=this.props;return t&&t.code?t:e},this._calcChange=()=>{const{language:e,fields:t}=this.props,a={length:Number(t.length.value),width:Number(t.width.value),bandingCode:t.banding.value.option.code,back:t.bandingSides.value.BACK,right:t.bandingSides.value.RIGHT,front:t.bandingSides.value.FRONT,left:t.bandingSides.value.LEFT,quantity:t.quantity.value};this.props.actionCalculateWoodCutting(e,t.thickness.value.option,a)},this._onAddToCart=()=>{const{language:e,fields:t,woodCutting:a}=this.props,{quantity:o,bandingSides:i}=t,n=this._getCorrectProduct(),l=Number(t.length.value),s=Number(t.width.value);l>=a.minLength&&l<=a.product.length&&s>=a.minWidth&&s<=a.product.width&&(Promise.resolve(this.props.actionAddToCartWoodcuttingAndCheckAtp(e,t.thickness.value.option,o.value,l,s,i.value.FRONT,i.value.BACK,i.value.RIGHT,i.value.LEFT,t.banding.value.option.code)).then((e=>{this.props.onAddWishlistProductToCart&&this.props.onAddWishlistProductToCart(e)})),this.props.actionGTMSendAddToCart({product:Object.assign(Object.assign({},n),{code:t.thickness.value.option,thickness:t.thickness.value.label,price:a.woodcutting.basePrice})},{quantity:o.value,banding:t.banding.value.option,bandingPrice:a.banding.basePrice}),this.props.actionGTMSendWoodCutting({product:n},{thickness:t.thickness.value.label,length:l,width:s,back:i.value.BACK,right:i.value.RIGHT,front:i.value.FRONT,left:i.value.LEFT,banding:t.banding.value.label,quantity:o.value}),this.props.onClose())},this._onOrderQuantityChanged=e=>{const{fields:t}=this.props;t.quantity.set(e)},this._formatArea=e=>Object(ve.formatNumber)(e,3,Ee.d.THOUSANDS_SEPARATOR,Ee.d.DECIMAL_SEPARATOR)}static renderColorOption(e){const t={backgroundColor:e.option.color.hexColor};return i.a.createElement("div",{className:"form-field--option-color",style:t})}static renderColorLabel(e){return i.a.createElement("span",null,Se.renderColorOption(e),e.label)}componentDidUpdate(e){var t,a,o,i;const{fields:n}=this.props,{fields:l}=e,s=Number(n.length.value),r=Number(n.width.value),c=null===(a=null===(t=null==n?void 0:n.thickness)||void 0===t?void 0:t.value)||void 0===a?void 0:a.option,d=null===(i=null===(o=null==l?void 0:l.thickness)||void 0===o?void 0:o.value)||void 0===i?void 0:i.option;if(n!==l&&s&&r&&(c!==d?this.props.actionGetWoodCutting(this.props.language,n.thickness.value.option):this._calcChange()),n.edgeSelect.value.option!==l.edgeSelect.value.option)switch(n.edgeSelect.value.option){case ee:n.bandingSides.set({BACK:!0,RIGHT:!0,FRONT:!0,LEFT:!0});break;case Z:n.bandingSides.set({BACK:!1,RIGHT:!1,FRONT:!1,LEFT:!1})}}_renderHeaders(){return i.a.createElement("div",{className:"woodcutting-section--summary-item"},i.a.createElement("div",{className:"woodcutting-section--summary-item-tit"}," "),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx woodcutting-section--summary-item-tx__area"},i.a.createElement(u.a,{code:"woodcutting.lightbox.calculation.title.area"})),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx"},i.a.createElement(u.a,{code:"woodcutting.lightbox.calculation.title.single.price"})),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx woodcutting-section--summary-item-tx__total"},i.a.createElement(u.a,{code:"woodcutting.lightbox.calculation.title.total.price"})))}_renderWoodCutting(){const{woodCutting:e,media:t}=this.props,{woodcutting:a}=e;return Object(me.c)(a)?null:i.a.createElement("div",{className:"woodcutting-section--summary-item"},i.a.createElement("div",{className:"woodcutting-section--summary-item-tit"},t.isMobileXs?i.a.createElement(he.a,{className:ge.a.iconWoodcutInfo,textCode:"woodcutting.lightbox.calculation.info.woodcutting",symbol:i.a.createElement(ne.a,{symbol:se.b.INFO,hasVariableSize:!0,className:ge.a.defaultIcon})}):i.a.createElement(u.a,{code:"woodcutting.lightbox.calculation.woodcutting"})),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx woodcutting-section--summary-item-tx__area"},this._formatArea(a.area)),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx"},`${a.quantity}x ${Object(be.a)(a.basePrice)}`),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx woodcutting-section--summary-item-tx__total"},t.isMobileXs?null:i.a.createElement(he.a,{className:ge.a.iconWoodcutInfo,textCode:"woodcutting.lightbox.calculation.woodcutting.tooltip",symbol:i.a.createElement(ne.a,{symbol:se.b.INFO,hasVariableSize:!0,className:ge.a.defaultIcon})}),i.a.createElement("span",null,Object(be.a)(a.totalPrice))))}_renderBanding(){const{woodCutting:e,media:t}=this.props,{banding:a}=e;return Object(me.c)(a)?null:i.a.createElement("div",{className:"woodcutting-section--summary-item"},i.a.createElement("div",{className:"woodcutting-section--summary-item-tit"},t.isMobileXs?i.a.createElement(he.a,{className:ge.a.iconWoodcutInfo,textCode:"woodcutting.lightbox.calculation.banding",symbol:i.a.createElement(ne.a,{symbol:se.b.INFO,hasVariableSize:!0,className:ge.a.defaultIcon})}):i.a.createElement(u.a,{code:"woodcutting.lightbox.calculation.banding"})),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx woodcutting-section--summary-item-tx__area"},this._formatArea(a.area)),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx"},`${a.quantity}x ${Object(be.a)(a.basePrice)}`),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx woodcutting-section--summary-item-tx__total"},Object(be.a)(a.totalPrice)))}_renderTotal(){const{woodCutting:e,media:t}=this.props;return Object(me.c)(e.totalPrice)?null:i.a.createElement("div",{className:"woodcutting-section--summary-item"},i.a.createElement("div",{className:"woodcutting-section--summary-item-tit"},t.isMobileXs?i.a.createElement(he.a,{className:ge.a.iconWoodcutInfo,textCode:"woodcutting.lightbox.calculation.total.price",symbol:i.a.createElement(ne.a,{symbol:se.b.INFO,hasVariableSize:!0,className:ge.a.defaultIcon})}):i.a.createElement(u.a,{code:"woodcutting.lightbox.calculation.total.price"})),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx woodcutting-section--summary-item-tx__area"}),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx"}),i.a.createElement("div",{className:"woodcutting-section--summary-item-tx woodcutting-section--summary-item-tx__total"},i.a.createElement("b",null,Object(be.a)(e.totalPrice))))}_renderSummary(){return i.a.createElement("div",{className:"woodcutting-section--summary"},this._renderHeaders(),this._renderWoodCutting(),this._renderBanding(),this._renderTotal())}_getBandingOptions(){return[{option:Z,labelCode:"woodcutting.lightbox.banding.edge.none"},{option:ee,labelCode:"woodcutting.lightbox.banding.edge.all"},{option:te,labelCode:"woodcutting.lightbox.banding.edge.selected"}]}_getColorVariants(){const{product:e}=this.props.woodCutting;return e.bandings?e.bandings.map((e=>({option:e||fe,label:e&&e.color.label,renderFactory:e=>i.a.createElement("span",{className:"form-field--option-wrap"},i.a.createElement("span",null,Se.renderColorOption(e),e.label),i.a.createElement("span",{className:"form-field--option-check"},i.a.createElement(ne.a,{size:se.a.SM,symbol:se.b.CHECKMARK})))}))):null}_getWoodCuttingVariants(){const{woodCutting:e}=this.props;return e.product&&e.product.woodcuttingVariants?pe(e.product.woodcuttingVariants,(e=>({option:e.code,label:e.thickness}))):[]}_getBandingTitle(){const{fields:e}=this.props;let t="woodcutting.lightbox.banding.title";return e.edgeSelect.value.option===Z&&(t="woodcutting.lightbox.banding.title.noPrice"),i.a.createElement("h3",{className:"woodcutting-lightbox woodcutting-lightbox--message"},i.a.createElement(u.a,{code:t,params:e.banding.value.option.price.value.toFixed(2)}))}render(){const{selectedBanding:e,woodCutting:t}=this.props,a=Object(r.e)(_e,this.props.fields,this.props.dispatch),o=this._getCorrectProduct();return i.a.createElement("div",{className:"woodcutting-lightbox"},i.a.createElement("h2",null,i.a.createElement(u.a,{code:"woodcutting.lightbox.title"})),i.a.createElement("form",{className:"woodcutting-form"},i.a.createElement("div",{className:"form"},i.a.createElement("h3",{className:"woodcutting-lightbox woodcutting-lightbox--message"},i.a.createElement(u.a,{code:"woodcutting.lightbox.product.title"})),i.a.createElement("div",{className:"woodcutting-lightbox__row"},i.a.createElement(s.a,{type:p.a.SELECT_FLYOUT,label:"woodcutting.lightbox.thickness",id:"test-woodcutting-input-thickness",parentClasses:"form-field__woodcut form-field__woodcut-w3",name:"woodcutting-thickness",options:this._getWoodCuttingVariants(),field:a.thickness}),i.a.createElement(s.a,{type:p.a.TEXT,label:"woodcutting.lightbox.length",id:"test-woodcutting-input-length",parentClasses:"form-field__woodcut form-field__woodcut-w3",name:"woodcutting-length",maxValue:o.length,minValue:t.minLength,field:a.length}),i.a.createElement(s.a,{type:p.a.TEXT,label:"woodcutting.lightbox.width",id:"test-woodcutting-input-width",parentClasses:"form-field__woodcut form-field__woodcut-w3",name:"woodcutting-width",maxValue:o.width,minValue:t.minWidth,field:a.width})),!Object(me.c)(e)&&i.a.createElement("div",null,this._getBandingTitle(),i.a.createElement("div",{className:"woodcutting-lightbox__row"},i.a.createElement(s.a,{type:p.a.SELECT_FLYOUT,label:"woodcutting.lightbox.banding.edge",id:"test-woodcutting-input-edge",parentClasses:"form-field__woodcut form-field__woodcut-w2",name:"woodcutting-edge",selector:Oe,options:this._getBandingOptions(),field:a.edgeSelect}),(a.edgeSelect.value.option===te||a.edgeSelect.value.option===ee)&&i.a.createElement(s.a,{type:p.a.SELECT_FLYOUT,label:"woodcutting.lightbox.banding",id:"test-woodcutting-input-color",parentClasses:"form-field__woodcut form-field__woodcut-w2",name:"woodcutting-color",renderFactory:Se.renderColorLabel,options:this._getColorVariants(),field:a.banding})),i.a.createElement(oe,{parentClasses:["woodcutting-lightbox--banding"],fields:a,showState:a.edgeSelect.value.option,width:a.width.value,length:a.length.value})),this._renderSummary(),i.a.createElement("div",{className:"woodcutting-lightbox--order-button"},i.a.createElement("div",{className:"buybox"},i.a.createElement(le.a,{onAddToCart:this._onAddToCart,product:o,disabled:0!==this.props.validationErrors.length,onOrderQuantityChange:this._onOrderQuantityChanged}))))))}}const Ne={form:_e,fields:Ce,destroyOnUnmount:!0,schema:e=>{const t=e.woodCutting.minLength,a=e.woodCutting.minWidth,o=e.woodCutting.product.length,i=e.woodCutting.product.width;return{length:l.a.string().numberIsSmallerThan(o).numberIsGreaterThan(t),width:l.a.string().numberIsSmallerThan(i).numberIsGreaterThan(a)}}},ye={actionCalculateWoodCutting:ie.l,actionAddToCartWoodcuttingAndCheckAtp:ie.i,actionGTMSendAddToCart:ie.lb,actionGTMSendWoodCutting:ie.Pb,actionGetWoodCutting:ie.od},Te=Object(c.a)(Se,_e,Ce,Ne,(e=>{const t=Object(re.h)(e),a=Object(ce.m)(e),o=Object(ce.j)(e),i=Object(re.v)(e),n=Object(re.w)(e),{product:l={}}=i,s=Object(de.e)(e),r=Object(de.f)(e),c=Object(ue.a)(e,_e);return{initialValues:{thickness:{option:l.code,label:l.thickness},width:i.minWidth.toString(),length:i.minLength.toString(),edgeSelect:{option:Z,labelCode:"woodcutting.lightbox.banding.edge.none"},quantity:1,banding:{option:n||fe,label:n&&n.color&&n.color.label||""},bandingSides:{BACK:!1,RIGHT:!1,FRONT:!1,LEFT:!1}},product:t,media:a,woodCutting:i,selectedBanding:n,language:o,doneValidating:s,woodcuttingFormChanged:r,validationErrors:c}}),ye);t.b=Te},1296:function(e,t,a){"use strict";var o=a(1),i=a.n(o),n=a(5),l=a(38),s=a(227),r=a(10),c=a(4),d=a(76),u=a(52);var m=Object(o.memo)((e=>{const{openSocialMedia:t}=e;return i.a.createElement(d.a,{className:"btn btn__sm btn__sharing btn__facebook",textCode:"socialmedia.sharing.facebook.action",onClick:()=>{t(u.b.SHARING.FACEBOOK,"https://www.facebook.com/sharer/sharer.php?u=")},column:!0,symbol:c.b.FACEBOOK,symbolSize:c.a.MS})}));var p=Object(o.memo)((e=>{const{openSocialMedia:t}=e;return i.a.createElement(d.a,{className:"btn btn__sm btn__sharing btn__twitter",textCode:"socialmedia.sharing.twitter.action",onClick:()=>{t(u.b.SHARING.TWITTER,"https://twitter.com/share?url=")},column:!0,symbol:c.b.TWITTER,symbolSize:c.a.MS})}));var b=Object(o.memo)((e=>{const{openSocialMedia:t}=e;return i.a.createElement(d.a,{className:"btn btn__sm btn__sharing btn__pinterest",textCode:"socialmedia.sharing.pinterest.action",onClick:()=>{t(u.b.SHARING.PINTEREST,"https://pinterest.com/pin/create/button?url=")},column:!0,symbol:c.b.PINTEREST,symbolSize:c.a.MS})})),v=a(33);var h=Object(o.memo)((e=>{const{trackSharing:t,bodyMessageCode:a,subjectMessageCode:o,getMessageEncoded:n,productName:l,getProductLink:s}=e,r=`mailto:?subject=${n(o,l)}&body=${n(a,s(u.b.SHARING.EMAIL))}`;return i.a.createElement(d.a,{className:"btn btn__sm btn__sharing btn__email",textCode:"socialmedia.sharing.email.action",url:r,urlTarget:v.c.TOP,onClick:()=>{t(u.b.SHARING.EMAIL)},column:!0,symbol:c.b.MAIL,symbolSize:c.a.MS})}));var g=Object(o.memo)((e=>{const{trackSharing:t,bodyMessageCode:a,getMessageEncoded:o,getProductLink:n}=e,l=`whatsapp://send?text=${o(a,n(u.b.SHARING.WHATSAPP))}`;return i.a.createElement(d.a,{className:"btn btn__sm btn__sharing btn__whatsapp",textCode:"socialmedia.sharing.whatsapp.action",url:l,onClick:()=>{t(u.b.SHARING.WHATSAPP)},column:!0,symbol:c.b.WHATSAPP,symbolSize:c.a.MS})})),E=a(9),_=a(112),C=a(1172),f=a(36),O=a(15),S=a(17),N="_3HAiR3NpkqDsToS9KT4xqt";class y extends o.PureComponent{constructor(){super(...arguments),this._generateProductCompareUrl=(e=[])=>{const{requestUrl:t}=this.props;if(!e)return;const a=e.map((e=>e.code));return`${t}/${this.props.language}/${E.f.PRODUCT_COMPARE}?products=${a.toString()}`},this._getSharingCustomUrlParameterName=e=>{switch(e){case"Facebook":return"?u=";case"Twitter":case"Pinterest":return"?url=";default:return""}},this._openWindow=(e,t)=>{const{productsForCompare:a}=this.props;if(window){const o=550,i=400,n={height:i,width:o,left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-o/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-i/2,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"};if(!Object(S.c)(a)){const o=this._generateProductCompareUrl(a)||"";e=`${e}${this._getSharingCustomUrlParameterName(t)}${o}`}window.open(e,t,Object.keys(n).map((e=>`${e}=${n[e]}`)).join(","))}},this._getFullPathWithUTMParams=e=>`${Object(l.n)()}?utm_source=${e}&utm_medium=share&utm_campaign=onlineshop`,this._openSocialMedia=(e,t)=>{const a=this._getFullPathWithUTMParams(e);this._trackSharing(e),this._openWindow(t+encodeURIComponent(a),e)},this._trackSharing=e=>{const t={socialNetwork:e,socialAction:"share",socialTarget:Object(l.n)()};this.props.actionGTMShare(t)},this._getEmailMessageCode=()=>{const{productsForCompare:e}=this.props;return`${e?"socialmedia.sharing.productCompare":"socialmedia.sharing"}.email`},this._getMessageEncoded=(e,t)=>{const a=this.context.translate(e,t);return encodeURIComponent(a.replace(/<br>/g,"\n"))},this._getProductLink=e=>{const{productsForCompare:t}=this.props;return t?this._generateProductCompareUrl(t):this._getFullPathWithUTMParams(e)}}render(){const{email:e={},facebook:t={},twitter:a={},pinterest:o={},whatsapp:n={}}=this.props.socialMedia,l=`${this._getEmailMessageCode()}.body`;return this.context.preload(l),i.a.createElement("div",{className:N},e.enabled&&i.a.createElement(h,{trackSharing:this._trackSharing,subjectMessageCode:encodeURIComponent(`${this._getEmailMessageCode()}.subject`),bodyMessageCode:encodeURIComponent(l),productName:this.props.productName,getProductLink:this._getProductLink,getMessageEncoded:this._getMessageEncoded}),t.enabled&&i.a.createElement(m,{openSocialMedia:this._openSocialMedia}),a.enabled&&i.a.createElement(p,{openSocialMedia:this._openSocialMedia}),o.enabled&&i.a.createElement(b,{openSocialMedia:this._openSocialMedia}),n.enabled&&i.a.createElement(g,{trackSharing:this._trackSharing,bodyMessageCode:l,getProductLink:this._getProductLink,getMessageEncoded:this._getMessageEncoded}))}}y.contextType=s.a;const T={actionGTMShare:r.Rb};t.a=Object(n.connect)((e=>{const t=Object(_.h)(e),a=Object(C.a)(e),o=Object(f.e)(e),i=Object(O.j)(e);return{productName:t.name,socialMedia:a,requestUrl:o,language:i}}),T)(y)},1299:function(e,t,a){"use strict";var o=a(1),i=a.n(o),n=a(5),l=a(228),s=a(3),r=a(22),c=a(30),d=a(4),u=a(14),m=a(13),p=a(101),b=a(77),v="D5rxzNDnq9Q5iFAkE0Epr",h="_3udV6FSDqbBvQoLua0zhs4",g="yfqn0iTHV19dg0WHxDJCU",E="_1mTfZbIKjViVAoXxNqjMqG",_="pAzRa_iqeBBbqaisCKFNg",C="_3uFq9Y-Yr6uXlWlY0_DsZ7",f="g4K7aYTxDpthUfkaBYuDe",O="_3vEhKOOKFFrzeWkgRTpOQi",S="_4lRgLngE68g_bZ4u_NTjf";var N=Object(o.memo)((e=>{const{selected:t,color:a,onClick:o,onMouseEnter:n,onMouseLeave:l}=e,s=Object(m.b)([g,t&&O,!a.available&&f]);return i.a.createElement(p.a,{placement:b.a.TOP,content:a.name,showClose:!1,symbol:i.a.createElement("li",{className:s,style:{backgroundColor:a.hexColor},tabIndex:0,onClick:()=>o(a),onMouseLeave:()=>l,onMouseEnter:()=>n},i.a.createElement("div",{className:`${_} u-reset`},i.a.createElement("span",{className:C},i.a.createElement("span",{className:E}))))})}));const y=e=>{const{selected:t,colors:a=s.d.EMPTY_ARRAY,isMobileXs:n=!1,showAll:l,onColorClick:r,colorsHeight:c,isWishlist:d}=e,[u,m]=Object(o.useState)(t),p=e=>{m(e),r(e)};let b=a.map(((e,a)=>i.a.createElement(N,{selected:u.hexColor===e.hexColor,color:e,key:`${e.hexColor}-${a}`,onClick:p,onMouseLeave:()=>m(t),onMouseEnter:()=>e.available&&m(e)})));return!l&&d&&n?b=b.slice(0,6):!l&&d?b=b.slice(0,8):l||(b=b.slice(0,s.d.INITIALLY_RENDERED_COLORS_COUNT)),i.a.createElement("div",{className:`${v} ${S}`},i.a.createElement("ul",{className:h,style:{height:c}},b))};y.displayName="OptionsColor";var T=Object(o.memo)(y),I=a(296),P=a(995),A=a(10),j=a(17),R=a(15),D="gK9pFNFQgSkmcrYl6V8PC",w="M4m7eN8LN4TJrUVMV2dMI",k="_2nFKumBLjMMtJqH2S_URPa",x="_3hF7yxSfjM7hTXqLvRLDMP",L="_3zwDFqpay4ACfzJqUmDIeR",M="_1n3KGbMGjXqAOyo-MASs9E",B="fR29lf2jduCq_bVD_uNhs",F="_1vWvEGBZHyTF6DwVk__M0k",V=a(1040),U=a(1018);const H=[];class G extends o.PureComponent{constructor(e){super(e),this._isVariantAvailable=e=>{const t=this._getVariantOptions().filter((t=>t.name===e));return!Object(j.c)(t)},this._onOptionChanged=e=>{const t=this._getOptionByAttribute(e,"name");this.props.isWishlist?this.props.actionGetWishlistOption(this.props.language,null==t?void 0:t.code,this.props.index):this.props.actionHistoryPush(t.url)},this._onColorChanged=e=>{const t=this._getOptionByAttribute(e.name,"name");this.props.isWishlist?this.props.actionGetWishlistOption(this.props.language,null==t?void 0:t.code,this.props.index):this.props.actionHistoryPush(t.url)},this._renderSelectOptions=e=>e.map((e=>{const t=i.a.createElement("span",{className:"form-field--option-name"},e.name),a=i.a.createElement("span",{className:"form-field--option-annotation"},e.annotation);return e.value=e.name,e.disabled=!e.available,e.label=i.a.createElement("span",{className:"form-field--option-wrap"},i.a.createElement("span",null,e.name?t:null,e.annotation?a:null),this.props.showCheckMark&&e.selected&&i.a.createElement("span",{className:"form-field--option-check"},i.a.createElement(c.a,{size:d.a.SM,symbol:d.b.CHECKMARK}))),e})),this._renderColors=()=>{var e;const t=this._getSelectedVariantOption(),a=this._getVariantOptions()||H;return 0!==a.length&&t?i.a.createElement("div",{className:D,ref:this._getOptionBoxContainer},i.a.createElement("div",{className:`${V.a.title} ${w}`},i.a.createElement("span",{className:V.a.detailTitle},this.props.variantSelectionGroup.classificationCategory.name,":"),i.a.createElement("span",{className:V.a.detailTitleValue},t.name)),i.a.createElement(T,{showAll:this.state.showMoreClicked,colorsHeight:this.state.colorsHeight,selected:this._getSelectedVariantOption(),colors:a,onColorClick:this._onColorChanged,isWishlist:this.props.isWishlist,isMobileXs:null===(e=this.props.media)||void 0===e?void 0:e.isMobileXs}),this._renderShowMore(a)):null},this._renderShowMore=e=>{let t=!this.state.showMoreClicked&&(this._getRowCount(e.length)>1||e.length>s.d.INITIALLY_RENDERED_COLORS_COUNT);return this.props.isWishlist&&(t=this.props.media.isMobileXs||this.props.media.isTabletMd?!this.state.showMoreClicked&&(this._getRowCount(e.length)>1||e.length>6):!this.state.showMoreClicked&&(this._getRowCount(e.length)>1||e.length>8)),t?i.a.createElement(I.a,{prefix:"detail-options--moreinfo",textCode:"productDetailPage.specs.show.more",onClick:this._onShowMoreClick,icon:d.b.CHEVRON_DOWN,iconSize:d.a.SM}):null},this._renderSingleVariant=()=>{const e=this._getSelectedVariantOption();return e?i.a.createElement("span",null,e.name):null},this._getIfColorVariant=()=>!!this.props.variantSelectionGroup.options.find((e=>!!e.variantValueCategory.hexColor)),this._getOptionBoxContainer=e=>{this.$optionBoxContainer=e},this._getRowCount=e=>{const{isWishlist:t}=this.props;let a=400;this.$optionBoxContainer&&!t&&(a=this.$optionBoxContainer.getBoundingClientRect().width),(t&&this.props.media.isMobileXs||this.props.media.isTabletMd)&&(a=300);let o=Math.floor(a/s.d.COLOR_WIDTH);return t&&!this.props.media.isMobileXs&&(o=8),Math.ceil(e/o)},this._onShowMoreClick=()=>{const e=this._getVariantOptions()||H,t=this._getRowCount(e.length)*s.d.COLOR_ROW_HEIGHT;this.setState({showMoreClicked:!0,colorsHeight:t})},this.state={showMoreClicked:!1,colorsHeight:s.d.COLOR_ROW_HEIGHT,prevScreen:e.media.screen}}static getDerivedStateFromProps(e,t){return e.media.screen!==t.prevScreen?{colorsHeight:s.d.COLOR_ROW_HEIGHT,showMoreClicked:!1,prevScreen:e.media.screen}:null}componentDidUpdate(e,t){if(this.props.preselectedOptionValue!==e.preselectedOptionValue){const{preselectedOptionValue:e}=this.props;this._isVariantAvailable(e)?this._onOptionChanged(e):r.a.info("pre selected variant not available")}}_renderVariantDropdown(){var e,t;const a=this._getSelectedVariantOption();return i.a.createElement(P.a,{value:a?a.name:"",parentClasses:"form-field__select-sizes",flyoutClass:"tooltip__base tooltip__optionbox",label:i.a.createElement(u.a,{code:"productDetailPage.variant.selection.select",params:this.props.variantSelectionGroup.classificationCategory.name}),id:(this.props.isPrimary?"primary":"secondary")+"-variant-chooser-select",options:this._renderSelectOptions(this._getVariantOptions()),onChange:this._onOptionChanged,flyoutPosition:b.a.BOTTOM_END,theme:b.b.DETAIL_VARIANT_OPTION_BOX,detailVariantOptionBox:!0,hasError:(null===(e=this.props)||void 0===e?void 0:e.noVariantSelectedError)&&!a||!1,errorMsg:(null===(t=this.props)||void 0===t?void 0:t.errorMsg)||null})}_renderVariantPrintView(){const e=this._getVariantOptions(),t=[];return e.forEach(((e,a)=>{const o=Object(m.b)([B,!e.available&&F]);t.push(i.a.createElement("span",{className:o,key:a},e.name))})),i.a.createElement("div",{className:L},t)}_getOptionByAttribute(e,t){return this._getVariantOptions().find((a=>a[t]===e))}_getVariantOptions(){return this.props.variantSelectionGroup.options.map((e=>({name:e.variantValueCategory.name,url:e.productUrl,code:e.productCode,hexColor:e.variantValueCategory.hexColor,selected:e.isCurrentlySelected,available:e.showAsAvailable,annotation:e.annotation})))}_getSelectedVariantOption(){return this._getVariantOptions().find((e=>e.selected))}render(){const e=this._getVariantOptions()||H;let t=null;return t=this._getIfColorVariant()?this._renderColors():i.a.createElement("div",{id:U.a.ID.DETAIL_VARIANT_OPTION_BOX,className:D},i.a.createElement("div",{className:V.a.detailTitle},i.a.createElement("span",{className:V.a.detailTitleTitle},this.props.variantSelectionGroup.classificationCategory.name,":")),i.a.createElement("form",{className:`${k} ${M}`},i.a.createElement("div",{className:x},1===e.length?this._renderSingleVariant():this._renderVariantDropdown())),this._renderVariantPrintView()),t}}G.defaultProps={showCheckMark:!0};const q={actionHistoryPush:l.c,actionGetWishlistOption:A.nd};t.a=Object(n.connect)((e=>({media:Object(R.m)(e),language:Object(R.j)(e)})),q)(G)},1393:function(e,t,a){"use strict";a.r(t);var o=a(1),i=a.n(o),n=a(5),l=a(10),s=a(3),r=a(112),c=a(15),d=a(23),u="_2o4cXCFRcDs9ZA2bpbjAjr",m="_3bO57frO0sIxUJ6NekSSk8",p="_3fwgQOGbjyvToqgylI_k6A",b="baGCC1asGx_e7GRDvISeB",v=a(50),h=a(51),g=a(13),E={"product-detail-process-c":"Lm1J6ObT1xWqufBSSJqdd",productDetailProcessC:"Lm1J6ObT1xWqufBSSJqdd","product-detail-process-c-icon":"_3uFd1Q_5Y3KsuPg6BySqDR",productDetailProcessCIcon:"_3uFd1Q_5Y3KsuPg6BySqDR","product-detail-process-c-text":"E6OIsNETuf61junBwCNVl",productDetailProcessCText:"E6OIsNETuf61junBwCNVl"},_=a(1040),C=a(709),f=a(101),O=a(77),S=a(187);var N=Object(o.memo)((e=>{const{headline:t="",text:a="",html:o}=e,n=Object(C.a)([_.a.detailTitle,E.productDetailProcessCTextHeadline]);return t.length<1||a.length<1?null:i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:E.productDetailProcessC},i.a.createElement("div",{className:n},t),i.a.createElement("div",{className:E.productDetailProcessCIcon},i.a.createElement(f.a,{content:Object(S.a)(o),allowHTML:!0,placement:O.a.TOP,trigger:O.c.CLICK_HOVER,showClose:!1}))),i.a.createElement("div",{className:E.productDetailProcessCText,dangerouslySetInnerHTML:{__html:Object(S.a)(a)}}))})),y=a(91),T=a(89),I=a(45),P=a(1113),A=a(125),j=a(1293),R=a(1109),D=a(76),w=a(63),k=a(36),x=a(14),L="_2YS-hnZuwhCMQ5JGjOiTid",M="_3JLu63TF2w4CLdqf5faHmM";const B=e=>{null==e||e.stopPropagation(),null==e||e.preventDefault()};var F=Object(o.memo)((()=>{const e=Object(n.useSelector)(r.i),t={};return(e.backColorHexValue||e.ctaColorHexValue||e.writtingColorHexValue)&&(e.backColorHexValue&&(t.background=e.backColorHexValue),e.writtingColorHexValue&&(t.color=e.writtingColorHexValue,t.borderColor=e.writtingColorHexValue)),!e||0!==e.currentStock&&0!==e.activeForSeconds?null:i.a.createElement("div",{className:M,onClick:B},i.a.createElement("h3",{className:`u-reset ${L}`,style:t},0===e.currentStock&&i.a.createElement(x.a,{code:"productDetailPage.liveShopping.soldOut",params:e.initialStock}),0===e.activeForSeconds&&e.currentStock>0&&i.a.createElement(x.a,{code:"productDetailPage.liveShopping.timeOut"})))})),V=a(8),U=a(7),H="_1VRKXLpA9s1GuQa8bxCWb3",G="_3YMKCXSuJ04OI6-q0nYvtb",q="QwgSezKQrRHgPQyL5LyCI",W="Y2D6byGzmtfBpv-mWZLxr",z="_1Py4kaAlAQ8tiTrP9iLS6K",K="Uucp2SYq0zn-GCsPQrzTr",X="_1oldEhrVH1M2JMBIcnnPrn",Q="_1zRLf1Ja1eG31GKhBMklCP",Y=a(95),$=a(30),J=a(4),Z=a(911),ee=a(283),te=a(12);const ae=(e,t)=>t?"outlet.productDetailPage.reservation.button":(null==e?void 0:e.reservable)&&(null==e?void 0:e.showStockEnquiry)?"productDetailPage.reservation.checkAndReserve":(null==e?void 0:e.showStockEnquiry)?"productDetailPage.reservation.check":"productDetailPage.reservation.checkAndReserveUnavailable",oe=Object(V.a)({loader:()=>Promise.resolve().then(a.bind(null,1020)),loading:U.a,modules:["shop/client/components/organisms/storefinder/StoreFinder"],name:"shop/client/components/organisms/storefinder/StoreFinder",webpack:()=>[1020]});var ie=Object(o.memo)((e=>{var t,a,s,r,c,d,u;const{product:m,isOutlet:p,product:{store:b},isSparePart:v=!1,hideReservation:h=!1,renderSecondContent:g,renderOutletReserveContent:E}=e,[_,C]=Object(o.useState)(""),f=p?!m.reservable:!m.showStockEnquiry||m.productLiveShoppingComponent,O=Object(n.useDispatch)(),S=e=>O(Object(l.Ne)(e)),N=null===(t=null==m?void 0:m.logisticServices)||void 0===t?void 0:t.map((e=>{var t;return null===(t=e.serviceConfiguration)||void 0===t?void 0:t.serviceProduct})).filter(Boolean),y=e=>{S({modalIsActive:!0,scrollIsActive:!1,type:I.b.WIDE,class:A.a,modalContent:i.a.createElement(oe,{product:m,onReserveProduct:e,isModal:!0,type:ee.a.RESERVATION}),secondContent:i.a.createElement("div",null),secondContentActive:!1})},T=()=>{S({modalIsActive:!0,scrollIsActive:!1,type:I.b.WIDE,class:A.a,modalContent:E(b)})};return v||h?null:i.a.createElement("div",{className:q},i.a.createElement("div",{className:W},i.a.createElement("span",{className:z},p&&(null==m?void 0:m.store)&&i.a.createElement(x.a,{code:"outlet.productDetailPage.reservation",params:[null===(a=m.store)||void 0===a?void 0:a.name,null===(s=m.store)||void 0===s?void 0:s.phone]}))),f&&p?i.a.createElement(x.a,{code:"outlet.reservationForm.product.isReserved",className:K}):null,i.a.createElement("div",{className:H},i.a.createElement("div",{className:G},!f&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,i.a.createElement($.a,{symbol:J.b.CHECKMARK,className:Z.a.green})),i.a.createElement(x.a,{code:"productDetailPage.reservation.availableInStores",params:(null===(r=N[1])||void 0===r?void 0:r.price)&&Object(Y.a)(null===(c=N[1])||void 0===c?void 0:c.price)})),f&&!p&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,i.a.createElement($.a,{symbol:J.b.CROSS_OPTIMIZED,className:Z.a.red})),i.a.createElement(x.a,{code:"productDetailPage.reservation.unavailableInStores",params:(null===(d=N[1])||void 0===d?void 0:d.price)&&Object(Y.a)(null===(u=N[1])||void 0===u?void 0:u.price)}))),i.a.createElement("div",{className:X},i.a.createElement("button",{className:`${Q} btn btn__primary btn__xl`,onClick:e=>{if(null==e||e.preventDefault(),p)T();else{const e=(e,t)=>{t&&_!==(null==e?void 0:e.marketId)&&((e=>{O(Object(l.Ob)(e))})(e),C(null==e?void 0:e.marketId));const a=g(t?ee.a.RESERVATION:ee.a.DELIVERY_TO_STORE,e);var o;o={secondContentActive:!0,secondContent:a},O(Object(l.vf)(o))};y(((t,a)=>e(t,a))),O(Object(l.Ab)())}},id:"test-detail-btn-reservation",disabled:f},i.a.createElement(x.a,{code:ae(m,p)})))))})),ne=a(184),le=a(17),se=a(98),re="_4D8rd6s_WLuv3JZXnMAFa",ce="_2319ADmzfYvUoG2dT2b47d",de="_36b7DQ9cRzkXMAUxBvXmKV",ue="_9cXz2cyBHTnvX31W4Kmm1",me="_12eneTuGVMjxq5QXxuA3lH",pe="_4oRGft68kdOgviVzBXYHF";const be=(e,t)=>i.a.createElement("div",{className:re,key:`${t}mandatoryServiceDiv`},i.a.createElement("div",{className:ue},(e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.serviceConfiguration)||void 0===t?void 0:t.serviceProduct)||void 0===a?void 0:a.name)||""})(e)),i.a.createElement("div",{className:me},((e,t)=>{var a,o;return Object(le.c)(null===(o=null===(a=null==e?void 0:e.serviceConfiguration)||void 0===a?void 0:a.serviceProduct)||void 0===o?void 0:o.description)?null:i.a.createElement(se.b,{key:t,content:e.serviceConfiguration.serviceProduct.description,allowHTML:!0,placement:O.a.BOTTOM})})(e,`${t}mandartoryServiceTooltip`)),i.a.createElement("div",{className:pe},((e,t)=>{var a,o;const n=null===(o=null===(a=null==e?void 0:e.serviceConfiguration)||void 0===a?void 0:a.serviceProduct)||void 0===o?void 0:o.price;return n?i.a.createElement(ne.a,{key:t,price:n.value,currency:n.currencyIso}):null})(e,`${t}mandatoryServicePrice`)));var ve=Object(o.memo)((({services:e,isSparePart:t=!1})=>t||(null==e?void 0:e.length)<1?null:i.a.createElement("div",{className:de},(()=>{const t=[],a=[];return(null==e?void 0:e.length)>0&&e.forEach(((e,t)=>{e.configuredMandatory&&a.push(be(e,t))})),a.length>0&&(t.push(i.a.createElement("div",{key:"mandatoryServicesInfoText",className:ce},i.a.createElement(x.a,{code:"productDetailPage.mandatory.services.text"}))),t.push(a)),t})()))),he="_2UJZkepsFucKCcCiz-hTtP",ge="_37r8pRS_xAMU1l9Ha9_RjM",Ee="_3M4vrUz4APvLpayuEoQceK";var _e=Object(o.memo)((()=>i.a.createElement("div",{className:Ee,"data-testid":"migros-share"},i.a.createElement("div",{className:ge},i.a.createElement($.a,{symbol:J.b.SHARE})),i.a.createElement("span",null,i.a.createElement(x.a,{code:"wishlist.share.lightbox.button"}))))),Ce=a(1296),fe=a(987),Oe="_20UqzXVO_MBC3_mC3_O133";var Se=Object(o.memo)((({product:e,isOutlet:t})=>{const{isProductAlreadyOnList:a,addOrRemoveProduct:o}=Object(fe.a)(e);return!Object(n.useSelector)(w.x)||t?null:i.a.createElement("div",{className:Oe,onClick:o,"data-testid":"migros-wishlist"},i.a.createElement("div",{className:ge},i.a.createElement($.a,{symbol:a?J.b.HEART_FILLED:J.b.HEART,minWidth:!0})),i.a.createElement("span",null,i.a.createElement(x.a,{code:a?"productDetailPage.wishlist.delete":"productDetailPage.wishlist.add"})))}));var Ne=Object(o.memo)((e=>{var t,a,o,n,l;const{product:s,isOutlet:r,isCarrierProduct:c}=e,{socialMedia:d}=s,u=!!d&&((null===(t=d.email)||void 0===t?void 0:t.enabled)||(null===(a=d.facebook)||void 0===a?void 0:a.enabled)||(null===(o=d.twitter)||void 0===o?void 0:o.enabled)||(null===(n=d.pinterest)||void 0===n?void 0:n.enabled)||(null===(l=d.whatsapp)||void 0===l?void 0:l.enabled));return c?null:i.a.createElement("div",{className:he},i.a.createElement(Se,{isOutlet:r,product:s}),u&&i.a.createElement(se.b,{className:"p-product-detail--item__sharing",placement:O.a.BOTTOM,symbol:i.a.createElement(_e,null),content:i.a.createElement(Ce.a,null),shouldStopClick:!1}))})),ye="_29SLJo2kjGj0s14CDNF9SL",Te="_3vkEW79mjgOm32VVaOotCc",Ie="_39uBhgWJgfLr55OuQ3_KCn",Pe="OEWd9dL0Hqn3Hx_kLXhVg",Ae=a(6),je=a(33),Re="_3a9E-MzY1-4vxCwhA2_kPe",De="_13lkS2rwnce4JSSkTW4NiO",we="_2c-iwpBgtQqizuQXfLcn6B",ke="_38BlmsihQzj4LuUSLD6Pew",xe="_1qdLpoAAXw8KKktkoygsLl",Le=a(60),Me=a(230),Be=a(25);const Fe=()=>{var e,t,a;const s=Object(n.useSelector)(c.o),r=Object(n.useSelector)(Le.a),d=Object(n.useSelector)(Be.g),u=Object(n.useDispatch)(),m=Object(T.b)(Ae.f.CMSSlots.INFO_CTA_CONFIG,Ae.f.CMSComponents.CONFIGURATOR_TEASER,null,r);m&&(m.slotPosition=Ae.f.CMSSlots.INFO_CTA_CONFIG);const p=Object(v.b)()===h.a.MICASA?xe:"",b=ke+" btn btn__no-focus btn__secondary-outline btn__xl "+p;if(Object(o.useEffect)((()=>{var e,t;(null===(e=null==m?void 0:m.promotionId)||void 0===e?void 0:e.id)&&(t=Object(Me.a)(m,s,d),u(Object(l.nb)(t)))}),[]),!m)return null;const g=(null===(e=null==m?void 0:m.link)||void 0===e?void 0:e.name)?{text:null===(t=null==m?void 0:m.link)||void 0===t?void 0:t.name}:{textCode:"productDetailPage.furniture.configurator.button"};return i.a.createElement(i.a.Fragment,null,s&&(null==m?void 0:m.showOnlyOnDesktop)?i.a.createElement("div",null,i.a.createElement("h1",{className:"u-reset "+we},null==m?void 0:m.mobileTitle),i.a.createElement("p",{className:"u-reset "+De},null==m?void 0:m.mobileText)):i.a.createElement("div",null,(null==m?void 0:m.text)&&i.a.createElement("div",{className:Re},i.a.createElement("span",null,i.a.createElement($.a,{symbol:J.b.CHECKMARK,className:Z.a.green})),m.text),i.a.createElement("span",{onClick:()=>{var e,t,a;if(null===(e=null==m?void 0:m.link)||void 0===e?void 0:e.url){const e={type:"configurator",configAction:"start_configuration",url:document.location.origin+m.link.url};u(Object(l.X)(e))}(null===(t=null==m?void 0:m.promotionId)||void 0===t?void 0:t.id)&&(a=Object(Me.a)(m,s,d),u(Object(l.mb)(a)))}},i.a.createElement(D.a,Object.assign({size:je.a.XL,variant:je.b.SECONDARY_OUTLINE,url:null===(a=null==m?void 0:m.link)||void 0===a?void 0:a.url,className:b},g)))))};Fe.displayName="FurnitureConfiguratorButton";var Ve=Object(o.memo)(Fe),Ue="MGQyhufOR7SzPvf9ko_BQ",He="uUNFERf3caSs4jdIjYSvr",Ge="_32EocAu04zsHwRUPRNJDKf",qe="_1nF72f-ctLVac78D98_N1V",We="hw16s7jvvSV7J2dh8TkUg",ze="_2hOshESCE7UM5RnQ6p-90",Ke="WQj9sk7gOtxib8NKeYuN-",Xe="_3UhZ3Fg_qXTqDc-8olAXo6",Qe="_3Sp5Xvwq8GzhvfknX5t-2X",Ye="_2H8MY2fCUQMjS4ngBIvqSI",$e="_3xj0uixA68OOOir4kPV5MH",Je="_2BP2U36uj-ceMhNJyXXPyh",Ze=a(1008),et=a(1020),tt=a(88);var at=Object(o.memo)((e=>{const{cardIcon:t,title:a,messageCode:o,contentIcon:n,link:l,price:s,iconClassName:r,onClick:c,subtitle:d,messageCodeIsText:u=!1}=e;return i.a.createElement("div",{className:ze},i.a.createElement("div",{className:Ke},i.a.createElement("div",{className:Xe},i.a.createElement($.a,{symbol:t,minWidth:!0,size:J.a.MD})),i.a.createElement("div",{className:Qe},i.a.createElement("div",{className:qe},a.includes(".")?i.a.createElement(x.a,{code:a,params:s&&Object(Y.a)(s)}):a,!!d&&i.a.createElement("div",{className:Ge},i.a.createElement(x.a,{code:d,params:Object(v.e)(Object(v.b)())}))),i.a.createElement("div",{className:Ye},l||c?i.a.createElement(tt.b,{to:c?null:l,className:`u-reset ${He}`,onClick:c||null},o.includes(".")?i.a.createElement(x.a,{code:o}):o):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:`${$e} ${n===J.b.CROSS?Je:""}`},i.a.createElement($.a,{symbol:n,minWidth:!0,size:J.a.SM,fontColor:!0,className:r})),i.a.createElement("div",{className:Ue},u?o:i.a.createElement(x.a,{code:o,params:s&&Object(Y.a)(s)})))))))})),ot=a(35);const it=e=>{var t,a;const{icon:o,availabilityText:s,price:r,services:c,isCarrierProduct:u=!1,isProcessCProduct:m=!1,isProcess2CProduct:p=!1,isReservable:b=!1,isOutlet:v=!1,product:h,renderOutletReserveContent:g,renderSecondContent:E,showReservation:_=!1}=e;let C=ee.a.BASIC;const f=Object(Ze.b)(o),O=Object(n.useSelector)(ot.a),S=Object(n.useSelector)(d.h),{hasProcess:N,subtitle:y,processes:T}=(e=>{var t;let a=!1,o=!1,i=!1,n="",l=[];return(null===(t=null==e?void 0:e.clickCollectProcesses)||void 0===t?void 0:t.length)>0&&(e.clickCollectProcesses.forEach((e=>{switch(e){case te.i.PROCESS.PROCESS_4:a=!0;break;case te.i.PROCESS.PROCESS_5:o=!0;break;case te.i.PROCESS.PROCESS_8:i=!0}})),a&&(n="productDetailPage.clickcollect.subtitle.mservice"),o&&(n="productDetailPage.clickcollect.subtitle.subsidiary"),i&&(n="productDetailPage.clickcollect.subtitle.pickmup"),l=e.clickCollectProcesses),{hasProcess:a||o||i,subtitle:n,processes:l}})(h),P={processes:T,employeeMode:S},j=Object(n.useDispatch)(),R=e=>j(Object(l.Ne)(e)),D=e=>j(Object(l.vf)(e)),w=()=>j(Object(l.Ab)()),k=e=>{const t=C!==ee.a.CLICK_COLLECT?i.a.createElement(et.default,{product:h,onReserveProduct:e,isModal:!0,type:C}):i.a.createElement(et.default,{product:h,pickmup:!0,onSetStoreForProcess:e,isModal:!0,type:C,clickAndCollectPayloadData:P});R({modalIsActive:!0,scrollIsActive:!1,type:I.b.WIDE,class:A.a,modalContent:t,secondContent:i.a.createElement("div",null),secondContentActive:!1})},x=e.product&&e.product.orderable,L=(!p||p&&O||p&&S)&&N;return i.a.createElement("div",{className:We},!u&&!m&&i.a.createElement(at,{cardIcon:J.b.DELIVERY,title:null===(a=null===(t=c[0].serviceConfiguration)||void 0===t?void 0:t.serviceProduct)||void 0===a?void 0:a.addtocartText,messageCode:s,contentIcon:null==f?void 0:f.icon,price:r,iconClassName:null==f?void 0:f.className,messageCodeIsText:!0}),x&&i.a.createElement(at,{cardIcon:J.b.LOCATION,title:"productDetailPage.clickcollect.title",messageCode:L?"productDetailPage.clickcollect.text.available":"productDetailPage.clickcollect.notAvailable",link:L?"Url kommt mit nächstem Ticket":null,contentIcon:L?null:J.b.CROSS,subtitle:y,onClick:L?e=>{null==e||e.preventDefault(),C=ee.a.CLICK_COLLECT;k((e=>(e=>{D({secondContentActive:!0,secondContent:E(ee.a.CLICK_COLLECT,e)})})(e))),w()}:null}),_&&i.a.createElement(at,{cardIcon:J.b.STORE,title:"productDetailPage.reservation.title",messageCode:ae(h,v),contentIcon:b?null:J.b.CROSS,iconClassName:Z.a.red,onClick:b?e=>{if(null==e||e.preventDefault(),C=ee.a.RESERVATION,v)R({modalIsActive:!0,scrollIsActive:!1,type:I.b.WIDE,class:A.a,modalContent:g(null==h?void 0:h.store)});else{const e=(e,t)=>{t&&(e=>{j(Object(l.Ob)(e))})(e);const a=E(t?ee.a.RESERVATION:ee.a.DELIVERY_TO_STORE,e);D({secondContentActive:!0,secondContent:a})};k(((t,a)=>e(t,a))),w()}}:null}))};it.displayName="ShippingAvailabilityClickCollect";var nt=Object(o.memo)(it),lt=a(869),st=a(275),rt="aMF0iqRic2O54FEp1yoQr",ct="_345pQL5uI3RYfiPXAnmEia",dt="_1yeAoa7emjFLnH0Gkf_776",ut=a(82),mt=a(28),pt="yGwL9mEMfA5HgzoObhs9A";var bt=Object(o.memo)((({url:e,name:t})=>i.a.createElement("div",{className:pt},i.a.createElement(ut.b,{url:e,background:!1,alt:t,lazyload:!0,profiles:[mt.l.THUMBNAIL.asDefault()],sizes:[mt.l.THUMBNAIL],useLoaderDots:!0})))),vt="_2OqfORedAjC8ZC1OWjtht6",ht="_1U09qXN-hlYB1T354CAtwK",gt="_2ydaYjQGihU37mWvnc9ccK";var Et=Object(o.memo)((({brand:e,title:t})=>i.a.createElement("div",{className:gt},e&&i.a.createElement("span",{className:vt},e),t&&i.a.createElement("span",{className:ht},t)))),_t=a(53),Ct="Rr0PXCBbOpwjt8oJKHa0W";var ft=Object(o.memo)((({price:e,suggestedRetailPrice:t,priceUnit:a,currencyIso:o})=>{const n=Object(g.b)([t>0?_t.a.priceBuyboxMini:_t.a.priceBuyboxMiniNoSuggestedretailprice]);return i.a.createElement("div",{className:Ct},i.a.createElement(ne.a,{parentClasses:n,price:e,originalPrice:t||null,currency:o,priceUnit:a||null}))})),Ot=a(1042);var St=e=>{var t,a,o,n,l,s;const{product:r,onOrderButtonClicked:c,onOrderQuantityChange:d,noVariantSelectedErrorCallback:u}=e;return i.a.createElement("div",{className:`buybox ${rt}`},i.a.createElement("div",{className:ct},i.a.createElement(bt,{url:null===(a=null===(t=null==r?void 0:r.images)||void 0===t?void 0:t[0])||void 0===a?void 0:a.url,name:null==r?void 0:r.name}),i.a.createElement("div",null,i.a.createElement(Et,{brand:null===(o=null==r?void 0:r.brand)||void 0===o?void 0:o.name,title:null==r?void 0:r.name}),i.a.createElement(ft,{price:null===(n=null==r?void 0:r.price)||void 0===n?void 0:n.value,suggestedRetailPrice:null===(l=null==r?void 0:r.suggestedRetailPrice)||void 0===l?void 0:l.value,priceUnit:null==r?void 0:r.priceUnit,currencyIso:null===(s=null==r?void 0:r.price)||void 0===s?void 0:s.currencyIso}))),i.a.createElement("div",{className:dt},i.a.createElement(Ot.a,{onAddToCart:c,openServicesModal:!0,product:r,onOrderQuantityChange:d,buyboxmini:!0,noVariantSelectedErrorCallback:u})))},Nt=a(79);const yt=Object(V.a)({loader:()=>a.e(75).then(a.bind(null,1724)),loading:U.a,modules:["shop/client/components/organisms/storefinder/components/second-content/StoreFinderSecondContent"],name:"shop/client/components/organisms/storefinder/components/second-content/StoreFinderSecondContent",webpack:()=>[1724]}),Tt=Object(V.a)({loader:()=>a.e(68).then(a.bind(null,1745)),loading:U.a,modules:["shop/client/components/organisms/outlet/product-reservation/OutletProductReservationContent"],name:"shop/client/components/organisms/outlet/product-reservation/OutletProductReservationContent",webpack:()=>[1745]}),It=e=>{var t,a,d,u,m,p,b,v;const{product:{services:h,serviceType:E,code:_},product:C,coupons:f,isOutlet:O,onAddToCart:S,onOrderQuantityChange:N,isCarrierProduct:x,noVariantSelectedErrorCallback:L,isFooterVisible:M}=e,[B,V]=Object(o.useState)(!1),{isVisible:U,setRef:H,ref:G}=Object(lt.a)({multiple:!0,rootMargin:"-50px"});Object(st.a)((()=>{const e=()=>{G.current&&(window.scrollY>G.current.getBoundingClientRect().bottom?V(!0):V(!1))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}));const q=Object(n.useDispatch)(),W=e=>q(Object(l.Ne)(e)),z=()=>q(Object(y.startSubmit)(j.a)),K=()=>q(Object(y.startSubmit)()),X=()=>q(Object(y.stopSubmit)()),Q=()=>q(Object(l.C)()),Y=e=>q(Object(l.xf)($,_,e)),$=Object(n.useSelector)(c.j),J=Object(n.useSelector)(c.f),Z=Object(n.useSelector)(k.b),ee=Object(n.useSelector)(c.o),te=Object(n.useSelector)(w.j),ae=Object(n.useSelector)(w.e),oe=Object(n.useSelector)(w.f),ne=Object(n.useSelector)(w.d),le=Object(n.useSelector)(r.n),se=Object(o.useRef)(null);Object(o.useEffect)((()=>{se.current=le.services}),[le.services]);const re=E===s.d.SERVICE_SPARE_PART,ce=Object(g.b)([Ie,!(null==C?void 0:C.orderable)&&"buybox-order-is-disabled"]),de=C.generalPositionTypeGroup===Nt.a.ZMLE,ue=!ae&&!oe,me=Object(T.h)(Z)||de&&!O&&!te.enableReservationForLineExtension||ue,pe=!U&&B&&!ee&&(null==C?void 0:C.orderable)&&!M,be=!(null==C?void 0:C.orderable)&&(null==C?void 0:C.process2CProduct)&&ne,he=(e,t)=>{var a;E!==s.d.SERVICE_SPARE_PART&&t&&(null==h?void 0:h.length)>0?(a=e,q(Object(l.Vc)($,_,a))).then((t=>{W({modalIsActive:!0,scrollIsActive:!1,type:I.b.MEDIUM,modalContent:i.a.createElement(P.a,{orderQuantity:"string"==typeof e?parseInt(e,10):e,initialServicesData:null==t?void 0:t.payload,onActionButtonClick:()=>{var a;S(e,null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.guid,se.current),se.current={}},onUpdateServices:Y,onClose:_e,isMobileXs:ee})})})):(Q(),S(e))},ge=(e,t)=>i.a.createElement(yt,{type:e,subsidiary:t,product:C,coupons:f,onOrderButtonClicked:he}),Ee=e=>i.a.createElement(Tt,{subsidiary:e,product:C,coupons:f,onOrderButtonClicked:he}),_e=e=>{null==e||e.preventDefault(),Q()},Ce=()=>{let e=!0;q(Object(l.od)($,_)).then((t=>{e=!1,W({modalIsActive:!0,scrollIsActive:!0,destroyOnUnmount:!1,type:I.b.WIDE,class:A.a,modalContent:i.a.createElement(j.b,{startSubmit:K,stopSubmit:X,onSubmit:z,onClose:_e,formData:t.payload,loading:e,showMessage:()=>{},initialData:t.payload,dataErrors:J})})}))};return C.woodCutting&&!O?i.a.createElement("div",{className:Te},i.a.createElement(D.a,{className:`${Pe} btn btn__secondary btn__xl`,textCode:"productDetailPage.woodcutting.define",onClick:Ce}),!Object(T.i)({location:Z})&&i.a.createElement(nt,{icon:null===(t=null==C?void 0:C.availabilityDetails)||void 0===t?void 0:t.icon,availabilityText:null===(a=null==C?void 0:C.availabilityDetails)||void 0===a?void 0:a.availabilityText,price:null===(u=null===(d=null==C?void 0:C.logisticServices)||void 0===d?void 0:d[0].serviceConfiguration)||void 0===u?void 0:u.serviceProduct.price,services:null==C?void 0:C.logisticServices,isCarrierProduct:x,isProcessCProduct:!!(null==C?void 0:C.processCData),isProcess2CProduct:be,isReservable:!1,isOutlet:O,product:C,renderSecondContent:ge,renderOutletReserveContent:Ee,showReservation:!1}),i.a.createElement(F,null)):i.a.createElement("div",{className:`${ye}`},i.a.createElement("div",{ref:H,className:ce},O&&!Object(T.h)(Z)?null:i.a.createElement(R.a,{onAddToCart:he,openServicesModal:!0,product:C,location:Z,onOrderQuantityChange:N})),i.a.createElement(Ne,{isCarrierProduct:x,product:C,isOutlet:O}),i.a.createElement("div",{className:Te},i.a.createElement(Ve,null)),Object(T.i)({location:Z})?O&&i.a.createElement(ie,{isSparePart:re,hideReservation:me,product:C,isOutlet:O,renderSecondContent:ge,renderOutletReserveContent:Ee}):i.a.createElement(nt,{icon:null===(m=null==C?void 0:C.availabilityDetails)||void 0===m?void 0:m.icon,availabilityText:null===(p=null==C?void 0:C.availabilityDetails)||void 0===p?void 0:p.availabilityText,price:null===(v=null===(b=null==C?void 0:C.logisticServices)||void 0===b?void 0:b[0].serviceConfiguration)||void 0===v?void 0:v.serviceProduct.price,services:null==C?void 0:C.logisticServices,isCarrierProduct:x,isProcessCProduct:!!(null==C?void 0:C.processCData),isProcess2CProduct:be,isReservable:O?C.reservable:C.reservable||C.showStockEnquiry,isOutlet:O,product:C,renderSecondContent:ge,renderOutletReserveContent:Ee,showReservation:!(re||me)}),i.a.createElement(ve,{isSparePart:re,services:h}),i.a.createElement(F,null),pe&&i.a.createElement(St,{product:C,onOrderButtonClicked:he,onOrderQuantityChange:N,noVariantSelectedErrorCallback:L}))};It.displayName="PDSBuyBox";var Pt=Object(o.memo)(It);var At=Object(o.memo)((e=>{const{product:t,isCarrierProduct:a,sendOnAddToCart:o,isOutlet:n,coupons:l,isFooterVisible:s,noVariantSelectedErrorCallback:r}=e,{showStockEnquiry:c,orderable:d,orderInformation:u,processCData:m}=t,E=Object(g.b)([Object(v.b)()===h.a.BIKEWORLD&&p]);return a?null:a||!t||d||c||!u?i.a.createElement("div",{className:E},t&&i.a.createElement(N,{headline:null==m?void 0:m.headline,text:null==m?void 0:m.htmltext,html:null==m?void 0:m.htmlLightbox}),i.a.createElement(Pt,{noVariantSelectedErrorCallback:r,onAddToCart:o,isOutlet:n,product:t,coupons:l,isCarrierProduct:a,isFooterVisible:s})):i.a.createElement("div",{className:b,dangerouslySetInnerHTML:{__html:Object(S.a)(u)}})})),jt="_29X7YfEOUNFhJGKm2BZcBB",Rt="_1EEi_HP8KiS-aIQMRfxibo",Dt="_3Wf_hpWU_08QiI18KuTgW_",wt="_1UGeFXHoIkPqoLmnEYEW3n";var kt=Object(o.memo)((({coupon:e,showNames:t=!1})=>e?i.a.createElement("li",{className:Object(g.b)([jt,!t&&Rt])},i.a.createElement(ut.b,{key:e.imageUrl,className:Dt,url:e.imageUrl,alt:e.name,profiles:[mt.l.SM.asDefault()],sizes:[mt.l.SM]}),t&&i.a.createElement("span",{className:wt},e.name)):null)),xt=a(316),Lt=a(203);const Mt=({coupons:e,isCarrierProduct:t,isSparePart:a})=>{const o=Object(Lt.b)();return t||a||!((null==e?void 0:e.length)>0||o)?null:i.a.createElement("div",{className:_.a.coupons},i.a.createElement("h3",{className:_.a.couponsTitle},i.a.createElement(x.a,{code:"productDetailSidebar.coupons.cumulus.title"}),i.a.createElement(se.b,{className:_.a.couponsTooltip,placement:O.a.BOTTOM,showClose:!1,content:i.a.createElement(x.a,{code:"productDetailSidebar.coupons.cumulus.tooltip"})})),i.a.createElement(xt.a,{isPdp:!0,showTooltip:!1}),e.length>0&&i.a.createElement(x.a,{className:_.a.couponsCount,code:"productDetailSidebar.coupons."+(1===e.length?"one":"multiple"),params:e.length}),i.a.createElement("ul",null,e.map((e=>i.a.createElement(kt,{key:e.ean,coupon:e,showNames:!0})))))};Mt.displayName="PDSCoupons";var Bt=Object(o.memo)(Mt),Ft=a(38),Vt="_1ySWGIjgG1fE3sYaMdRw2M",Ut="_1qopQokCbS9JdbuTbEvsLM",Ht="_1C1ZzqQtmVF7QEC0tJWPWS",Gt="_3AB_9_LomfZsmGyjG32kv2",qt="fowFXht27HeoISOu_krPU",Wt="_2uZBIPkEzEwJrTdSM2FbSe",zt="_1Af8YXO1djgLsmT3hv7mGD",Kt="_2iZfPMAK_5EFCSjB5OUA5g";var Xt=Object(o.memo)((e=>{var t,a,o;const{product:s}=e,r=Object(n.useSelector)(c.j),d=Object(n.useSelector)(k.b),u=Object(n.useDispatch)(),m=Object(Ft.s)(null==s?void 0:s.summaryLink,r,d,!1),p=(null==s?void 0:s.brand)||(null===(t=null==s?void 0:s.brand)||void 0===t?void 0:t.url)||(null==s?void 0:s.summary)||(null==s?void 0:s.summaryLink),b=i.a.createElement("span",{className:Kt},i.a.createElement($.a,{size:J.a.MD,symbol:J.b.CHEVRON_RIGHT}));return i.a.createElement("div",{className:zt},i.a.createElement("h1",{"data-testid":"product-title",className:`u-reset ${Wt}`},null===(a=null==s?void 0:s.brand)||void 0===a?void 0:a.name," ",null==s?void 0:s.name),p&&i.a.createElement("span",{className:Vt},i.a.createElement("span",{className:Ut},i.a.createElement(x.a,{code:"productDetailPage.titlebrandtype.moreof"})),(null==s?void 0:s.brand)&&(null==s?void 0:s.brand.url)&&i.a.createElement(tt.b,{to:null==s?void 0:s.brand.url,className:`${qt} ${Ht}`},null==s?void 0:s.brand.name,b),(null==s?void 0:s.brand)&&!(null==s?void 0:s.brand.url)&&i.a.createElement("span",{className:qt},null===(o=null==s?void 0:s.brand)||void 0===o?void 0:o.name,b),(null==s?void 0:s.summaryLink)&&(null==s?void 0:s.summary)&&i.a.createElement("span",{className:Ht,onClick:e=>{e.stopPropagation(),e.preventDefault(),u(Object(l.pd)(m))}},null==s?void 0:s.summary,b),!(null==s?void 0:s.summaryLink)&&(null==s?void 0:s.summary)&&i.a.createElement("span",{className:Gt},null==s?void 0:s.summary,b)))})),Qt=a(989),Yt="H8Cq0oKV1rA-0hY6GrsUY",$t=a(926);var Jt=Object(o.memo)((({product:e,hasCoupons:t})=>{const{percentageReduction:a,newProduct:o,eyecatchers:l,highlights:r,testWinnerLabels:c,brand:u}=e,m=Object(n.useSelector)(d.j),p=Object(n.useSelector)(w.v),b=Object(n.useSelector)(d.h),g=m&&p&&t&&!b,E=null==l?void 0:l.find((e=>e.url.toLowerCase().includes("bestprice")||e.url.toLowerCase().includes("best_price"))),_=Object(v.f)(h.a.MSERVICE)&&(null==u?void 0:u.name)&&e.serviceType===s.d.SERVICE_SPARE_PART;if(!(a||E||o||g||(null==r?void 0:r.length)||(null==c?void 0:c.length)||_))return null;const C=[o,a],f=E&&C.filter((e=>e)).length<2;C.push(f);const O=(null==c?void 0:c.length)>0&&C.filter((e=>e)).length<2;C.push(O);const S=g&&C.filter((e=>e)).length<2,N=null==r?void 0:r.find((e=>e.code===Nt.c.VEGETARIAN)),y=null==r?void 0:r.find((e=>e.code===Nt.c.VEGAN));return i.a.createElement("div",{className:Yt},o&&i.a.createElement(Qt.a,{placement:$t.a.PDP,type:$t.b.NEWPRODUCT,product:e}),_&&i.a.createElement(Qt.a,{placement:$t.a.PDP,type:$t.b.BRAND,product:e}),!!a&&i.a.createElement(Qt.a,{placement:$t.a.PDP,type:$t.b.PERCENTREDUCTION,product:e}),f&&i.a.createElement(Qt.a,{placement:$t.a.PDP,type:$t.b.BESTPRICE,product:e}),O&&i.a.createElement(Qt.a,{placement:$t.a.PDP,type:$t.b.TEST_WINNER,product:e}),S&&i.a.createElement(Qt.a,{placement:$t.a.PDP,type:$t.b.CUMULUS,product:e}),N&&i.a.createElement(Qt.a,{placement:$t.a.TILE,type:$t.b.VEGETARIAN,product:e}),y&&i.a.createElement(Qt.a,{placement:$t.a.TILE,type:$t.b.VEGAN,product:e}))})),Zt=a(185),ea="_2B6ulNLF35UIEgqIeEeE3j",ta="_22uiEjN2-lYLyqCPIipm-7",aa="_16atExXQ9Y3MpG5y82DJP1",oa="_2Ij52XLevw8qHsyPqMbprg";var ia=Object(o.memo)((({product:e})=>i.a.createElement("div",{className:ta},i.a.createElement("div",{className:aa},i.a.createElement(x.a,{className:ea,code:"productDetailPage.woodcutting.title"})),i.a.createElement("div",{className:oa},i.a.createElement(x.a,{code:"productDetailPage.woodcutting.info",params:[e.thickness,e.width,e.length]}))))),na=a(1018),la=a(22),sa=a(950),ra=a(1019),ca=a(913);var da=Object(o.memo)((({product:e})=>{const{price:t,suggestedRetailPrice:a,brand:o,energyEfficiency:n,name:l=""}=e,s=a?a.value:null;return t?i.a.createElement("div",{className:`${ra.a.detailOptionsPrice} ${ra.a.detailOptionsMarginBottom}`},i.a.createElement(ne.a,{parentClasses:`${_t.a.priceDetail}`,price:t.value,originalPrice:s,currency:t.currencyIso,validUntil:s&&t.formattedEndDate?t.formattedEndDate:null,validUntilCode:"productDetailPage.price."+(t.ppro?"ppro":"endDate"),priceUnit:e&&e.priceUnit?e.priceUnit:null}),n&&i.a.createElement(sa.a,{efficiencyClass:n.efficiencyClass,arrow:n.arrow,image:n.image,styleModifier:ca.a.DETAIL,productTitle:`${o&&o.name?o.name:""} ${l}`,lazyload:!1})):(la.a.info("Product has no price."),null)})),ua=a(1299);var ma=a(300);const pa=Object(V.a)({loader:()=>a.e(150).then(a.bind(null,1735)),loading:U.a,modules:["shop/client/components/molecules/detail-page/frame-size-finder"],name:"shop/client/components/molecules/detail-page/frame-size-finder",webpack:()=>[1735]}),ba=e=>{var t,a;const{product:r,index:c,isPrimary:d,noVariantSelectedError:u}=e,[m]=Object(o.useState)({}),p=Object(n.useDispatch)(),b=()=>p(Object(l.C)()),v=r.variantSelectionGroups&&!!r.variantSelectionGroups.find((e=>!!e.classificationCategory&&e.classificationCategory.type===s.d.VARIANT_SELECTION_GROUP_TYPES.size))?s.d.VARIANT_SELECTION_GROUP_TYPES.size:s.d.VARIANT_SELECTION_GROUP_TYPES.frameSize;if(r.variantSelectionGroups&&r.variantSelectionGroups.length>=c+1){const e=null===(a=null===(t=null==r?void 0:r.variantSelectionGroups)||void 0===t?void 0:t[c])||void 0===a?void 0:a.classificationCategory,o=null==e?void 0:e.type,n=[];if(n.push(i.a.createElement(ua.a,{key:c,isPrimary:d,product:r,variantSelectionGroup:r.variantSelectionGroups[c],preselectedOptionValue:m[o]||null,noVariantSelectedError:u,errorMsg:"detailVariantOptionBox.error.msg.size"})),r.frameSizeFinder&&o===v&&(la.a.warn("FrameSizeFinder not available"),0)){const e=()=>{p(Object(l.Bd)());var e;e={modalIsActive:!0,scrollIsActive:!1,type:I.b.MEDIUM,class:ma.a,onClose:()=>{p(Object(l.F)()),b()},modalContent:i.a.createElement(pa,{product:r,onAcceptFrameSizeButtonClick:e=>{const t=r.variantSelectionGroups.find((e=>{var t;return(null===(t=e.classificationCategory)||void 0===t?void 0:t.type)===v})),a=t&&t.options.find((t=>t.productCode===e));var o;a&&(o=a.productUrl,p(Object(l.pd)(o))),b()}})},p(Object(l.Ne)(e))};n.push(i.a.createElement("div",{key:"framesizeFinder",className:ra.a.detailOptionsLightboxLink,onClick:e},i.a.createElement(x.a,{code:"productDetailPage.frameSizeFinder.link"})))}return n}return null},va=Object(V.a)({loader:()=>Promise.all([a.e(2),a.e(3),a.e(15),a.e(45),a.e(124)]).then(a.bind(null,1739)),loading:U.a,modules:["shop/client/components/molecules/detail-page/sidebar/components/pds-option-box/components/option-box-ratings-widget"],name:"shop/client/components/molecules/detail-page/sidebar/components/pds-option-box/components/option-box-ratings-widget",webpack:()=>[1739]}),ha=Object(V.a)({loader:()=>a.e(34).then(a.bind(null,719)),loading:U.a,modules:["shop/client/components/molecules/cms/promo-teaser-component/CMSPromoTeaserComponent"],name:"shop/client/components/molecules/cms/promo-teaser-component/CMSPromoTeaserComponent",webpack:()=>[719]});var ga=Object(o.memo)((e=>{var t;const{product:a,isOutlet:o,noVariantSelectedError:r=!1}=e,c=a.serviceType!==s.d.SERVICE_CARRIER,d=Object(n.useSelector)(Le.c),u=null===(t=null==d?void 0:d.contentSlots)||void 0===t?void 0:t.find((e=>e.position===Ae.f.CMSSlots.PROMO_TEASER)),m=Object(n.useDispatch)(),p=a&&a.woodCutting?i.a.createElement(ia,{product:a}):i.a.createElement("div",{className:ra.a.detailOptionsProductoptions},ba({index:0,isPrimary:!0,product:a,noVariantSelectedError:r}),ba({index:1,isPrimary:!1,product:a,noVariantSelectedError:r}));return i.a.createElement("div",{className:ra.a.detailOptions},c&&i.a.createElement(da,{product:a}),!!u&&!Object(le.c)(u.components)&&i.a.createElement(ha,Object.assign({},u.components[0])),i.a.createElement(va,{product:a,isOutlet:o}),i.a.createElement(na.b,{product:a,isOutlet:o}),c&&!o&&p,a.sizeChart&&i.a.createElement("div",{className:ra.a.detailOptionsLightboxLink,onClick:t=>{var a;null==t||t.preventDefault(),a={modalIsActive:!0,scrollIsActive:!1,type:I.b.WIDE,class:A.a,modalContent:i.a.createElement(Zt.c,{html:e.product.sizeChart,hideTitle:!0})},m(Object(l.Ne)(a))}},i.a.createElement(x.a,{code:"productDetailPage.sizechart.link"})))})),Ea=a(55),_a=a(882),Ca=a(918),fa=a(52),Oa=a(39),Sa="h809O2sSLkPPWCS_l6FPL",Na="_3Mse4m7BYyc2uT_bPDm--f",ya="k56KJm0SJvGzlson1z0vb",Ta="VAai2LC6kxXADonkB0dkW",Ia="_1aI9O3Cr2NlilUQf5UDnOs",Pa="_3jDUQSRJ5EF_tiJCq3KPxr",Aa="_23IMFkZZvv492NIKQinV-6",ja="_1NBu_qYG-FOWH863awdENL",Ra="_2So1DDPUX-HKlojTkySjbT",Da="_28WNDDffD5kIrmYj6DuecO",wa="_27LA8G-vHFwR9KVGIVnu39",ka="_2yKMLECEHnuJIAWHTFtpFv";var xa=e=>{var t,a,o,n,l;const{firstTile:s,product:r,variantAvailable:c}=e,d=null===(t=null==r?void 0:r.brand)||void 0===t?void 0:t.name;return i.a.createElement("div",{className:Ta},i.a.createElement(tt.a,{to:r.url,className:"u-reset"},i.a.createElement("div",{className:Ia,"data-component":"productBundleTile"},i.a.createElement("div",{className:Pa},!s&&i.a.createElement($.a,{symbol:J.b.PLUS,size:J.a.MD,className:Aa})),i.a.createElement("div",{className:ja},(null===(o=null===(a=null==r?void 0:r.images)||void 0===a?void 0:a[0])||void 0===o?void 0:o.url)&&i.a.createElement("div",{className:Ra},i.a.createElement(ut.b,{className:Da,url:null==r?void 0:r.images[0].url,background:!1,alt:null==r?void 0:r.name,lazyload:!1,useLoaderDots:!0,forceNoSizes:!0}))),i.a.createElement("div",{className:wa},i.a.createElement("div",{className:Sa},d&&i.a.createElement("span",{className:ka},`${d} `),null==r?void 0:r.name),c&&i.a.createElement("div",{className:Na},i.a.createElement(x.a,{code:"productBundle.tile.variantAvailability",className:ya})),i.a.createElement("div",null,i.a.createElement(ne.a,{parentClasses:_t.a.priceProductBundle,price:null===(n=r.price)||void 0===n?void 0:n.value,originalPrice:null===(l=r.suggestedRetailPrice)||void 0===l?void 0:l.value}))))))},La=a(1154),Ma={"u-mq-info":"aiiCV0aJzuFQ8BYdCuT5C",uMqInfo:"aiiCV0aJzuFQ8BYdCuT5C","product-bundle":"lA5ab-S7I8fPZ7TsYP1bv",productBundle:"lA5ab-S7I8fPZ7TsYP1bv","content-head":"Hl-cCMo7ccuw7JiT85s0c",contentHead:"Hl-cCMo7ccuw7JiT85s0c","bundle-off":"_3ol4CimTn_IgKquARqDTvo",bundleOff:"_3ol4CimTn_IgKquARqDTvo","discount-price":"_11wEfkfemDTu0W13VZHFOw",discountPrice:"_11wEfkfemDTu0W13VZHFOw","discount-price-cumulus":"_2djPwmS6Er_RmhEJImxsor",discountPriceCumulus:"_2djPwmS6Er_RmhEJImxsor","original-price":"_1ev6ailsOma14i4WhmxHQQ",originalPrice:"_1ev6ailsOma14i4WhmxHQQ","tile-wrapper":"_3jVdjVvt9ycs2n58zalIN0",tileWrapper:"_3jVdjVvt9ycs2n58zalIN0","bundle-variants":"_3_SmcPuuAKidMGRwtXZ6d6",bundleVariants:"_3_SmcPuuAKidMGRwtXZ6d6","bundle-variants-text":"_2Qdw_js55DGHJRu0QBxWx-",bundleVariantsText:"_2Qdw_js55DGHJRu0QBxWx-","bundle-variants-icon":"_1A2UzJ7omq67baJR5nedRP",bundleVariantsIcon:"_1A2UzJ7omq67baJR5nedRP","cta-button":"_1ecl4Y6n_B-aPQdMJY7jOS",ctaButton:"_1ecl4Y6n_B-aPQdMJY7jOS"},Ba=a(96),Fa="Kx62R4zjHZdiyG2LSjlNr",Va="_3LfnxNkXrQVw9CXLj0FAh1",Ua="R5lpydpJpbBqMksj8qTLt",Ha="_32sS5iaUjOZQfrPMezM8pi",Ga="_38tb-nBf9RiVtgGUSMJZWe",qa="_1N1BCD-XV84COuuiPB8OE1",Wa="_2SQiNEatgMqMzwuBU6bnOY",za="_2wYdBg7rz_YVrcteLyA4Zq",Ka="_3xqlCZtmN_aQ-ujTDT7qD-",Xa="pIymILSmBMfoVZHZE_ufr",Qa="_1vUMNpA46vC4J4c8Kt3rRg",Ya="_16P34vM_Ee1F3xjvqy3CdQ",$a="_5gAII-kL6jcsWy8bKvhdG",Ja="_1oHTfLKUf4IarcODMbazjB",Za="k0HwOvdVoxI9HoHdjjq3t",eo="_5XujCZPBnIBgeaMKhVIRz",to=a(1022),ao=a(297),oo=a(936),io="_2sUbfqrXNGa09TTZm4Ch6N",no="_1FkshPgUce6g_vHj0vcNSn",lo="R5IBb8NXaDX3mVCIgf6Tl",so="_2m-dDW1yA7FAvOOv4V2ptS",ro="_1EyYGaJRlsyaE3EBlQS6eu";const co=e=>{const{hasFocus:t,initalValue:a,labelText:n,labelCode:l,testId:s,message:r=null,parentStyles:c}=e,d=Object(Oa.__rest)(e,["hasFocus","initalValue","labelText","labelCode","testId","message","parentStyles"]),{id:u,name:m,type:p=oo.a.TEXT,onChange:b,onBlur:v,onFocus:h,required:E=!1,value:_,disabled:C,className:f}=d,O=Object(Oa.__rest)(d,["id","name","type","onChange","onBlur","onFocus","required","value","disabled","className"]),[S,N]=Object(o.useState)(_||a),[y,T]=Object(o.useState)(t),I=null!=_?_:S,P=e=>{var t;b?(null===(t=null==e?void 0:e.persist)||void 0===t||t.call(e),null==b||b(e)):N(e.target.value)},A=e=>{var t;null===(t=null==e?void 0:e.persist)||void 0===t||t.call(e),null==v||v(e),T(!1)},j=e=>{var t;null===(t=null==e?void 0:e.persist)||void 0===t||t.call(e),null==h||h(e),T(!0)},R=Object(g.c)(io,no,f),D=Object(g.c)(lo,y&&ro,C&&so,c);return i.a.createElement("div",{className:R},(()=>{const e={name:m||u,value:I,className:D};return s&&(e["data-testid"]=s),i.a.createElement("input",Object.assign({},O,{id:u,type:p,required:E,disabled:C,onChange:P,onBlur:A,onFocus:j},e))})(),r)};co.displayName="SimpleFormInputComponent";var uo,mo=co;!function(e){e.HEIGHT="height",e.WEIGHT="weight",e.INSEAM="inseam"}(uo||(uo={}));var po=a(1228),bo=a(1227),vo=a(1136),ho="_3DS_GZN3osmsbwsdNtyi-Q";const go=e=>{const{classNames:t,textCode:a,content:o,placement:n=O.a.TOP,isMobileXs:l=!1}=e,s=Object(g.c)(vo.a.actionGeneral,ho,t);return i.a.createElement(se.b,{key:bo.a.TOOLTIP,className:s,placement:n,content:o,allowHTML:!0,textCode:a,maxWidth:l?330:470})};go.displayName="TooltipAction";var Eo=go,_o=a(1551);const Co=e=>{var t,a,r,d,u,m;const{service:p,guid:b,parentServiceCode:v,mandatory:h,productCode:g,isDisabled:E,isSubservice:_=!1,productQuantity:C,setIsDisabled:f}=e,[O,S]=Object(o.useState)(C.toString()),[N,y]=Object(o.useState)((()=>{const{height:e="",inseam:t=""}=(()=>{let e={};try{e=JSON.parse(sessionStorage.getItem("customerBodyData")||"{}")||s.d.EMPTY_OBJECT}catch(t){la.a.error(`SessionStorage: JSON parse error:${t}`)}return e})();return{height:e,weight:"",inseam:t}})),T=Object(n.useSelector)(c.j),I=Object(n.useDispatch)();let P=null===(a=null===(t=null==p?void 0:p.serviceConfiguration)||void 0===t?void 0:t.serviceProduct)||void 0===a?void 0:a.name;const A=null===(r=null==p?void 0:p.serviceConfiguration)||void 0===r?void 0:r.additionalInformation,j=null===(d=null==p?void 0:p.serviceConfiguration)||void 0===d?void 0:d.montagePro,R=""!==N.height,D=null===(m=null===(u=null==p?void 0:p.serviceConfiguration)||void 0===u?void 0:u.serviceProduct)||void 0===m?void 0:m.selectedQuantity;Object(o.useEffect)((()=>{let e=j&&p.checked;j&&p.checked&&R&&(e=!1),f(e)}),[j,p.checked,R]);const w=e=>{const t=_o(e.target.value,10);if(!Number.isNaN(t))return S(e.target.value)},k=(e,t)=>{const a=_o(e.target.value,10);if(!Number.isNaN(a)||""===e.target.value)return y(Object.assign(Object.assign({},N),{[t]:e.target.value||""}))},L=()=>{let e=_o(O,10);e>C&&(e=C,S(e.toString())),e<1&&(e=1,S("1")),e!==D&&B(p.serviceConfiguration.code,"changeQuantity",b,v,e)},M=e=>()=>{const t=_o(N[e],10);isNaN(t)||B(p.serviceConfiguration.code,"changeField",b,v,null,t,e)},B=(e,t,a,o,i=C,n,s)=>Object(Oa.__awaiter)(void 0,void 0,void 0,(function*(){const r={quantity:C,guid:a,service:e,action:t,selectedQuantity:i,parentService:o,value:void 0,field:void 0};s&&(r.value=n,r.field=s),I(Object(l.hf)()),yield(e=>I(Object(l.wf)(T,g,e)))(r),I(Object(l.kf)())}));p.logisticServiceRequired&&(P+=" *");const F=E&&!p.checked;return i.a.createElement("article",{key:`${b}${p.serviceConfiguration.serviceProduct.code}`,className:`${qa} ${_&&Wa}`},i.a.createElement(to.a,{className:`${Ka} ${F&&Xa}`,label:P,id:`${p.serviceConfiguration.code}_${b}`,disabled:h||F,checked:p.checked,onChange:s.c,onClick:((e,t)=>()=>{const a=e.checked?"uncheck":"check";B(e.serviceConfiguration.code,a,b,t,_o(O,10))})(p,v)}),(()=>{const e=p.serviceConfiguration.serviceProduct.description;return e?i.a.createElement("div",{className:za},i.a.createElement(se.b,{content:e,allowHTML:!0,appendTo:ao.a.getMainModalNode})):null})(),p.checked?i.a.createElement(mo,{className:Qa,parentStyles:Ya,disabled:1===C,onBlur:L,onChange:w,value:O}):null,i.a.createElement(ne.a,{parentClasses:`${Ga} ${p.checked&&$a}`,price:p.serviceConfiguration.serviceProduct.price.value,currency:p.serviceConfiguration.serviceProduct.price.currencyIso}),j&&p.checked&&i.a.createElement("div",{className:Ja},i.a.createElement("div",{className:Za},i.a.createElement(x.a,{className:Ua,code:"services.lightbox.montage.pro.text"}),i.a.createElement(po.a,{className:eo,required:!1,labelCode:"services.lightbox.form.field.height.placeholder",value:N.height,onChange:e=>k(e,uo.HEIGHT),onBlur:M(uo.HEIGHT)}),i.a.createElement(po.a,{className:eo,required:!1,labelCode:"services.lightbox.form.field.weight.placeholder",value:N.weight,onChange:e=>k(e,uo.WEIGHT),onBlur:M(uo.WEIGHT)}),i.a.createElement(po.a,{className:eo,required:!1,labelCode:"services.lightbox.form.field.inseam.placeholder",value:N.inseam,actions:i.a.createElement(Eo,{textCode:"services.lightbox.form.field.inseam.tooltip"}),onChange:e=>k(e,uo.INSEAM),onBlur:M(uo.INSEAM)}))),A&&i.a.createElement("div",{className:`${Ha} ${F&&Xa}`},p.serviceConfiguration.additionalInformation))};Co.displayName="SingleService";var fo=Co;const Oo=e=>{const{guid:t,productQuantity:a,parentClass:n,productCode:l,services:s,setIsDisabled:r}=e,c=[],d=[];s.forEach((e=>{e.configuredMandatory?c.push(e):d.push(e)}));const u=d.some((e=>e.serviceConfiguration.code.includes("BWO_MONTAGE_PRO")&&e.checked)),m=(e,n=null,s=!1,c=!1)=>i.a.createElement(o.Fragment,{key:`${t}${e.serviceConfiguration.serviceProduct.code}`},i.a.createElement(fo,{service:e,productCode:l,parentServiceCode:n,mandatory:s,guid:t,isDisabled:u,isSubservice:c,productQuantity:a,setIsDisabled:r}),(null==e?void 0:e.childServices)&&((e,o)=>0===e.length?null:e.map((e=>i.a.createElement(fo,{key:`${t}${e.serviceConfiguration.code}`,service:e,productCode:l,parentServiceCode:o,mandatory:e.configuredMandatory,guid:t,isSubservice:!0,isDisabled:u,productQuantity:a,setIsDisabled:r}))))(e.childServices,e.serviceConfiguration.code));return i.a.createElement("div",{className:n},d.map((e=>m(e))),0===c.length?null:i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Va},i.a.createElement(x.a,{className:Fa,code:"services.lightbox.mandatory.services.text"})),c.map((e=>m(e,null,!0)))))};Oo.displayName="ProductBundleServiceEntry";var So=Oo,No="G2ygPV0dxxMWI8VkhnVdI",yo="Dx-_AxC5AkjNgaa0KeYDT",To="iDI6YXSr0EK4su4kObOpC",Io="_1Ny09_Z3OWPslBnmRFzNy8",Po="_38FFZ3lACVxAMHnvNyF64k",Ao="_1nMBCJpYVr2aJqFOczWrSb",jo="_3bYqvP-qSVaxeq9g43Usw3",Ro="_1J5BWgQMiy-ddZNgzkxqAq",Do="_3SLDoa-8vDbWlgf0F31RMJ",wo="_3n4nOy7xOTPL7q56hsozw_",ko="hBkBod5UqOY-kTRetEu8z";const xo=({services:e,setIsDisabled:t})=>{var a,o;const{productCode:l}=e,s=e.services.some((e=>!0===e.logisticServiceRequired)),c=Object(n.useSelector)(r.e),d=Object(n.useSelector)(r.h),u=t=>{var a,o,n;return i.a.createElement("div",{className:`${yo} ${t&&ko}`},i.a.createElement(x.a,{className:Do,code:t?"services.pb-lightbox.discount.price.text":"services.pb-lightbox.total.price.text"}),i.a.createElement(ne.a,{parentClasses:"price__service-lightbox",priceValueClasses:wo,price:t?null===(a=null==e?void 0:e.discountTotal)||void 0===a?void 0:a.value:null===(o=null==e?void 0:e.serviceTotal)||void 0===o?void 0:o.value,currency:t?e.discountTotal.currencyIso:null===(n=null==e?void 0:e.serviceTotal)||void 0===n?void 0:n.currencyIso}))},m=0===c.length?d:c[0].products.find((e=>e.code===l)),p=null===(a=null==m?void 0:m.brand)||void 0===a?void 0:a.name;return m?i.a.createElement("section",{className:Io},i.a.createElement("div",{className:jo},i.a.createElement(ut.b,{className:Ao,url:null==m?void 0:m.images[0].url,background:!1,alt:null==m?void 0:m.name,lazyload:!1,useLoaderDots:!0,forceNoSizes:!0})),i.a.createElement("div",{className:To},p?`${p} `:""," ",m.name),i.a.createElement(So,{parentClass:Po,guid:e.guid,orderQuantity:1,productCode:l,services:e.services,productQuantity:e.productQuantity,setIsDisabled:t}),i.a.createElement("div",{className:Ro},(null===(o=null==e?void 0:e.discountTotal)||void 0===o?void 0:o.value)<0&&u(!0),u(!1),s&&i.a.createElement(x.a,{className:No,code:"services.lightbox.logistic.service.mandatory"}))):null};xo.displayName="ProductBundleServiceEntries";var Lo=xo,Mo="_3ZeIm0Vyo6lC_PRPHVS_po",Bo="_2qBGrPHvX9E2DsGfl3rJ9V";const Fo=e=>{const{onAddToCart:t,onClose:a}=e,[l,s]=Object(o.useState)(!1),d=Object(n.useSelector)(c.o),u=Object(n.useSelector)(r.d),m=u.some((e=>e.services.some((e=>e.checked))))?"services.lightbox.button.withServices":"services.lightbox.button.withoutServices";return i.a.createElement(Zt.a,{parentClasses:Mo,titleCode:d?"service.lightbox.title.xs":"services.lightbox.title",closeButtonVariant:je.b.PRIMARY_OUTLINE,closeButtonSize:je.a.MD,onClose:a,onButtonClick:()=>{t(u)},buttonTextCode:m,buttonSize:je.a.MD,buttonsRight:!0,disabled:l},i.a.createElement("div",{className:Bo},u.map((e=>i.a.createElement(Lo,{key:e.guid,services:e,setIsDisabled:s})))))};Fo.displayName="ProductBundleServiceLightbox";var Vo=Fo;const Uo=({onClick:e})=>{const t=Object(n.useSelector)(c.j),a=Object(n.useSelector)(r.e),o=Object(n.useSelector)(ot.B),d=Object(n.useSelector)(ot.x);if(0===a.length)return null;const{coupon:u,monetaryDiscount:m,price:p,products:b,suggestedRetailPrice:v,cumulusPoints:h,entries:g}=a[0],E=Object(Y.b)(null==v?void 0:v.value,!1),_=Object(Y.b)(p.value,!1),C=Object(Y.b)(m,!1),f=Object(La.b)(h),O=Object(n.useDispatch)(),S=b.filter((e=>e.serviceType!==s.d.SERVICE_SPARE_PART)),N=e=>Object(Oa.__awaiter)(void 0,void 0,void 0,(function*(){O(Object(l.hf)()),yield O(Object(l.a)(t,a[0],e,1)),O(Object(l.kf)()),y()})),y=()=>{O(Object(l.jf)()),O(Object(l.w)()),O(Object(l.C)())},T=g.some((e=>e.variantsAvailable));return a?i.a.createElement("div",{className:Ma.productBundle},i.a.createElement("div",{className:Ma.contentHead},i.a.createElement("div",{className:Ma.bundleOff},(()=>{switch(null==u?void 0:u.couponType){case Ba.c.FIX_CUMULUS:return i.a.createElement(x.a,{code:"productBundle.title.discount.fixCumulus",params:u.value});case Ba.c.VARIABLE_CUMULUS:return i.a.createElement(x.a,{code:"productBundle.title.discount.variableCumulus",params:u.value});case Ba.c.MONETARY:default:return i.a.createElement(x.a,{code:"productBundle.title.discount.fixMoney",params:[p.currencyIso,C]})}})()),i.a.createElement("div",null,(null==u?void 0:u.couponType)===Ba.c.FIX_CUMULUS||(null==u?void 0:u.couponType)===Ba.c.VARIABLE_CUMULUS?i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{className:`${Ma.discountPrice} ${Ma.discountPriceCumulus}`,code:"productBundle.title.discount.cumulus.points",params:f}),i.a.createElement(x.a,{className:Ma.originalPrice,code:"productBundle.title.discount.cumulus.price",params:[p.currencyIso,_]})):i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:Ma.discountPrice},p.currencyIso," ",_),i.a.createElement(x.a,{code:"price.suggestedretailprice.instead",className:Ma.originalPrice})," ",E))),i.a.createElement("div",{className:Ma.tileWrapper},g.map(((e,t)=>i.a.createElement(xa,{firstTile:0===t,product:e.product,key:e.product.code,variantAvailable:e.variantsAvailable})))),T&&i.a.createElement("div",{className:Ma.bundleVariants},i.a.createElement($.a,{className:Ma.bundleVariantsIcon,size:J.a.MS,symbol:J.b.INFO}),i.a.createElement(x.a,{code:"productBundle.info.wrapper.bottom",className:Ma.bundleVariantsText})),i.a.createElement("div",{className:Ma.contentFooter},i.a.createElement(D.a,{loading:o||d,parentClasses:Ma.ctaButton,textCode:"product.productBundle.addToCart",variant:je.b.PRIMARY,onClick:()=>Object(Oa.__awaiter)(void 0,void 0,void 0,(function*(){if(e)return void e();O(Object(l.gf)()),O(Object(l.w)()),O(Object(l.hf)());const a=S.map(((e,a)=>O(Object(l.Qc)(t,e.code,a)))),o=(yield Promise.all(a)).some((e=>{var t,a;return 0!==(null===(a=null===(t=null==e?void 0:e.payload)||void 0===t?void 0:t.services)||void 0===a?void 0:a.length)}));var n;(O(Object(l.kf)()),o)?(n={modalIsActive:!0,scrollIsActive:!1,type:I.b.WIDE,onClose:y,modalContent:i.a.createElement(Vo,{onAddToCart:N,onClose:y})},O(Object(l.Ne)(n))):yield N([])})),size:je.a.LG}))):null};Uo.displayName="ProductBundle";var Ho=Object(o.memo)(Uo);const Go=Object(V.a)({loader:()=>a.e(98).then(a.bind(null,1302)),loading:U.a,modules:["shop/client/components/molecules/liveshopping/LiveShopping"],name:"shop/client/components/molecules/liveshopping/LiveShopping",webpack:()=>[1302]}),qo=Object(V.a)({loader:()=>Promise.all([a.e(1),a.e(62)]).then(a.bind(null,976)),loading:U.a,modules:["shop/client/components/molecules/slider/slider/Slider"],name:"shop/client/components/molecules/slider/slider/Slider",webpack:()=>[976]}),Wo=e=>{const{product:t,onAddToCart:a,isOutlet:p,showRRRightPDPSlider:b=!1,isFooterVisible:v}=e,h=t.serviceType===s.d.SERVICE_CARRIER,g=t.serviceType===s.d.SERVICE_SPARE_PART,[E,_]=Object(o.useState)(!1),C=Object(n.useSelector)(r.i),f=Object(n.useSelector)(c.j),O=Object(n.useSelector)(r.g),S=Object(n.useSelector)(d.j),N=Object(n.useSelector)(k.b),y=Object(n.useSelector)(w.q),I=Object(T.h)(N),P=Object(n.useDispatch)();Object(o.useEffect)((()=>{var e,a;S&&(e=f,a=t.code,P(Object(l.Rc)(e,a)))}),[S]);return i.a.createElement("div",{className:u},i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt,{product:t}),t.productLiveShoppingComponent&&!I&&!p&&i.a.createElement("div",{className:m},i.a.createElement(Go,{liveShopping:C,productCode:t.code})),i.a.createElement(Jt,{product:t,hasCoupons:(null==O?void 0:O.length)>0}),i.a.createElement(ga,{product:t,isOutlet:p,noVariantSelectedError:E}),i.a.createElement(At,{noVariantSelectedErrorCallback:_,isCarrierProduct:h,product:t,isOutlet:p,sendOnAddToCart:(e,t,o)=>{a(e,t,o)},coupons:O,isFooterVisible:v}),i.a.createElement(Ho,null),O&&i.a.createElement(Bt,{coupons:O,isCarrierProduct:h,isSparePart:g}),b&&y&&i.a.createElement(i.a.Fragment,null,i.a.createElement(qo,{placement:Ea.a.ItemPage.RECS_1_SIDE,sliderType:_a.a.PDP_RR_RIGHT,tileConfig:{tileType:Ca.b.SLIDER,showAction:!0,tileList:fa.e.SLIDER.DAZU_PASST,tileListInfoCode:Ea.a.ItemPage.RECS_1_SIDE}}),i.a.createElement(qo,{placement:Ea.a.ItemPage.RECS_2_SIDE,sliderType:_a.a.PDP_RR_RIGHT,tileConfig:{tileType:Ca.b.SLIDER,showAction:!0,tileList:fa.e.SLIDER.DAZU_PASST,tileListInfoCode:Ea.a.ItemPage.RECS_2_SIDE}}))))};Wo.displayName="ProductDetailSidebar";t.default=Object(o.memo)(Wo)},1551:function(e,t,a){var o=a(84),i=a(103),n=/^\s+/,l=o.parseInt;e.exports=function(e,t,a){return a||null==t?t=0:t&&(t=+t),l(i(e).replace(n,""),t||0)}},882:function(e,t,a){"use strict";var o;a.d(t,"a",(function(){return o})),function(e){e.BASE="base",e.CUSTOM="custom",e.OCCASION="occasions",e.LISTING="listing",e.ACCESSORIES="accessories",e.KIB_ACCESSORIES="kib_accessories",e.KIB_SPAREPARTS="kib_spareparts",e.PLP="plp",e.PDP_RR_RIGHT="pdp_rr_right",e.PDP="pdp",e.STAGE_CANVAS_IMAGE_MAP_SLIDER="image_map_slider"}(o||(o={}))},911:function(e,t,a){"use strict";t.a={"u-mq-info":"_1Z4l17Lj8h0Vg3IE60-lyS",uMqInfo:"_1Z4l17Lj8h0Vg3IE60-lyS","text-with-icon":"_36KnazVyFO-oMQ4mj1RzS9",textWithIcon:"_36KnazVyFO-oMQ4mj1RzS9",text:"IekRJA434Qh5leH8IiAqS",title:"_2oSnBCC4ISEhUZcDciFS-Q",green:"_3K7CA6_-SvPb9mDPLH5I8Z",orange:"hRWI9cql8ACBJLBDy7cyu",red:"_3tVVjHGUJhNxMlXd-G3dat",black:"xwB2QWcRfsSpM02_4nLhG","svg-mobile":"_2dLr2Pf95yhZG7DJ6KyfwB",svgMobile:"_2dLr2Pf95yhZG7DJ6KyfwB",container:"_2qUSw95tH560wIrD0M1zoj","container-inner":"CH8NdvwkffpwU4S63P_Ks",containerInner:"CH8NdvwkffpwU4S63P_Ks","container-with-svg":"_2ntQ7noglSGBheVyzTQ9X7",containerWithSvg:"_2ntQ7noglSGBheVyzTQ9X7","tooltip-body":"_1GSTZEOgiKK1UkvNlHn_Wp",tooltipBody:"_1GSTZEOgiKK1UkvNlHn_Wp"}},913:function(e,t,a){"use strict";var o;a.d(t,"a",(function(){return o})),function(e){e.DETAIL="detail",e.TILE="tile",e.LIVESHOPPING="liveshopping"}(o||(o={}))},914:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return u}));var o=a(3),i=a(127),n=a.n(i);const l={},s=[],r=e=>e.percentageReduction?`-${n.a.formatNumber(e.percentageReduction,0,o.d.THOUSANDS_SEPARATOR,o.d.DECIMAL_SEPARATOR)}%`:null,c=e=>e&&e.serviceType!==o.d.SERVICE_CARRIER&&e.variantInformation||l,d=e=>c(e).colorVariants||s,u=(e,t,a,i)=>{let n=o.d.LISTING_PAGE_SIZE;a&&(n=o.d.LISTING_PAGE_SEO_SIZE);const{pagination:l}=e,s=e.currentCount||0,r=l&&l.totalResults||0,c=r-s,d=c<=0;return{countToLoad:c,currentCount:s,pageSize:n,countNextPage:c>n?n:c,autoLoadActive:!d&&(!!i||s>n*o.d.AUTOSCROLL_AFTER_PAGE),allProductsLoaded:d,totalResults:r,loading:t}}},918:function(e,t,a){"use strict";var o,i;a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i})),function(e){e.BASE="base",e.OUTLET="outlet",e.COMPACT="compact",e.COMPARE="compare",e.LISTING="listing",e.SLIDER="slider",e.SLIDER_LISTING="sliderl",e.RECENTLY_VIEWED="recently-viewed",e.PRODUCT_BUNDLE="product-bundle",e.BLOG_PRODUCT_SLIDER="blog-product-slider"}(o||(o={})),function(e){e.FORM="FORM",e.LIST="LIST"}(i||(i={}))},925:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return s}));var o=a(102),i=a(3);const n=e=>Object(o.f)(e).wishlist||i.a,l=e=>n(e).length,s=e=>Object(o.f)(e).wishlistFullyLoaded},926:function(e,t,a){"use strict";var o,i;a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i})),function(e){e.TILE="tile",e.PDP="pdp",e.CART="cart",e.CHECKOUT="checkout"}(o||(o={})),function(e){e.PERCENTREDUCTION="percentReduction",e.BESTPRICE="bestPrice",e.RESERVABLE="reservable",e.NEWPRODUCT="newproduct",e.CUMULUS="cumulus",e.VEGAN="vegan",e.VEGETARIAN="vegetarian",e.BUNDLE_PRODUCT="bundleProduct",e.BUNDLE_PRODUCT_VARIABLE_CUMULUS="bundleProductVariableCumulus",e.BUNDLE_PRODUCT_FIX_CUMULUS="bundleProductFixCumulus",e.BUNDLE_PRODUCT_MONETARY="bundleProductMonetary",e.TEST_WINNER="test-winner",e.BRAND="brand"}(i||(i={}))},931:function(e,t,a){"use strict";var o=a(1),i=a.n(o),n=a(185),l=a(14),s=a(33);t.a=()=>i.a.createElement(n.c,{titleCode:"wishlist.employee.lightbox.headline",closeButtonVariant:s.b.PRIMARY_OUTLINE,closeButtonSize:s.a.MD,closeButtonTextCode:"wishlist.employee.lightbox.button.close"},i.a.createElement("div",null,i.a.createElement(l.a,{code:"wishlist.employee.lightbox.description"})))},936:function(e,t,a){"use strict";var o;a.d(t,"a",(function(){return o})),function(e){e.TEXT="text",e.TELEPHONE="tel",e.EMAIL="email",e.NUMBER="number",e.RADIO="radio",e.CHECKBOX="checkbox",e.PASSWORD="password",e.BUTTON="button"}(o||(o={}))},950:function(e,t,a){"use strict";var o=a(1),i=a.n(o),n=a(82),l=a(186),s=a(28),r=a(10),c=a(13),d=a(45),u=a(125),m="_3-TytQZJ1Exu0-UuOKgv3Y",p="_3sKlAuYeGT3R24SL3-O6hm",b="_1I4CBhMLikSJJPDinr7gAB",v="_6JXRiiH3yX84UOk1lQBfg",h="_2dfTC1XxNjF3JZyeV40n-r",g="_1114wN-585a5X-jlwBYms2",E="_2VD4YK9BI4Yg2VmGdWtx3P",_=a(913),C=a(5);t.a=Object(o.memo)((e=>{const{image:t,productTitle:a,arrow:o,efficiencyClass:f,styleModifier:O,lazyload:S}=e,N=Object(C.useDispatch)(),y=Object(c.b)([O===_.a.DETAIL&&h,O===_.a.TILE&&g,O===_.a.LIVESHOPPING&&E]);return i.a.createElement("div",{className:p,onClick:e=>{var o;e&&e.preventDefault(),o={styleModifier:"energy-efficiency",modalIsActive:!0,scrollIsActive:!1,type:d.b.WIDE,class:u.a,modalContent:i.a.createElement("div",{className:b},a&&i.a.createElement("div",{className:m},i.a.createElement("span",null,a)),i.a.createElement(n.b,{className:v,image:{url:t.url},profiles:[s.l.LG,s.l.XL],placeholder:!1,sizes:[s.l.LG,s.l.XL,s.l.XL,s.l.XL,s.l.XL],lazyload:S}))},N(Object(r.Ne)(o))}},i.a.createElement(l.b,{className:y,src:o.url,placeholder:!1,alt:f,lazyload:S}))}))},987:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var o=a(1),i=a.n(o),n=a(5),l=a(10),s=a(45),r=a(931),c=a(160),d=a(15),u=a(925),m=a(23),p=a(25),b=a(52);const v=(e,t)=>{const[a,v]=Object(o.useState)(!1),h=Object(n.useSelector)(d.j),g=Object(n.useSelector)(u.a),E=Object(n.useSelector)(m.j),_=Object(n.useSelector)(m.h),C=Object(n.useSelector)(p.g),f=Object(n.useDispatch)(),O=e=>f(Object(l.Ne)(e)),S=t=>f(Object(l.Sb)(t,[e])),{code:N,url:y,variantSelectionGroups:T}=e,I=Object(o.useMemo)((()=>!!g&&g.some((e=>{var t;return(null===(t=e.product)||void 0===t?void 0:t.code)===N}))),[g,e]),P=e=>{var t;null==e||e.preventDefault(),v(!0),(t=N,f(Object(l.M)(h,t))).then((()=>{v(!1),S(b.e.WISHLIST.REMOVE)}))},A=a=>{null==a||a.preventDefault();let o=y.includes("?selectVariant");o&&T&&(o=!(null==T?void 0:T.every((e=>e.options.some((e=>e.isCurrentlySelected))))));const n={source:C,selectVariant:o};E&&_?O({type:s.b.WIDE,modalContent:i.a.createElement(r.a,null),modalIsActive:!0,scrollIsActive:!1,onClose:()=>{},secondContentActive:!1}):E?(v(!0),((e,t)=>f(Object(l.g)(h,e,t)))(N,n).then((()=>{v(!1),S(b.e.WISHLIST.ADD)}))):(S(b.e.WISHLIST.INTEND),O({type:s.b.WIDE,modalContent:i.a.createElement(c.c,{product:e,removeFromCart:t}),modalIsActive:!0,scrollIsActive:!1,styleModifier:"wishlist-modal",onClose:()=>{},secondContentActive:!1}))},j=Object(o.useMemo)((()=>I?P:A),[I,g,E,_,C,e]);return{isProductAlreadyOnList:I,isLoading:a,addOrRemoveProduct:j,addToWishlist:A}}},989:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var o=a(1),i=a.n(o),n=a(5),l="_3nVqa6cCoAC-ihsNyYz9jR",s="_1C4_IV3ISfuFSMAxkT04JC",r="_3pl8XEOb-l5Dq17ah0GJT-",c="_3JTVjSqZ6rkoGc5amffsAV",d="_22xnEeU80egw0ULnS720-O",u="_2C5ZPBlTrj0BulPsZdDI36",m="_189AUmV_pJ9fR0HP77th8Z",p="_3PFvsrvSudiMHOhD3pf-Ux",b="_3uJMWRSJeJXJ2eUccrD2wc",v="_2_LKBVqHCl8ww1TZHaMmnz",h="HsXms6Zu6lxnqiDbk9t10",g="_3GjymgtR9j7TcV2PA_wuPp",E="_3I8S4jzBfe2zFu3dsNxpOl",_="_19v8LhyeylrzYWNYRlSA6B",C="kvg0vVoF6JbH7LKBR2mXD",f="_3_qqlxEwG-mqWmIMw1fK54",O="lz4bzYsDwjqh0XLTOpOto",S="_1JU7b1NU3EpmRDh0vCcUCS",N="h7pI9kQTwLhXG8CCEVFhy",y="tfnrarCe3HGK_FNiRvlC4",T="ikob7erMuii61MIk_boZw",I="uStjvCerRPaeFL2L6szXE",P="_2jPIv_zZ_v0ueAzGjBk-J2",A=a(926),j=a(14),R=a(30),D=a(4),w=a(51),k=a(13),x=a(50),L=a(914),M=a(15),B=a(95);const F=e=>e?`${e.currency||"CHF"} ${Object(B.b)(Math.abs(e.value),!1)}`:`CHF ${Object(B.b)(0,!1)}`,V=({placement:e,product:t,type:a,coupon:o})=>{const B=Object(n.useSelector)(M.o),V=e===A.a.PDP&&a!==A.b.PERCENTREDUCTION,U=e===A.a.PDP&&a===A.b.PERCENTREDUCTION,H=Object(k.b)([a===A.b.NEWPRODUCT&&y,a===A.b.RESERVABLE&&T,a===A.b.BESTPRICE&&f,a===A.b.PERCENTREDUCTION&&O,a===A.b.CUMULUS&&C,a===A.b.VEGETARIAN&&_,a===A.b.VEGAN&&E,a===A.b.BUNDLE_PRODUCT&&h,a===A.b.BUNDLE_PRODUCT_VARIABLE_CUMULUS&&b,a===A.b.BUNDLE_PRODUCT_FIX_CUMULUS&&b,a===A.b.BUNDLE_PRODUCT_MONETARY&&v,a===A.b.TEST_WINNER&&N,a===A.b.BRAND&&S,e===A.a.PDP&&I,e===A.a.CHECKOUT&&g,e===A.a.TILE&&B&&P]),G=[A.b.BUNDLE_PRODUCT_VARIABLE_CUMULUS,A.b.BUNDLE_PRODUCT_FIX_CUMULUS,A.b.BUNDLE_PRODUCT_MONETARY].includes(a),q=((e,t,a,o)=>{var n;switch(e){case A.b.RESERVABLE:return i.a.createElement(j.a,{className:t,code:"product.outlet.tile.discount.reserved"});case A.b.PERCENTREDUCTION:return i.a.createElement("span",{className:t},Object(L.a)(a));case A.b.NEWPRODUCT:return i.a.createElement(j.a,{className:t,code:"product.distinction.new"});case A.b.BESTPRICE:return i.a.createElement(j.a,{className:t,code:"listing.tile.best.price"});case A.b.CUMULUS:return i.a.createElement(j.a,{className:t,code:"pdp.sidebar.eyecatcher"});case A.b.VEGETARIAN:return i.a.createElement(R.a,{className:t,symbol:D.b.VEGETARIAN,size:D.a.LG,fontColor:!1});case A.b.VEGAN:return i.a.createElement(R.a,{className:t,symbol:D.b.VEGAN,size:D.a.LG,fontColor:!1});case A.b.BUNDLE_PRODUCT:return i.a.createElement(j.a,{className:t,code:"product.productBundle.setAdvantage"});case A.b.BUNDLE_PRODUCT_VARIABLE_CUMULUS:return i.a.createElement(j.a,{className:t,code:"productBundle.eyecatcher.variableCumulus",params:[(null==o?void 0:o.value)||0]});case A.b.BUNDLE_PRODUCT_FIX_CUMULUS:return i.a.createElement(j.a,{className:t,code:"productBundle.eyecatcher.fixCumulus",params:[(null==o?void 0:o.value)||0]});case A.b.BUNDLE_PRODUCT_MONETARY:return i.a.createElement(j.a,{className:t,code:"productBundle.eyecatcher.monetary",params:[F(o)]});case A.b.TEST_WINNER:return i.a.createElement(j.a,{className:t,code:"product.testwinner.eyecatcher"});case A.b.BRAND:return i.a.createElement(j.a,{className:t,code:"product.brand.eyecatcher",params:[null===(n=a.brand)||void 0===n?void 0:n.name]});default:return null}})(a,Object(k.b)([V&&Object(x.b)()!==w.a.MICASA&&p,V&&Object(x.b)()===w.a.MICASA&&m,U&&Object(x.b)()!==w.a.MICASA&&u,U&&Object(x.b)()===w.a.MICASA&&d,e===A.a.TILE&&c,e===A.a.CART&&l,e===A.a.CHECKOUT&&s,G&&r]),t,o);return i.a.createElement("div",{className:H},q)};V.displayName="Eyecatcher";var U=Object(o.memo)(V)},995:function(e,t,a){"use strict";var o=a(1),i=a.n(o);class n extends o.PureComponent{constructor(e){super(e),this.emergencyFocusOverride=()=>{this.$input.focus(),this.setState({hasFocus:!0})},this.focus=()=>{this.$input.focus()},this.onFocus=()=>{this.setState({hasFocus:!0}),this.props.onFocus&&this.props.onFocus(this.$input.value)},this.onBlur=e=>{const t=e.currentTarget.value;this.setState({value:t,hasFocus:!1}),this._callOnChangeCallback(e,t),this.props.onBlur&&this.props.onBlur(t)},this.onChange=(e,t)=>{t||(t=e.currentTarget.value),this.setState({value:t}),this._callOnChangeCallback(e,t)},this._callOnChangeCallback=(e,t)=>{const a=t||e.target.value;this.props.onChange&&!this.props.fullEvent?this.props.onChange(a):this.props.onChange&&this.props.onChange({value:a,name:e.target.name})},this.$placeholderCharRegex=new RegExp(this.props.placeholderChar,"g"),this.state={hasFocus:!1,value:""}}componentDidMount(){this.state.hasFocus&&this.$input.focus()}componentDidUpdate(e,t){t.hasFocus!==this.state.hasFocus&&this.$input&&this.state.hasFocus&&this.$input.focus(),e.value!==this.props.value&&this.state.value!==this.props.value&&this.setState({value:this.props.value})}}n.defaultProps={state:{},attrs:{},value:"",fullEvent:!1,parentClasses:"",label:"",placeholderChar:"_"};var l=n,s=a(13),r=a(159),c=a(30),d=a(4),u=a(14),m=a(16),p=a(101),b=a(77);class v extends l{constructor(e){super(e),this.calculateFlyoutPosition=e=>{const t=Object.assign({},this.state);if(e.flyoutPosition)t.flyoutPosition=e.flyoutPosition;else{const e=this.$selectArrow.getBoundingClientRect(),a=document.body.getBoundingClientRect(),o=e.top,i=a.height-(e.top+e.height);t.flyoutPosition=o>=i?b.a.TOP:b.a.BOTTOM}this.setState(t)},this.onSelect=e=>{e&&e.preventDefault(),this.state.isActive?this.setState({isActive:!1}):this.setState({isActive:!0})},this.handleTouchendAfterSelectOpen=()=>{this.setState({hasFocus:!1,isActive:!1})},this.onFocus=()=>{this.setState({hasFocus:!0})},this.onBlur=()=>{this.setState({hasFocus:!1})},this.onChange=(e,t)=>{e&&e.preventDefault(),this.handleTouchendAfterSelectOpen();const{returnObject:a}=this.props,o=this._getValue(t);null!==this.state.value&&o===this._getValue(this.state.value)||(this.props.onChange(a?t:o),this.setState({value:t.value}))},this._renderLabel=e=>e.renderFactory?e.renderFactory(e):this._getLabel(e),this._getSelectArrowRef=e=>{this.$selectArrow=e},this._renderActions=()=>{const e=[];e.push(i.a.createElement("span",{className:"form-field--action form-field--action__select",ref:this._getSelectArrowRef,key:"select"},i.a.createElement(c.a,{hasVariableSize:!0,size:d.a.SM,symbol:d.b.CHEVRON_DOWN})));const t=e.length;return i.a.createElement("div",{className:"form-field--actions","data-action-count":t},e)},this._renderMultiSelectOptions=()=>{const{options:e,id:t}=this.props,a=e.map((e=>({value:this._getValue(e),labelDOM:this._renderLabel(e),checked:e.checked,attrs:e.attrs})));return i.a.createElement(r.a,{type:m.a.CHECKBOX,id:t,entries:a,onChange:e=>{const t=e.filter((e=>e.checked));this.setState({value:t.map((e=>e.value))}),this.props.onMultiSelect(e)}})},this._renderOptions=()=>{const{options:e,multiSelect:t}=this.props;if(t)return this._renderMultiSelectOptions();return e.map(((e,t)=>{const a=Object(s.b)(["form-field--option",e.disabled&&"form-field--option__is-disabled",this._getLabel(this.state.value)===this._getLabel(e)&&"form-field--option__is-current"]);return i.a.createElement("span",{className:a,onFocus:this.onFocus,onBlur:this.onBlur,onClick:t=>this.onChange(t,e),key:t},this._renderLabel(e))}))},this._renderFloaterValue=e=>i.a.createElement("div",{className:"form-field--floater-wrap"},i.a.createElement("label",{className:"form-field--floater"},this.props.label),i.a.createElement("div",{className:"form-field--floater-value"},e)),this._renderFormElement=()=>{const{renderFactory:e,isAnchor:t,isFloater:a}=this.props;let o=this._getLabel(this.state.value)||this.props.label;e&&(o=e(this.state.value));let n=this.props.buttonClass||"form-field--input";return this.props.hasError&&(n+=" form-field--input-container-error-btn"),t?i.a.createElement("a",Object.assign({id:"test-detail-btn-"+this._getLabel(this.state.value),className:"form-field--link u-reset"},this.props.attrs,{onClick:this.onSelect,onFocus:this.onFocus,onBlur:this.onBlur}),a?this._renderFloaterValue(o):o):i.a.createElement("button",Object.assign({type:"button",id:"test-detail-btn-"+this.props.id,name:this.props.name||this.props.id,className:n},this.props.attrs,{onClick:this.onSelect,onFocus:this.onFocus,onBlur:this.onBlur}),a?this._renderFloaterValue(o):o)},this._renderErrorMsg=()=>{var e,t;if((null===(e=this.props)||void 0===e?void 0:e.hasError)&&(null===(t=this.props)||void 0===t?void 0:t.errorMsg))return i.a.createElement("div",{className:"form-field--input-container-error-msg"},i.a.createElement(u.a,{code:this.props.errorMsg}))},this._setInputContainerRef=e=>{e&&(this.$inputContainer=e)},this._getInputContainerRef=()=>this.$inputContainer,this.tooltip=()=>{var e,t;const a=(null===(t=null===(e=this._getInputContainerRef())||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.width)-4||0;return i.a.createElement(p.a,{trigger:b.c.CLICK,placement:this.state.flyoutPosition,appendTo:this.$inputContainer,shouldDisplaySymbol:!1,reference:this._getInputContainerRef(),showClose:!1,theme:this.props.theme,shouldStopClick:!1,content:i.a.createElement("div",{className:"form-field--options",style:{width:a}},i.a.createElement("div",{className:"form-field--options-fix-for-ie"},this._renderOptions()))})},this.state={hasFocus:!1,isActive:!1,value:this.props.value,flyoutPosition:this.props.flyoutPosition}}componentDidUpdate(e,t){const a={};null!==this.props.attrs.hasFocus&&e.attrs.hasFocus!==this.props.attrs.hasFocus&&(a.hasFocus=this.props.attrs.hasFocus),null!==this.props.value&&this.props.value!==e.value&&(a.value=this.props.value,a.hasFocus=!1),void 0!==a.hasFocus&&this.setState(a)}componentDidMount(){this.calculateFlyoutPosition(this.props)}_getValue(e){const{selector:t}=this.props;return t&&t.valueSelector?e[t.valueSelector]:e}_getLabel(e){const{selector:t,options:a,multipleSelectedCode:o}=this.props;if(e&&t){if(Array.isArray(e)){if(e.length>1)return i.a.createElement(u.a,{code:o,params:e.length});{const e=a.find((e=>e.checked));return e?e[t.labelSelector]:null}}return e[t.labelSelector]||e[t.valueSelector]||e}}render(){var e;const t=Object(s.b)(["form-field","form-field__input","form-field__select","form-field__select-flyout",this.props.parentClasses,this.state.value&&"form-field__is-filled",this.state.hasFocus&&"form-field__has-focus",this.state.isActive&&"form-field__is-active",this.props.attrs.disabled&&"form-field__is-disabled",this.props.multiSelect&&"form-field__select-multiple"]),a=Object(s.b)(["form-field--input-container",(null===(e=this.props)||void 0===e?void 0:e.buyboxmini)&&"form-field--input-container-buyboxmini"]);return i.a.createElement("div",{className:t},i.a.createElement("div",{className:a,ref:this._setInputContainerRef},this._renderActions(),this._renderFormElement(),this.tooltip()),i.a.createElement("div",null,this._renderErrorMsg()))}}v.defaultProps={parentClasses:"",flyoutClass:"",flyoutPosition:b.a.TOP,flyoutOffset:4,state:{},attrs:{},value:"",fullEvent:!1,selector:{valueSelector:"value",labelSelector:"label"},returnObject:!1,label:"",placeholderChar:"_",options:[],onChange:()=>{}};t.a=v}}]);