(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{1007:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return V}));var n,o,i=r(887),s=r.n(i),a=r(884),u=r.n(a),c=(r(921),r(898)),f=r(905),l=r(1035),h=r(1069),p=r.n(h),d=r(899),y=r.n(d),v=r(892),m=r.n(v),b=r(1233),g=r.n(b),E=r(902),O=r.n(E),w=r(891),R=r.n(w),I=r(903),S=r.n(I),x=r(904),A=r.n(x),T=(r(889),r(942),r(901),r(1030)),_=r.n(T),C=r(1031),L=r.n(C),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_()(this,e),s()(this,"first",null),s()(this,"items",{}),s()(this,"last",null),s()(this,"size",0),s()(this,"max",void 0),s()(this,"ttl",void 0),this.max=t,this.ttl=r}return L()(e,[{key:"has",value:function(e){return e in this.items}},{key:"clear",value:function(){return this.first=null,this.items={},this.last=null,this.size=0,this}},{key:"delete",value:function(e){if(this.has(e)){var t=this.items[e];delete this.items[e],this.size--,null!==t.prev&&(t.prev.next=t.next),null!==t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}return this}},{key:"evict",value:function(){var e=this.first;return delete this.items[e.key],this.first=e.next,this.first.prev=null,this.size--,this}},{key:"get",value:function(e){var t;if(this.has(e)){var r=this.items[e];this.ttl>0&&r.expiry<=(new Date).getTime()?this.delete(e):(t=r.value,this.set(e,t,!0))}return t}},{key:"keys",value:function(){return m()(this.items)}},{key:"set",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n||this.has(e)){if((r=this.items[e]).value=t,this.last!==r){var o=this.last,i=r.next,s=r.prev;this.first===r&&(this.first=r.next),r.next=null,r.prev=this.last,o.next=r,null!==s&&(s.next=i),null!==i&&(i.prev=s)}}else this.max>0&&this.size===this.max&&this.evict(),r=this.items[e]={key:e,value:t,expiry:this.ttl>0?(new Date).getTime()+this.ttl:this.ttl,prev:this.last,next:null},1==++this.size?this.first=r:this.last.next=r;return this.last=r,this}}]),e}();function N(e,t){var r=m()(e);if(O.a){var n=O()(e);t&&(n=R()(n).call(n,(function(t){return S()(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):A.a?Object.defineProperties(e,A()(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,S()(r,t))}))}return e}function M(e){return function(e){for(var t=2166136261,r=0;r<e.length;r++)t^=e.charCodeAt(r),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(p()(e)).toString(36)}function D(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.size,n=void 0===r?100:r,o=t.ttl,i=void 0===o?0:o,a=t.initialState,u=t.clearInitialState,c=new j(n,i);a&&y()(e=m()(a)).call(e,(function(e){c.set(e,a[e])}));return{get:function(e){return c.get(M(e))},set:function(e,t){return c.set(M(e),t)},delete:function(e){return c.delete(M(e))},clear:function(){u&&u(),c.clear()},keys:function(){return g()(c).call(c)},getInitialState:function(){return g()(c).call(c).reduce((function(e,t){return P(P({},e),{},s()({},t,c.get(t)))}),{})}}}!function(e){e.local="local",e.development="development",e.test="test",e.production="production"}(o||(o={}));var U=(n={},s()(n,o.local,"https://localhost:3000/reactions/"),s()(n,o.development,"https://dev-web-api.migros.ch/reactions/"),s()(n,o.test,"https://test-web-api.migros.ch/reactions/"),s()(n,o.production,"https://web-api.migros.ch/reactions/"),n),k="__STATE__",V=function(e){var t,r=e.env,n=e.webAPIKey,i=e.originSSR,s=e.tokenFn,a=e.language,h=e.initialState,p=Object(c.isBrowser)()?D({initialState:h||window[k]&&window[k].msrcInitialState,clearInitialState:function(){window[k]&&(window[k].msrcInitialState={})}}):D({initialState:h});return new f.b({cache:p,headers:!Object(c.isBrowser)()&&i?{origin:i}:void 0,fetch:Object(l.b)(s,a),url:u()(t="".concat(U[r],"?key=")).call(t,n),logErrors:r!==o.production&&r!==o.test})}},1035:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return h}));var n=r(908),o=r.n(n),i=r(884),s=r.n(i),a=r(909),u=r.n(a),c=r(1232),f=r.n(c),l=function(e,t){return o()(u.a.mark((function r(){var n;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",void 0);case 2:if("string"!=typeof e){r.next=4;break}return r.abrupt("return",e);case 4:return r.prev=4,r.next=7,e.getAccessToken(t);case 7:return n=r.sent,r.abrupt("return",n.token);case 11:return r.prev=11,r.t0=r.catch(4),r.abrupt("return",void 0);case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))},h=function(e,t){return function(){var r=o()(u.a.mark((function r(n,o){var i,a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o.headers||(o.headers={}),o.headers["x-api-client"]=s()(i="".concat("@migros/msrc-community"," ")).call(i,"4.0.5"),!e){r.next=7;break}return r.next=5,e();case 5:(a=r.sent)&&(o.headers.Authorization="Bearer ".concat(a));case 7:return t&&(o.headers["Accept-Language"]=t),r.next=10,f()(n,o);case 10:return r.abrupt("return",r.sent);case 11:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}},1036:function(e,t,r){"use strict";var n=r(912);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},1039:function(e,t,r){e.exports=r(1144)},1142:function(e,t,r){e.exports=r(1143)},1143:function(e,t,r){var n=r(1216);e.exports=n},1144:function(e,t,r){var n=r(1145);e.exports=n},1145:function(e,t,r){var n=r(1146);e.exports=n},1146:function(e,t,r){var n=r(916),o=r(1147),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||n(i,e)&&t===i.indexOf?o:t}},1147:function(e,t,r){r(1148);var n=r(920);e.exports=n("Array").indexOf},1148:function(e,t,r){"use strict";var n=r(886),o=r(894),i=r(1084).indexOf,s=r(1036),a=o([].indexOf),u=!!a&&1/a([1],1,-0)<0,c=s("indexOf");n({target:"Array",proto:!0,forced:u||!c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?a(this,e,t)||0:i(this,e,t)}})},1149:function(e,t,r){var n=r(1150),o=r(1039);e.exports=function(e,t){if(null==e)return{};var r,i,s={},a=n(e);for(i=0;i<a.length;i++)r=a[i],o(t).call(t,r)>=0||(s[r]=e[r]);return s},e.exports.default=e.exports,e.exports.__esModule=!0},1150:function(e,t,r){e.exports=r(1151)},1151:function(e,t,r){var n=r(1215);e.exports=n},1229:function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,r)}(e,o,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var o,i,s,a;if(c(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=f(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=h.bind(n);return o.listener=r,n.wrapFn=o,o}function d(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):v(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else{var c=u.length,f=v(u,c);for(r=0;r<c;++r)i(f[r],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,o,i,s;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},1230:function(e,t,r){"use strict";const n=r(1231);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof n}},1231:function(e,t,r){"use strict";e.exports=class{constructor({uri:e,name:t,type:r}){this.uri=e,this.name=t,this.type=r}}},1232:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=d(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=f(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=f(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r,n,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function O(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];O.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(I){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function R(e,r){return new Promise((function(n,i){var s=new g(e,r);if(s.signal&&s.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new O(o,r))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}R.polyfill=!0,e.fetch||(e.fetch=R,e.Headers=h,e.Request=g,e.Response=O),t.Headers=h,t.Request=g,t.Response=O,t.fetch=R,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},1233:function(e,t,r){e.exports=r(1234)},1234:function(e,t,r){r(1051);var n=r(998),o=r(935),i=r(916),s=r(1235),a=Array.prototype,u={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===a||i(a,e)&&t===a.keys||o(u,n(e))?s:t}},1235:function(e,t,r){var n=r(1236);e.exports=n},1236:function(e,t,r){r(1085),r(1201);var n=r(920);e.exports=n("Array").keys},1301:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n,o,i,s,a,u=r(877),c=r.n(u),f=r(878),l=r.n(f),h=r(982),p=r.n(h),d=r(1),y=r.n(d),v=r(881),m=r(884),b=r.n(m),g=r(1673),E=Object(v.g)(n||(n=c()(["\n  color: ",";\n  text-decoration: none;\n  border-bottom: ",";\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    color: ",";\n    ",";\n  }\n  ","\n\n  ","\n"])),(function(e){return e.theme.colors.brand.primary[100]}),(function(e){var t=e.underline,r=e.theme.colors;return t?"1px solid ".concat(r.brand.primary[100]):"none"}),(function(e){return e.theme.colors.brand.secondary[100]}),(function(e){var t=e.underline,r=e.theme.colors;return t&&"border-bottom-color: ".concat(r.brand.secondary[100])}),g.a,(function(e){var t,r,n=e.highlight,o=e.theme.fonts;return n&&b()(t=b()(r="\n        font-weight: ".concat(o.weights.semiBold,";\n        font-family: ")).call(r,o.families.condensed,";\n        font-size: ")).call(t,o.sizes.text.xsmall,";\n        text-transform: uppercase;\n        ")})),O=Object(v.g)(o||(o=c()(["\n  text-decoration: none;\n  color: ",";\n  cursor: pointer;\n\n  position: relative;\n  padding-bottom: 4px;\n  ",";\n\n  ","\n\n  ","\n"])),(function(e){return e.theme.colors.brand.text[100]}),g.a,(function(e){var t,r=e.highlight,n=e.theme.fonts;return r?b()(t="\n        font-family: ".concat(n.families.notes,";\n        font-size: ")).call(t,n.sizes.text.medium,";\n        text-transform: uppercase;\n        "):""}),(function(e){var t,r=e.underlineBold,n=e.theme.colors.brand;return r?b()(t='\n  :before {\n    content: "";\n    display: block;\n    position: absolute;\n    top: auto;\n    left: 0;\n    bottom: 0;\n    background-color: '.concat(n.primary,";;\n    width: 100%;\n    height: 4px;\n    border-radius: 4px 3px 3px 2px;\n    -webkit-transition: background-color .3s ease-in-out;\n    transition: background-color .3s ease-in-out;\n  }\n\n  :hover:before, :focus:before {\n    background-color: ")).call(t,n.highlight,";\n  }\n  "):""})),w=(r(896),Object(v.g)(i||(i=c()(["\n  color: ",";\n  text-decoration: none;\n  border-bottom: ",";\n  cursor: pointer;\n  font-family: ",";\n\n  :hover,\n  :focus {\n    color: ",";\n    ",";\n  }\n\n  ","\n"])),(function(e){return e.theme.colors.brand.primary[100]}),(function(e){var t=e.underline,r=e.theme.colors;return t?"1px solid ".concat(r.brand.primary[100]):"none"}),(function(e){return e.theme.fonts.families.condensed}),(function(e){return e.theme.colors.brand.secondary[100]}),(function(e){var t=e.underline,r=e.theme.colors;return t&&"border-bottom-color: ".concat(r.brand.secondary[100])}),(function(e){var t,r=e.highlight,n=e.theme.fonts;return r?b()(t="\n        font-weight: ".concat(n.weights.bold,";\n        font-size: ")).call(t,n.sizes.text.xsmall,";\n        text-transform: uppercase;\n        "):""}))),R=Object(v.g)(s||(s=c()(["\n  color: ",";\n  text-decoration: none;\n  cursor: pointer;\n\n  :hover,\n  :focus {\n    color: ",";\n  }\n\n  ","\n"])),(function(e){return e.theme.colors.brand.primary[100]}),(function(e){return e.theme.colors.brand.secondary[100]}),g.a),I=["children","underline","underlineBold","highlight"],S=function(e){var t=e.children,r=e.underline,n=void 0!==r&&r,o=e.underlineBold,i=void 0!==o&&o,s=e.highlight,a=void 0!==s&&s,u=p()(e,I);return y.a.createElement(A,l()({underline:n,underlineBold:i,highlight:a},u),t)},x={mgb:E,migusto:O,migipedia:w,ausDerRegion:R},A=v.m.a(a||(a=c()(["\n  &&& {\n    ","\n  }\n"])),(function(e){var t=e.theme.themeId;return x[t]||x.mgb}))},1554:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return u}));var n,o=r(1030),i=r.n(o),s=r(1031),a=r.n(s);!function(e){e.onReviewUpdated="onReviewUpdated",e.onIdeaUpdated="onIdeaUpdated",e.onQuestionUpdated="onQuestionUpdated"}(n||(n={}));var u=function(){function e(){i()(this,e)}return a()(e,null,[{key:"createEvent",value:function(e,t){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!0,!0,t),r}}]),e}()},1684:function(e,t,r){"use strict";const n=r(1230);e.exports=function(e,t="",r=n){const o=new Map,i=new Map;return{clone:function e(t,n,s){let a=t;if(r(t)){a=null;const e=o.get(t);e?e.push(n):o.set(t,[n])}else{const r=Array.isArray(t)||"undefined"!=typeof FileList&&t instanceof FileList,o=t&&t.constructor===Object;if(r||o){const o=i.has(t);if(o?a=i.get(t):(a=r?[]:{},i.set(t,a)),!s.has(t)){const i=n?`${n}.`:"",u=new Set(s).add(t);if(r){let r=0;for(const n of t){const t=e(n,i+r++,u);o||a.push(t)}}else for(const r in t){const n=e(t[r],i+r,u);o||(a[r]=n)}}}}return a}(e,t,new Set),files:o}}},2214:function(e,t,r){"use strict";r.d(t,"a",(function(){return V}));var n,o,i,s,a,u,c,f=r(877),l=r.n(f),h=(r(1133),r(883),r(898)),p=r(881),d=r(905),y=r(1),v=r.n(y),m=r(885),b=r.n(m),g=r(884),E=r.n(g),O=r(1301),w=r(2215),R=r(1382),I=r(893),S=Object(p.g)(n||(n=l()(["\n  margin: 0 ",";\n  font-family: ",";\n"])),(function(e){return e.theme.spacings.xsmall}),(function(e){return e.theme.fonts.families.subHeading})),x=(r(896),Object(p.g)(o||(o=l()(["\n  margin-left: ",";\n  height: 36px;\n  width: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 100%;\n  background-color: ",";\n  font-family: ",";\n  font-weight: ",";\n  color: ",";\n"])),(function(e){return e.theme.spacings.small}),(function(e){return e.theme.colors.tints.gray[25]}),(function(e){return e.theme.fonts.families.text}),(function(e){return e.theme.fonts.weights.bold}),(function(e){return e.theme.colors.brand.accent[100]}))),A=function(e){var t,r=e.averageRating,n=e.count,o=void 0===n?0:n,i=e.link,s=e.showAverageRating,a=e.showCount,u=e.showCountShort,c=e.ratingSize,f=Object(I.a)(),l=b()(f,1)[0];return v.a.createElement(_,null,v.a.createElement(T,{link:i},v.a.createElement(w.a,{ratingRange:5,currentRating:r,size:c})),s&&o>0&&!!r&&v.a.createElement(v.a.Fragment,null,v.a.createElement(T,{link:i},v.a.createElement(j,{role:"img","aria-label":E()(t="".concat(l.t("components.rating.average-rating"),": ")).call(t,Object(R.a)(r))},Object(R.a)(r)))),a&&v.a.createElement(T,{link:i},v.a.createElement(N,null,u?"(".concat(o,")"):l.t("compositions.reviews-summary.review",{count:o},o))))},T=function(e){var t=e.link,r=e.children;return t?v.a.createElement(O.a,{href:t},r):v.a.createElement(v.a.Fragment,null,r)},_=p.m.div(i||(i=l()(["\n  display: flex;\n  align-items: center;\n  line-height: 1;\n"]))),C={migusto:S},L={migipedia:x},j=p.m.span(s||(s=l()(["\n  margin-left: ",";\n  font-family: ",";\n  color: ",";\n\n  ","\n  ","\n"])),(function(e){return e.theme.spacings.small}),(function(e){return e.theme.fonts.families.text}),(function(e){return e.theme.colors.tints.black[90]}),(function(e){var t=e.theme.themeId;return C[t]||""}),(function(e){var t=e.theme.themeId;return L[t]||""})),N=p.m.span(a||(a=l()(["\n  margin-left: ",";\n  font-family: ",";\n\n  ","\n"])),(function(e){return e.theme.spacings.small}),(function(e){return e.theme.fonts.families.condensed}),(function(e){var t=e.theme.themeId;return C[t]||""})),P=r(1007),M=r(897),D=Object(M.a)(u||(u=l()(["\n  query GetSummary($targetIdentifier: String!, $targetType: TargetType!) {\n    targets(where: { identifier: [$targetIdentifier], type: [$targetType] }) {\n      reviewsAggregations: descendantReactionsAggregations(where: { type: REVIEW, deleted: null }) {\n        ... on ReviewAggregations {\n          count: COUNT\n          rating {\n            average: AVG\n          }\n        }\n      }\n    }\n  }\n"]))),U=r(1554),k=r(945),V=function(e){var t=e.env,r=e.webAPIKey,n=e.originSSR,o=e.language,i=e.initialState,s=e.client;Object(I.a)(o);var a=Object(y.useMemo)((function(){return Object(h.isBrowser)()||void 0===s?Object(P.b)({env:t,webAPIKey:r,originSSR:n,language:o,initialState:i}):s}),[t,r,n,o]);return v.a.createElement(d.a.Provider,{value:a},v.a.createElement(G,e))},G=function(e){var t,r,n=e.targetIdentifier,o=e.targetType,i=void 0===o?k.c.PRODUCT:o,s=e.theme,a=e.link,u=e.showAverageRating,c=void 0===u||u,f=e.showCount,l=void 0===f||f,h=e.showCountShort,m=void 0!==h&&h,b=e.ratingSize,g=Object(d.e)(D,{variables:F(n,i)}),E=g.data,O=g.refetch;Object(y.useEffect)((function(){var e=function(e){e.detail.targetIdentifier===n&&e.detail.targetType===i&&O().catch((function(){}))};return document.addEventListener(U.a.onReviewUpdated,e),function(){return document.removeEventListener(U.a.onReviewUpdated,e)}}),[]);var w=(null==E||null===(t=E.targets)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.reviewsAggregations)||{},R=w.rating,I=w.count;return v.a.createElement(p.a,{theme:s},v.a.createElement(B,null,v.a.createElement(A,{averageRating:(null==R?void 0:R.average)||0,count:I,link:a,showAverageRating:c,showCount:l,showCountShort:m,ratingSize:b})))},B=p.m.div(c||(c=l()(["\n  font-size: ",";\n"])),(function(e){return e.theme.fonts.sizes.text.small})),F=function(e,t){return{targetIdentifier:e,targetType:t}}},897:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(889),r(942);var n=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((function(e,t,n){return e+t.toString()+(void 0!==r[n]?r[n]:"").toString()}),"")}},905:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return S})),r.d(t,"c",(function(){return ne})),r.d(t,"d",(function(){return oe})),r.d(t,"e",(function(){return $}));var n=r(1),o=r.n(n),i=r(1229),s=r.n(i),a=r(1230),u=r.n(a),c=r(1684),f=r.n(c),l=Object.prototype.hasOwnProperty;function h(e,t,r){for(r of e.keys())if(p(r,t))return r}function p(e,t){var r,n,o;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&p(e[n],t[n]););return-1===n}if(r===Set){if(e.size!==t.size)return!1;for(n of e){if((o=n)&&"object"==typeof o&&!(o=h(t,o)))return!1;if(!t.has(o))return!1}return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e){if((o=n[0])&&"object"==typeof o&&!(o=h(t,o)))return!1;if(!p(n[1],t.get(o)))return!1}return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return-1===n}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}if(!r||"object"==typeof e){for(r in n=0,e){if(l.call(e,r)&&++n&&!l.call(t,r))return!1;if(!(r in t)||!p(e[r],t[r]))return!1}return Object.keys(t).length===n}}return e!=e&&t!=t}const d=o.a.createContext(null);d.displayName="ClientContext";const y=e=>u()(e)||null!==e&&"object"==typeof e&&"function"==typeof e.pipe||null!==e&&"object"==typeof e&&"function"==typeof e.stream;function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var b=function(){function e(e){var t=this;0===e.length&&e.push((function(e,t){return t()}));for(var r,n=function(){var e,n=r.value;if("function"!=typeof n)throw new Error("GraphQLClient Middleware: middleware has to be of type `function`");t.run=(e=t.run,function(r,o){e(r,(function(){n.apply(t,[r,o.bind.apply(o,[null,r])])}))})},o=m(e);!(r=o()).done;)n()}return e.prototype.run=function(e,t){t.apply(this,e)},e}();var g=Object.defineProperty,E=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,R=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I=(e,t)=>{for(var r in t||(t={}))O.call(t,r)&&R(e,r,t[r]);if(E)for(var r of E(t))w.call(t,r)&&R(e,r,t[r]);return e};class S{constructor(e){if(!e)throw new Error("GraphQLClient: config is required as first parameter");this.fullWsTransport=e.fullWsTransport,"function"==typeof e.subscriptionClient?this.subscriptionClient=e.subscriptionClient():this.subscriptionClient=e.subscriptionClient,this.verifyConfig(e),this.cache=e.cache,this.headers=e.headers||{},this.ssrMode=e.ssrMode,this.ssrPromises=[],this.url=e.url,this.fetch=e.fetch||("undefined"!=typeof fetch&&fetch?fetch.bind(void 0):void 0),this.fetchOptions=e.fetchOptions||{},this.FormData=e.FormData||("undefined"!=typeof FormData?FormData:void 0),this.logErrors=void 0===e.logErrors||e.logErrors,this.onError=e.onError,this.useGETForQueries=!0===e.useGETForQueries,this.middleware=new b(e.middleware||[]),this.mutationsEmitter=new s.a}verifyConfig(e){if(!e.url){if(!this.fullWsTransport)throw new Error("GraphQLClient: config.url is required");if(!this.subscriptionClient)throw new Error("GraphQLClient: subscriptionClient is required")}if(e.fetch&&"function"!=typeof e.fetch)throw new Error("GraphQLClient: config.fetch must be a function");if(("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement||e.ssrMode)&&!e.fetch&&"function"!=typeof fetch)throw new Error("GraphQLClient: fetch must be polyfilled or passed in new GraphQLClient({ fetch })");if(e.ssrMode&&!e.cache)throw new Error("GraphQLClient: config.cache is required when in ssrMode")}setHeader(e,t){return this.headers[e]=t,this}setHeaders(e){return this.headers=e,this}removeHeader(e){return delete this.headers[e],this}logErrorResult({result:e,operation:t}){console.error("GraphQL Hooks Error"),console.groupCollapsed("---\x3e Full Error Details"),console.groupCollapsed("Operation:"),console.log(t),console.groupEnd();const r=e.error;r&&(r.fetchError&&(console.groupCollapsed("FETCH ERROR:"),console.log(r.fetchError),console.groupEnd()),r.httpError&&(console.groupCollapsed("HTTP ERROR:"),console.log(r.httpError),console.groupEnd()),r.graphQLErrors&&r.graphQLErrors.length>0&&(console.groupCollapsed("GRAPHQL ERROR:"),r.graphQLErrors.forEach((e=>console.log(e))),console.groupEnd())),console.groupEnd()}generateResult({fetchError:e,httpError:t,graphQLErrors:r,data:n}){return!!(r&&r.length>0||e||t)?{data:n,error:{fetchError:e,httpError:t,graphQLErrors:r}}:{data:n}}getCacheKey(e,t={}){return{operation:e,fetchOptions:I(I({},this.fetchOptions),t.fetchOptionsOverrides)}}getCache(e){const t=this.cache?this.cache.get(e):null;if(t)return t}saveCache(e,t){this.cache&&this.cache.set(e,t)}getFetchOptions(e,t={}){const r=I(I({method:"POST",headers:I({},this.headers)},this.fetchOptions),t);if("GET"===r.method)return r;const{clone:n,files:o}=f()(e,"",y),i=JSON.stringify(n);if(o.size){if(!this.FormData)throw new Error("GraphQLClient: FormData must be polyfilled or passed in new GraphQLClient({ FormData })");const e=new this.FormData;e.append("operations",i);const t={};let n=0;o.forEach((e=>{t[++n]=e})),e.append("map",JSON.stringify(t)),n=0,o.forEach(((t,r)=>{e.append(""+ ++n,r,r.name)})),r.body=e}else r.headers["Content-Type"]="application/json",r.body=i;return r}request(e,t){const r=[],n=e=>r.push(e);return new Promise(((o,i)=>this.middleware.run({operation:e,client:this,addResponseHook:n,resolve:o,reject:i},(({operation:e})=>{const n=e=>{return r.length>0?(t=r,e=>t.reduce(((e,t)=>e.then(t)),Promise.resolve(e)))(e):e;var t};return this.fullWsTransport?this.requestViaWS(e).then(n).then(o).catch(i):this.url?this.requestViaHttp(e,t).then(n).then(o).catch(i):void i(new Error("GraphQLClient: config.url is required"))}))))}requestViaHttp(e,t={}){let r=this.url;const n=this.getFetchOptions(e,t.fetchOptionsOverrides);if("GET"===n.method){r=r+"?"+Object.entries(e).filter((([,e])=>!!e)).map((([e,t])=>("variables"!==e&&"extensions"!==e||(t=JSON.stringify(t)),`${e}=${encodeURIComponent(t)}`))).join("&")}return this.fetch(r,n).then((e=>e.ok?e.json().then((({errors:r,data:n})=>this.generateResult({graphQLErrors:r,data:"function"==typeof t.responseReducer&&t.responseReducer(n,e)||n}))):e.text().then((t=>{const{status:r,statusText:n}=e;return this.generateResult({httpError:{status:r,statusText:n,body:t}})})))).catch((e=>this.generateResult({fetchError:e}))).then((t=>(t.error&&(this.logErrors&&this.logErrorResult({result:t,operation:e}),this.onError&&this.onError({result:t,operation:e})),t)))}requestViaWS(e){return new Promise(((t,r)=>{let n;try{const o=this.createSubscription(e).subscribe({next:e=>{n=e},error:r,complete:()=>{o.unsubscribe(),t(n)}})}catch(o){r(o)}}))}createSubscription(e){if(!this.subscriptionClient)throw new Error("No SubscriptionClient! Please set in the constructor.");return"function"==typeof this.subscriptionClient.subscribe?{subscribe:t=>({unsubscribe:this.subscriptionClient.subscribe(e,t)})}:this.subscriptionClient.request(e)}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var x=Object.defineProperty,A=Object.defineProperties,T=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,j=(e,t,r)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N=(e,t)=>{for(var r in t||(t={}))C.call(t,r)&&j(e,r,t[r]);if(_)for(var r of _(t))L.call(t,r)&&j(e,r,t[r]);return e},P=(e,t)=>A(e,T(t));const M="RESET_STATE",D="LOADING",U="CACHE_HIT",k="REQUEST_RESULT";function V(e,t){switch(t.type){case M:return t.initialState;case D:return e.error?P(N({},t.initialState),{data:e.data,loading:!0}):e.loading?e:P(N({},e),{loading:!0});case U:return e.cacheHit&&!t.resetState?e:P(N({},t.result),{cacheHit:!0,loading:!1});case k:return P(N({},t.result),{data:e.data&&t.result.data&&t.updateData?t.updateData(e.data,t.result.data):t.result.data,cacheHit:!1,loading:!1});default:return e}}function G(e,t={}){if("string"!=typeof e)throw new Error("Your query must be a string. If you are using the `gql` template literal from graphql-tag, remove it from your query.");const r=o.a.useContext(d),n=t.client||r;if(null==n)throw new Error("A client must be provided in order to use the useClientRequest hook.");const i=o.a.useRef(!0),s=o.a.useRef(null),a={query:e,variables:t.variables,operationName:t.operationName,persisted:t.persisted};(t.persisted||n.useGETForQueries&&!t.isMutation)&&(t.fetchOptionsOverrides=P(N({},t.fetchOptionsOverrides),{method:"GET"}));const u=n.getCacheKey(a,t),c=t.isMutation||t.isManual,f=!t.skipCache&&n.cache&&u?n.cache.get(u):null,l=P(N({},f),{cacheHit:!!f,loading:!c&&!f}),[h,y]=o.a.useReducer(V,l),v=JSON.stringify(u);o.a.useEffect((()=>{t.updateData||y({type:M,initialState:l})}),[v]),o.a.useEffect((()=>(i.current=!0,()=>{i.current=!1})),[]);const m=function(e,t){const r=o.a.useRef();return p(t,r.current)||(r.current=t),o.a.useCallback(e,r.current)}((r=>{const o=N(N({},t),r),u=P(N({},a),{variables:o.variables,operationName:o.operationName});if(!i.current)return Promise.resolve({error:{fetchError:new Error("fetchData should not be called after hook unmounted")},loading:!1,cacheHit:!1});const c=n.getCacheKey(u,o);s.current=c;const f=o.skipCache?null:n.getCache(c);return f?(y({type:U,result:f,resetState:v!==JSON.stringify(h.cacheKey)}),Promise.resolve(f)):(y({type:D,initialState:l}),n.request(u,o).then((r=>{if(o.updateData&&"function"!=typeof o.updateData)throw new Error("options.updateData must be a function");const a=N({},r);if(o.useCache&&(a.useCache=!0,a.cacheKey=c,n.ssrMode)){const e={error:a.error,data:o.updateData?o.updateData(h.data,a.data):a.data};n.saveCache(c,e)}return i.current&&c===s.current&&y({type:k,updateData:o.updateData,result:a}),t.isMutation&&n.mutationsEmitter.emit(e,P(N({},u),{mutation:e,result:a})),r})))}),[n,t,a]);o.a.useEffect((()=>{h.useCache&&!n.ssrMode&&n.saveCache(h.cacheKey,h)}),[n,h]);return[m,h,(e={})=>y({type:M,initialState:N(N({},l),e)})]}var B=Object.defineProperty,F=Object.defineProperties,H=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,W=(e,t,r)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,K=(e,t)=>{for(var r in t||(t={}))Q.call(t,r)&&W(e,r,t[r]);if(q)for(var r of q(t))z.call(t,r)&&W(e,r,t[r]);return e};const J={useCache:!0,skip:!1,throwErrors:!1};function $(e,t={}){const r=K(K({},J),t),n=o.a.useContext(d),i=t.client||n,[s,a]=o.a.useState(!1),[u,c]=G(e,r);if(!i)throw new Error("useQuery() requires a client to be passed in the options or as a context value");if(i.ssrMode&&!1!==t.ssr&&!s&&!t.skipCache&&!t.skip){if(!c.data&&!c.error){const e=u();i.ssrPromises.push(e)}a(!0)}const f=JSON.stringify(r);o.a.useEffect((()=>{r.skip||u()}),[e,f]),o.a.useEffect((()=>{if(c.error&&r.throwErrors)throw c.error}),[c.error,r.throwErrors]);const l=o.a.useCallback(((e={})=>u(K({skipCache:!0,updateData:(e,t)=>t},e))),[u]);return o.a.useEffect((function(){const e=function(e){var t=Array.isArray(e)?e:[e],r={};return t.forEach((function(e){if(null!=e){var t=typeof e;if("string"===t)r[e]={};else if("object"===t){var n=e.filter,o=e.mutation;r[o]={filter:n}}}})),r}(t.refetchAfterMutations),r=Object.keys(e),n=({mutation:t,variables:r})=>{const{filter:n}=e[t];(!n||r&&n(r))&&l()};return r.forEach((e=>{i.mutationsEmitter.on(e,n)})),()=>{r.forEach((e=>{i.mutationsEmitter.removeListener(e,n)}))}}),[t.refetchAfterMutations,l,i.mutationsEmitter]),h=K({},c),F(h,H({refetch:l}));var h}var Y=Object.defineProperty,X=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=(e,t,r)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,re=(e,t)=>{for(var r in t||(t={}))Z.call(t,r)&&te(e,r,t[r]);if(X)for(var r of X(t))ee.call(t,r)&&te(e,r,t[r]);return e};const ne=(e,t={})=>G(e,re({useCache:!0,isManual:!0},t)),oe=(e,t={})=>G(e,re({isMutation:!0},t))},942:function(e,t,r){"use strict";var n=r(900),o=r(1052).PROPER,i=r(980),s=r(953),a=r(1067),u=r(962),c=r(924),f=r(1129),l="toString",h=RegExp.prototype,p=h.toString,d=n(f),y=c((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),v=o&&p.name!=l;(y||v)&&i(RegExp.prototype,l,(function(){var e=s(this),t=u(e.source),r=e.flags;return"/"+t+"/"+u(void 0===r&&a(h,e)&&!("flags"in h)?d(e):r)}),{unsafe:!0})},945:function(e,t,r){"use strict";var n,o,i,s,a,u,c,f,l;r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return l})),function(e){e.IMAGE="IMAGE"}(n||(n={})),function(e){e.TARGET_MENTION="TARGET_MENTION"}(o||(o={})),function(e){e.ASC="ASC",e.DESC="DESC"}(i||(i={})),function(e){e.ANSWER_REVISION="ANSWER_REVISION",e.COMMENT_REVISION="COMMENT_REVISION",e.FLAG_REVISION="FLAG_REVISION",e.HAVE_REVISION="HAVE_REVISION",e.IDEA_REVISION="IDEA_REVISION",e.LIKE_REVISION="LIKE_REVISION",e.MESSAGE_REVISION="MESSAGE_REVISION",e.NOTE_REVISION="NOTE_REVISION",e.QUESTION_REVISION="QUESTION_REVISION",e.REPLY_REVISION="REPLY_REVISION",e.REVIEW_REVISION="REVIEW_REVISION",e.ROOM_REVISION="ROOM_REVISION",e.THREAD_REVISION="THREAD_REVISION",e.VOTE_REVISION="VOTE_REVISION"}(s||(s={})),function(e){e.ANSWER="ANSWER",e.COMMENT="COMMENT",e.FLAG="FLAG",e.HAVE="HAVE",e.IDEA="IDEA",e.LIKE="LIKE",e.MESSAGE="MESSAGE",e.NOTE="NOTE",e.QUESTION="QUESTION",e.REPLY="REPLY",e.REVIEW="REVIEW",e.ROOM="ROOM",e.THREAD="THREAD",e.VOTE="VOTE"}(a||(a={})),function(e){e.ADMIN="ADMIN",e.GUEST="GUEST",e.MODERATOR="MODERATOR",e.SUPER_ADMIN="SUPER_ADMIN",e.UNAUTHENTICATED="UNAUTHENTICATED",e.USER="USER"}(u||(u={})),function(e){e.APPROVED="APPROVED",e.REJECTED="REJECTED",e.SPAM="SPAM",e.UNMODERATED="UNMODERATED"}(c||(c={})),function(e){e.BOARD="BOARD",e.CHAT="CHAT",e.CROWDSOURCING="CROWDSOURCING",e.MANIA_CAMPAIGN="MANIA_CAMPAIGN",e.MANIA_ITEM="MANIA_ITEM",e.MIGROS_SERVICE_PRODUCT="MIGROS_SERVICE_PRODUCT",e.MIGUSTO_ARTICLE="MIGUSTO_ARTICLE",e.MIGUSTO_RECIPE="MIGUSTO_RECIPE",e.PRODUCT="PRODUCT",e.VOTING="VOTING",e.VOTING_OPTION="VOTING_OPTION"}(f||(f={})),function(e){e.MIGROS="MIGROS",e.SYSTEM="SYSTEM",e.ZADUS="ZADUS"}(l||(l={}))},982:function(e,t,r){var n=r(1142),o=r(1039),i=r(1149);e.exports=function(e,t){if(null==e)return{};var r,s,a=i(e,t);if(n){var u=n(e);for(s=0;s<u.length;s++)r=u[s],o(t).call(t,r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},e.exports.default=e.exports,e.exports.__esModule=!0}}]);